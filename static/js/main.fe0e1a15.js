/*! For license information please see main.fe0e1a15.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),d="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=r(t,l(o));var f=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(f,(function(e,t){return c(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case T:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Te(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function je(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ne(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Oe(e,t){return e(t)}function Ce(){}var _e=!1;function Ae(e,t,n){if(_e)return e(t,n);_e=!0;try{return Oe(e,t,n)}finally{_e=!1,(null!==ke||null!==Ee)&&(Ce(),Ne())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ie=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Me(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Ue=null,ze={onError:function(e){Re=!0,Le=e}};function Ve(e,t,n,r,i,o,a,s,l){Re=!1,Le=null,Me.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,kt,Et,Tt,jt=!1,Nt=[],Ot=null,Ct=null,_t=null,At=new Map,Pt=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){jt=!1,null!==Ot&&Ft(Ot)&&(Ot=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==_t&&Ft(_t)&&(_t=null),At.forEach(Ut),Pt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Nt.length){Vt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Vt(Ot,e),null!==Ct&&Vt(Ct,e),null!==_t&&Vt(_t,e),At.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Lt(n),null===n.blockedOn&&It.shift()}var $t=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,o=$t.transition;$t.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,$t.transition=o}}function Ht(e,t,n,r){var i=bt,o=$t.transition;$t.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,$t.transition=o}}function Kt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Rt(Ot,e,t,n,r,i),!0;case"dragenter":return Ct=Rt(Ct,e,t,n,r,i),!0;case"mouseover":return _t=Rt(_t,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Rt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Rt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Yt(e,t,n,r))&&qr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=vi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return En}var jn=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=on(jn),On=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),_n=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(An),In=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Wn(e,t,n,r){je(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Gn(e){Fr(e,0)}function Yn(e){if(K(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Wn(t,Kn,e,xe(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Er={};function Tr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var jr=Tr("animationend"),Nr=Tr("animationiteration"),Or=Tr("animationstart"),Cr=Tr("transitionend"),_r=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){_r.set(e,t),l(t,[e])}for(var Ir=0;Ir<Ar.length;Ir++){var Dr=Ar[Ir];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(jr,"onAnimationEnd"),Pr(Nr,"onAnimationIteration"),Pr(Or,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(o(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=o,i=xe(n),a=[];e:{var s=_r.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case jr:case Nr:case Or:l=yn;break;case Cr:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(a,s,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(qn(s))if(Qn)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Bn=!0)),0<(y=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=Qt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,o))&&a.unshift(Wr(n,l,s)):i||null!=(l=Pe(n,o))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Si=[],ki=-1;function Ei(e){return{current:e}}function Ti(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function ji(e,t){ki++,Si[ki]=e.current,e.current=t}var Ni={},Oi=Ei(Ni),Ci=Ei(!1),_i=Ni;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){Ti(Ci),Ti(Oi)}function Di(e,t,n){if(Oi.current!==Ni)throw Error(o(168));ji(Oi,t),ji(Ci,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,$(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,_i=Oi.current,ji(Oi,e),ji(Ci,Ci.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,_i),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ci),Ti(Oi),ji(Oi,e)):Ti(Ci),ji(Ci,n)}var Fi=null,Ui=!1,zi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,Bi),i}finally{bt=t,zi=!1}}return null}var $i=[],qi=0,Wi=null,Hi=0,Ki=[],Gi=0,Yi=null,Xi=1,Qi="";function Ji(e,t){$i[qi++]=Hi,$i[qi++]=Wi,Wi=e,Hi=t}function Zi(e,t,n){Ki[Gi++]=Xi,Ki[Gi++]=Qi,Ki[Gi++]=Yi,Yi=e;var r=Xi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Qi=o+e}else Xi=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=$i[--qi],$i[qi]=null,Hi=$i[--qi],$i[qi]=null;for(;e===Yi;)Yi=Ki[--Gi],Ki[Gi]=null,Qi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return io&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=yo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=yo(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(M(a))return g(r,o,a,l);vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),So=wo(!1),ko=Ei(null),Eo=null,To=null,jo=null;function No(){jo=To=Eo=null}function Oo(e){var t=ko.current;Ti(ko),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t){Eo=e,jo=To=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(jo!==e)if(e={context:e,memoizedValue:t,next:null},null===To){if(null===Eo)throw Error(o(308));To=e,Eo.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Po=null;function Io(e){null===Po?Po=[e]:Po.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $o(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=d}}function qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Wo={},Ho=Ei(Wo),Ko=Ei(Wo),Go=Ei(Wo);function Yo(e){if(e===Wo)throw Error(o(174));return e}function Xo(e,t){switch(ji(Go,t),ji(Ko,e),ji(Ho,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Ho),ji(Ho,t)}function Qo(){Ti(Ho),Ti(Ko),Ti(Go)}function Jo(e){Yo(Go.current);var t=Yo(Ho.current),n=le(t,e.type);t!==n&&(ji(Ko,e),ji(Ho,n))}function Zo(e){Ko.current===e&&(Ti(Ho),Ti(Ko))}var ea=Ei(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Rl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ea(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ra(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Aa(9,ja.bind(null,n,r,i,t),void 0,null),null===Cl)throw Error(o(349));0!==(30&aa)||Ta(n,t,i)}return i}function Ta(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,Oa(t)&&Ca(e)}function Na(e,t,n){return n((function(){Oa(t)&&Ca(e)}))}function Oa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ca(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function _a(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return ba().memoizedState}function Ia(e,t,n,r){var i=va();sa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Aa(t,n,o,r))}sa.flags|=e,i.memoizedState=Aa(1|t,n,o,r)}function Ma(e,t){return Ia(8390656,8,e,t)}function Ra(e,t){return Da(2048,8,e,t)}function La(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Ua.bind(null,t,e),n)}function Va(){}function Ba(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Rl|=n,e.baseState=!0),t)}function Wa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Ha(){return ba().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Xa(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),Qa(n,t,r)}}function Ga(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Xa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Io(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),Qa(n,t,r))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Xa(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:Ao,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Ao,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ia(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ia(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ia(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:_a,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=_a(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cl)throw Error(o(349));0!==(30&aa)||Ta(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Na.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Cl.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ao,useCallback:Ba,useContext:Ao,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:$a,useReducer:xa,useRef:Pa,useState:function(){return xa(wa)},useDebugValue:Va,useDeferredValue:function(e){return qa(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Ha,unstable_isNewReconciler:!1},ts={readContext:Ao,useCallback:Ba,useContext:Ao,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:$a,useReducer:Sa,useRef:Pa,useState:function(){return Sa(wa)},useDebugValue:Va,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:qa(t,la.memoizedState,e)},useTransition:function(){return[Sa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:Ha,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nc(t,e,r,n),Vo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Ni,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=Pi(t)?_i:Oi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ni),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=Pi(t)?_i:Oi.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),$o(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),ds(0,t)},n}function ps(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?So(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return _o(t,i),r=ga(e,t,n,r,o,i),n=ya(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Ic(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return js(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ji(Il,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ji(Il,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ji(Il,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ji(Il,Pl),Pl|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function js(e,t,n,r,i){var o=Pi(n)?_i:Oi.current;return o=Ai(t,o),_o(t,i),n=ga(e,t,n,r,o,i),r=ya(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ns(e,t,n,r,i){if(Pi(n)){var o=!0;Ri(t)}else o=!1;if(_o(t,i),null===t.stateNode)$s(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Ai(t,c=Pi(n)?_i:Oi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Ro=!1;var h=t.memoizedState;a.state=h,$o(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ci.current||Ro?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Ro||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ai(t,l=Pi(n)?_i:Oi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Ro=!1,h=t.memoizedState,a.state=h,$o(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ci.current||Ro?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Ro||os(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,o,i)}function Os(e,t,n,r,i,o){Ts(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),qs(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Xo(e,t.containerInfo)}function _s(e,t,n,r,i){return po(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var As,Ps,Is,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ji(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Cl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Mo(e,i),nc(r,e,i,-1))}return mc(),Us(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Gi++]=Xi,Ki[Gi++]=Qi,Ki[Gi++]=Yi,Xi=e.id,Qi=e.overflow,Yi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ic(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ic(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Ic(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ji(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Pi(t.type)&&Ii(),Hs(t),null;case 3:return r=t.stateNode,Qo(),Ti(Ci),Ti(Oi),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ps(e,t),Hs(t),null;case 5:Zo(t);var i=Yo(Go.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=Yo(Ho.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Go.current),Yo(Ho.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ti(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return Qo(),Ps(e,t),null===e&&Br(t.stateNode.containerInfo),Hs(t),null;case 10:return Oo(t.type._context),Hs(t),null;case 19:if(Ti(ea),null===(a=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ws(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ws(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ji(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Bl&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Hs(t),null}else 2*Qe()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ea.current,ji(ea,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gs(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qo(),Ti(Ci),Ti(Oi),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ti(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ea),null;case 4:return Qo(),null;case 10:return Oo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Is=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Ho.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hl(e,t,n),Xs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Qe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,ml(t,e),Xs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Js=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=a,(Xs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Js=l):Sl(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Ys=s,Xs=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&il(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ec(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,El=Math.ceil,Tl=w.ReactCurrentDispatcher,jl=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,Ol=0,Cl=null,_l=null,Al=0,Pl=0,Il=Ei(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,Ul=null,zl=null,Vl=0,Bl=1/0,$l=null,ql=!1,Wl=null,Hl=null,Kl=!1,Gl=null,Yl=0,Xl=0,Ql=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Ol)?Qe():-1!==Jl?Jl:Jl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Al?Al&-Al:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Ql=null,Error(o(185));yt(e,n,r),0!==(2&Ol)&&e===Cl||(e===Cl&&(0===(2&Ol)&&(Ll|=n),4===Dl&&sc(e,Al)),rc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(Bl=Qe()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Cl?Al:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),ai((function(){0===(6&Ol)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Ol))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Ol;Ol|=2;var a=pc();for(Cl===e&&Al===t||($l=null,Bl=Qe()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}No(),Tl.current=a,Ol=i,null!==_l?t=0:(Cl=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,Qe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,zl,$l);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vl+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zl,$l),t);break}xc(e,zl,$l);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zl,$l),r);break}xc(e,zl,$l);break;default:throw Error(o(329))}}}return rc(e,Qe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ol))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,$l),rc(e,Qe()),null}function cc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Bl=Qe()+500,Ui&&Bi())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Ol)&&Sc();var t=Ol;Ol|=1;var n=Nl.transition,r=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=r,Nl.transition=n,0===(6&(Ol=t))&&Bi()}}function dc(){Pl=Il.current,Ti(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==_l)for(n=_l.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:Qo(),Ti(Ci),Ti(Oi),ra();break;case 5:Zo(r);break;case 4:Qo();break;case 13:case 19:Ti(ea);break;case 10:Oo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Cl=e,_l=e=Ic(e.current,null),Al=Pl=t,Dl=0,Ml=null,Fl=Ll=Rl=0,zl=Ul=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function fc(e,t){for(;;){var n=_l;try{if(No(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,jl.current=null,null===n||null===n.return){Dl=1,Ml=t,_l=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,fs(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hl||!Hl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,_l===n&&null!==n&&(_l=n=n.return);continue}break}}function pc(){var e=Tl.current;return Tl.current=Ja,null===e?Ja:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Cl||0===(268435455&Rl)&&0===(268435455&Ll)||sc(Cl,Al)}function gc(e,t){var n=Ol;Ol|=2;var r=pc();for(Cl===e&&Al===t||($l=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(No(),Ol=n,Tl.current=r,null!==_l)throw Error(o(261));return Cl=null,Al=0,Dl}function yc(){for(;null!==_l;)bc(_l)}function vc(){for(;null!==_l&&!Ye();)bc(_l)}function bc(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?wc(e):_l=t,jl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Pl)))return void(_l=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(_l=n);if(null===e)return Dl=6,void(_l=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(_l=t);_l=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var r=bt,i=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Gl);if(0!==(6&Ol))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Cl&&(_l=Cl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Cc(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var s=bt;bt=1;var l=Ol;Ol|=4,jl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Xe(),Ol=l,bt=s,Nl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Yl=i),a=e.pendingLanes,0===a&&(Hl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,Bi()}(e,t,n,r)}finally{Nl.transition=i,bt=r}return null}function Sc(){if(null!==Gl){var e=wt(Yl),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&Ol))throw Error(o(331));var i=Ol;for(Ol|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(ol(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Ec(l,l.return,S)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Ol=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Nl.transition=t}}return!1}function kc(e,t,n){e=zo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=zo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>Qe()-Vl?hc(e,0):Fl|=n),rc(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mo(e,t))&&(yt(e,t,n),rc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),jc(e,n)}function Cc(e,t){return Ke(e,t)}function _c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new _c(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Mc(n.children,i,a,t);case E:s=8,i|=8;break;case T:return(e=Ac(12,n,t,2|i)).elementType=T,e.lanes=a,e;case C:return(e=Ac(13,n,t,i)).elementType=C,e.lanes=a,e;case _:return(e=Ac(19,n,t,i)).elementType=_,e.lanes=a,e;case I:return Rc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:s=10;break e;case N:s=9;break e;case O:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Vc(e){if(!e)return Ni;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function Bc(e,t,n,r,i,o,a,s,l){return(e=zc(n,r,!0,e,0,o,0,s,l)).context=Vc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function $c(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,a))&&(nc(e,i,a,o),Vo(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Cs(t),po();break;case 5:Jo(t);break;case 1:Pi(t.type)&&Ri(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ji(ko,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ji(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(ji(ea,1&ea.current),null!==(e=qs(e,t,n))?e.sibling:null);ji(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ji(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return qs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$s(e,t),e=t.pendingProps;var i=Ai(t,Oi.current);_o(t,n),i=ga(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Os(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($s(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===A)return 14}return 2}(r),e=ns(r,e),i){case 0:t=js(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Cs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),$o(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=_s(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=_s(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ji(ko,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ci.current){t=qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Uo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Co(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Co(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_o(t,n),r=r(i=Ao(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Ss(e,t,r,i=ns(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),$s(e,t),t.tag=1,Pi(r)?(e=!0,Ri(t)):e=!1,_o(t,n),as(t,r,i),ls(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=qc(a);s.call(e)}}$c(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=qc(a);o.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=qc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){$c(t,l,n,r)})),l}(n,t,e,i,r);return qc(a)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));$c(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){$c(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Qe()),0===(6&Ol)&&(Bl=Qe()+500,Bi()))}break;case 13:uc((function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},St=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},Et=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=cc,Ce=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,je,Ne,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2794:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(9096);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(a)var b=c?a(v,y,p,t,e,l):a(y,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function w(){var e=i();if(b(e))return x(e);h=setTimeout(w,function(e){var n=t-(e-f);return g?s(n,u-(e-p)):n}(e))}function x(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function S(){var e=i(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(w,t),m?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(w,t),v(f)}return void 0===h&&(h=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},S.flush=function(){return void 0===h?d:x(i())},S}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+O(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(N,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(j(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+O(s=e[c],c);l+=C(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=C(s=s.value,t,i,u=o+O(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=a,p=new r}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(o)var b=l?o(v,y,h,t,e,s):o(y,v,h,e,t,s);if(!(void 0===b?y===v||a(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return x(e)===d}t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isFragment=function(e){return x(e)===o}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),w=v?h:s(e),x=b?h:s(t),S=(w=w==d?f:w)==f,k=(x=x==d?f:x)==f,E=w==x;if(E&&c(e)){if(!c(t))return!1;v=!0,S=!1}if(E&&!S)return y||(y=new r),v||u(e)?i(e,t,n,m,g,y):o(e,t,w,n,m,g,y);if(!(1&n)){var T=S&&p.call(e,"__wrapped__"),j=k&&p.call(t,"__wrapped__");if(T||j){var N=T?e.value():e,O=j?t.value():t;return y||(y=new r),g(N,O,n,m,y)}}return!!E&&(y||(y=new r),a(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var p=o(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,o,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),y=c(o),v=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=d||a&&w(new a)!=h||s&&w(new s)!=f)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case v:return h;case b:return f}return t}),e.exports=w},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,I(S);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(j),j=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,T=null,j=-1,N=5,O=-1;function C(){return!(t.unstable_now()-O<N)}function _(){if(null!==T){var e=t.unstable_now();O=e;var n=!0;try{n=T(!0,e)}finally{n?k():(E=!1,T=null)}}else E=!1}if("function"===typeof b)k=function(){b(_)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=_,k=function(){P.postMessage(null)}}else k=function(){y(_,0)};function I(e){T=e,E||(E=!0,k())}function D(e,n){j=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(j),j=-1):g=!0,D(x,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,I(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,o,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?O(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=a,l=c.length),o>(l=(a=Math.ceil(h/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/p|0,c[o]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?O(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function w(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=T(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=T(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return x(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return O(x(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return k(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=x(j(n,a),j(e,a),a),s=!0,O(t,o))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):O(new r(n),i)},y.naturalExponential=y.exp=function(){return S(this)},y.naturalLogarithm=y.ln=function(){return j(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):C(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=k(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,o,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=k(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=w(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(x(c,o,a+2)).times(.5),w(o.d).slice(0,a)===(t=w(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(O(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,O(r,n)},y.times=y.mul=function(e){var t,n,r,i,o,a,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(o=f,f=m,m=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=o[i]+m[r]*f[i-r-1]+t,o[i--]=l%p|0,t=l/p|0;o[i]=(o[i]+t)%p|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?O(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),O(n,e+k(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=_(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=_(r=O(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?_(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=_((r=O(new a(i),e+k(i)+1,t)).abs(),!1,e+k(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return O(new t(e),k(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,o,a,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return O(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=f<0?-f:f)<=m){for(o=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&A((o=o.times(u)).d,t),0!==(n=d(n/2));)A((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(o):O(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(j(u,r+12)),s=!0,(o=S(o)).s=a,o},y.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=_(i,(n=k(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=_(i=O(new a(i),e,t),e<=(n=k(i))||n<=a.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),O(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=k(e),n=e.constructor;return _(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,u,d,h,f,m,g,y,v,b,w,x,S,E,T,j,N,C=r.constructor,_=r.s==i.s?1:-1,A=r.d,P=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,j=P.length,E=A.length,g=(m=new C(_)).d=[],u=0;P[u]==(A[u]||0);)++u;if(P[u]>(A[u]||0)&&--c,(w=null==o?o=C.precision:a?o+(k(r)-k(i))+1:o)<0)return new C(0);if(w=w/7+2|0,u=0,1==j)for(d=0,P=P[0],w++;(u<E||d)&&w--;u++)x=d*p+(A[u]||0),g[u]=x/P|0,d=x%P|0;else{for((d=p/(P[0]+1)|0)>1&&(P=e(P,d),A=e(A,d),j=P.length,E=A.length),S=j,v=(y=A.slice(0,j)).length;v<j;)y[v++]=0;(N=P.slice()).unshift(0),T=P[0],P[1]>=p/2&&++T;do{d=0,(s=t(P,y,j,v))<0?(b=y[0],j!=v&&(b=b*p+(y[1]||0)),(d=b/T|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(P,d),y,f=h.length,v=y.length))&&(d--,n(h,j<f?N:P,f))):(0==d&&(s=d=1),h=P.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(P,y,j,v=y.length))<1&&(d++,n(y,j<v?N:P,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=A[S]||0:(y=[A[S]],v=1)}while((S++<E||void 0!==y[0])&&w--)}return g[0]||g.shift(),m.e=c,O(m,a?o+k(m)+1:o)}}();function S(e,t){var n,r,o,a,l,c=0,d=0,f=e.constructor,p=f.precision;if(k(e)>16)throw Error(u+k(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new f(i),f.precision=l;;){if(r=O(r.times(e),l),n=n.times(++c),w((a=o.plus(x(r,n,l))).d).slice(0,l)===w(o.d).slice(0,l)){for(;d--;)o=O(o.times(o),l);return f.precision=p,null==t?(s=!0,O(o,p)):o}o=a}}function k(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function T(e){for(var t="";e--;)t+="0";return t}function j(e,t){var n,r,o,a,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),E(y,h);if(h+=10,y.precision=h,r=(n=w(g)).charAt(0),a=k(m),!(Math.abs(a)<15e14))return d=E(y,h+2,v).times(a+""),m=j(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,O(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((m=m.times(e)).d)).charAt(0),p++;for(a=k(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),u=c=m=x(m.minus(i),m.plus(i),h),f=O(m.times(m),h),o=3;;){if(c=O(c.times(f),h),w((d=u.plus(x(c,new y(o),h))).d).slice(0,h)===w(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(E(y,h+2,v).times(a+""))),u=x(u,new y(p),h),y.precision=v,null==t?(s=!0,O(u,v)):u;u=d,o+=2}}function N(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,n){var r,i,o,a,l,c,f,m,y=e.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=y.length))return e;for(f=o=y[m],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=f/(o=h(10,a-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,a-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(o=k(e),y.length=1,t=t-o-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,o=1,m--):(y.length=m+1,o=h(10,7-r),y[m]=i>0?(f/h(10,a-i)%h(10,i)|0)*o:0),c)for(;;){if(0==m){(y[0]+=o)==p&&(y[0]=1,++e.e);break}if(y[m]+=o,y[m]!=p)break;y[m--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+k(e));return e}function C(e,t){var n,r,i,o,a,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?O(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((d=a<0)?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(o=i;o&&0===c[--o];)c[o]=p-1;--c[o],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?O(t,m):t):new f(0)}function _(e,t,n){var r,i=k(e),o=w(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+T(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+T(-i-1)+o,n&&(r=n-a)>0&&(o+=T(r))):i>=a?(o+=T(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+T(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=T(r))),e.s<0?"-"+o:o}function A(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):N(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);N(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9364:(e,t,n)=>{var r=n(9742),i=n(9096),o=n(61);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),o):void 0}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".350a4fac.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-routine-app-new:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/MY-APP-V2/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkmy_routine_app_new=self.webpackChunkmy_routine_app_new||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>iI,scaleDiverging:()=>MF,scaleDivergingLog:()=>RF,scaleDivergingPow:()=>FF,scaleDivergingSqrt:()=>UF,scaleDivergingSymlog:()=>LF,scaleIdentity:()=>CM,scaleImplicit:()=>nI,scaleLinear:()=>OM,scaleLog:()=>FM,scaleOrdinal:()=>rI,scalePoint:()=>aI,scalePow:()=>KM,scaleQuantile:()=>oR,scaleQuantize:()=>aR,scaleRadial:()=>XM,scaleSequential:()=>OF,scaleSequentialLog:()=>CF,scaleSequentialPow:()=>AF,scaleSequentialQuantile:()=>IF,scaleSequentialSqrt:()=>PF,scaleSequentialSymlog:()=>_F,scaleSqrt:()=>GM,scaleSymlog:()=>BM,scaleThreshold:()=>sR,scaleTime:()=>EF,scaleUtc:()=>TF,tickFormat:()=>jM});var t,r=n(5043),i=n.t(r,2),o=n(4391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,f=o.history,p=t.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function v(){p=t.Pop;let e=y(),n=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:h(e);return l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(a({},f.state,{idx:g}),""));let w={get action(){return p},get location(){return e(o,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(s,v),m=e,()=>{o.removeEventListener(s,v),m=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=d(w.location,e,n);r&&r(i,e),g=y()+1;let a=u(i,g),s=w.createHref(i);try{f.pushState(a,"",s)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;o.location.assign(s)}c&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,n){p=t.Replace;let i=d(w.location,e,n);r&&r(i,e),g=y();let o=u(i,g),a=w.createHref(i);f.replaceState(o,"",a),c&&m&&m({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){void 0===n&&(n="/");let r=_(("string"===typeof t?f(t):t).pathname||"/",n);if(null==r)return null;let i=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=N(i[a],C(r));return o}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=M([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),y(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:j(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=v(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:[\w-]+$/,w=3,x=2,S=1,k=10,E=-2,T=e=>"*"===e;function j(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=E),t&&(r+=x),n.filter((e=>!T(e))).reduce(((e,t)=>e+(b.test(t)?w:""===t?S:k)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:M([i,c.pathname]),pathnameBase:R(M([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=M([i,c.pathnameBase]))}return o}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return c(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function C(e){try{return decodeURI(e)}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function I(e,t){let n=P(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function D(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=a({},e),l(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let o,s=""===e||""===i.pathname,c=s?"/":i.pathname;if(null==c)o=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:L(r),hash:F(i)}}(i,o),d=c&&"/"!==c&&c.endsWith("/"),h=(s||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],V=(new Set(z),["get",...z]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const $=r.createContext(null);const q=r.createContext(null);const W=r.createContext(null);const H=r.createContext(null);const K=r.createContext({outlet:null,matches:[],isDataRoute:!1});const G=r.createContext(null);function Y(){return null!=r.useContext(H)}function X(){return Y()||l(!1),r.useContext(H).location}function Q(e){r.useContext(W).static||r.useLayoutEffect(e)}function J(){let{isDataRoute:e}=r.useContext(K);return e?function(){let{router:e}=le(ae.UseNavigateStable),t=ue(se.UseNavigateStable),n=r.useRef(!1);Q((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,B({fromRouteId:t},i)))}),[e,t]);return i}():function(){Y()||l(!1);let e=r.useContext($),{basename:t,future:n,navigator:i}=r.useContext(W),{matches:o}=r.useContext(K),{pathname:a}=X(),s=JSON.stringify(I(o,n.v7_relativeSplatPath)),c=r.useRef(!1);Q((()=>{c.current=!0}));let u=r.useCallback((function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void i.go(n);let o=D(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:M([t,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[t,i,s,a,e]);return u}()}function Z(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(W),{matches:o}=r.useContext(K),{pathname:a}=X(),s=JSON.stringify(I(o,i.v7_relativeSplatPath));return r.useMemo((()=>D(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function ee(e,n,i,o){Y()||l(!1);let{navigator:a}=r.useContext(W),{matches:s}=r.useContext(K),c=s[s.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,p=X();if(n){var m;let e="string"===typeof n?f(n):n;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||l(!1),h=e}else h=p;let y=h.pathname||"/",v=g(e,{pathname:"/"===d?y:y.slice(d.length)||"/"});let b=oe(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,i,o);return n&&b?r.createElement(H.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},b):b}function te(){let e=function(){var e;let t=r.useContext(G),n=ce(se.UseRouteError),i=ue(se.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const ne=r.createElement(te,null);class re extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(K.Provider,{value:this.props.routeContext},r.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext($);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(K.Provider,{value:t},i)}function oe(e,t,n,i){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let s=e,c=null==(o=n)?void 0:o.errors;if(null!=c){let e=s.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,l=!1,h=null,f=null;var p;n&&(a=c&&i.route.id?c[i.route.id]:void 0,h=i.route.errorElement||ne,u&&(d<0&&0===o?(p="route-fallback",!1||de[p]||(de[p]=!0),l=!0,f=null):d===o&&(l=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?h:l?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(ie,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(re,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),se=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(se||{});function le(e){let t=r.useContext($);return t||l(!1),t}function ce(e){let t=r.useContext(q);return t||l(!1),t}function ue(e){let t=function(){let e=r.useContext(K);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const de={};i.startTransition;function he(e){let{to:t,replace:n,state:i,relative:o}=e;Y()||l(!1);let{future:a,static:s}=r.useContext(W),{matches:c}=r.useContext(K),{pathname:u}=X(),d=J(),h=D(t,I(c,a.v7_relativeSplatPath),u,"path"===o),f=JSON.stringify(h);return r.useEffect((()=>d(JSON.parse(f),{replace:n,state:i,relative:o})),[d,f,o,n,i]),null}function fe(e){l(!1)}function pe(e){let{basename:n="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:s,static:c=!1,future:u}=e;Y()&&l(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:d,navigator:s,static:c,future:B({v7_relativeSplatPath:!1},u)})),[d,u,s,c]);"string"===typeof o&&(o=f(o));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:v="default"}=o,b=r.useMemo((()=>{let e=_(p,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:a}}),[d,p,m,g,y,v,a]);return null==b?null:r.createElement(W.Provider,{value:h},r.createElement(H.Provider,{children:i,value:b}))}function me(e){let{children:t,location:n}=e;return ee(ge(t),n)}new Promise((()=>{}));r.Component;function ge(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ge(e.props.children,o));e.type!==fe&&l(!1),e.props.index&&e.props.children&&l(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ge(e.props.children,o)),n.push(a)})),n}var ye=n(7950),ve=n.t(ye,2);function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const xe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(xY){}new Map;const Se=i.startTransition;ve.flushSync,i.useId;function ke(e){let{basename:t,children:n,future:i,window:o}=e,a=r.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),p((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=f(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:h(t))}),(function(e,t){c("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let l=a.current,[u,m]=r.useState({action:l.action,location:l.location}),{v7_startTransition:g}=i||{},y=r.useCallback((e=>{g&&Se?Se((()=>m(e))):m(e)}),[m,g]);return r.useLayoutEffect((()=>l.listen(y)),[l,y]),r.createElement(pe,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:i})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=r.forwardRef((function(e,t){let n,{onClick:i,relative:o,reloadDocument:a,replace:s,state:c,target:u,to:d,preventScrollReset:f,unstable_viewTransition:p}=e,m=we(e,xe),{basename:g}=r.useContext(W),y=!1;if("string"===typeof d&&Te.test(d)&&(n=d,Ee))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=_(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(xY){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Y()||l(!1);let{basename:i,navigator:o}=r.useContext(W),{hash:a,pathname:s,search:c}=Z(e,{relative:n}),u=s;return"/"!==i&&(u="/"===s?i:M([i,s])),o.createHref({pathname:u,search:c,hash:a})}(d,{relative:o}),b=function(e,t){let{target:n,replace:i,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:l}=void 0===t?{}:t,c=J(),u=X(),d=Z(e,{relative:s});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:h(u)===h(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:l})}}),[u,c,d,i,o,n,e,a,s,l])}(d,{replace:s,state:c,target:u,preventScrollReset:f,relative:o,unstable_viewTransition:p});return r.createElement("a",be({},m,{href:n||v,onClick:y||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Ne,Oe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ne||(Ne={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));const Ce="undefined"!==typeof document,_e=Ce?r.useLayoutEffect:r.useEffect;function Ae(){const e=(0,r.useRef)(!1);return _e((()=>(e.current=!0,()=>{e.current=!1})),[]),e}const Pe=e=>e;class Ie{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const De=["prepare","read","update","preRender","render","postRender"];const{schedule:Me,cancel:Re,state:Le,steps:Fe}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=De.reduce(((e,t)=>(e[t]=function(e){let t=new Ie,n=new Ie,r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:function(e){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),s.add(e)&&o&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(s.schedule(r),e())}i=!1,o&&(o=!1,s.process(l))}}};return s}((()=>n=!0)),e)),{}),a=e=>o[e].process(i),s=()=>{const o=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,De.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(s))},l=De.reduce(((t,a)=>{const l=o[a];return t[a]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(s)),l.schedule(t,o,a)},t}),{});return{schedule:l,cancel:e=>De.forEach((t=>o[t].cancel(e))),state:i,steps:o}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Pe,!0);const Ue=(0,r.createContext)(null);function ze(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}class Ve extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Be(e){let{children:t,isPresent:n}=e;const i=(0,r.useId)(),o=(0,r.useRef)(null),a=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)((()=>{const{width:e,height:t,top:r,left:s}=a.current;if(n||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${i}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${r}px !important;\n            left: ${s}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[n]),r.createElement(Ve,{isPresent:n,childRef:o,sizeRef:a},r.cloneElement(t,{ref:o}))}const $e=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:o,custom:a,presenceAffectsLayout:s,mode:l}=e;const c=ze(qe),u=(0,r.useId)(),d=(0,r.useMemo)((()=>({id:u,initial:n,isPresent:i,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;o&&o()},register:e=>(c.set(e,!1),()=>c.delete(e))})),s?void 0:[i]);return(0,r.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[i]),r.useEffect((()=>{!i&&!c.size&&o&&o()}),[i]),"popLayout"===l&&(t=r.createElement(Be,{isPresent:i},t)),r.createElement(Ue.Provider,{value:d},t)};function qe(){return new Map}const We=(0,r.createContext)({});let He=Pe,Ke=Pe;const Ge=e=>e.key||"";const Ye=e=>{let{children:t,custom:n,initial:i=!0,onExitComplete:o,exitBeforeEnter:a,presenceAffectsLayout:s=!0,mode:l="sync"}=e;Ke(!a,"Replace exitBeforeEnter with mode='wait'");const c=(0,r.useContext)(We).forceRender||function(){const e=Ae(),[t,n]=(0,r.useState)(0),i=(0,r.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,r.useCallback)((()=>Me.postRender(i)),[i]),t]}()[0],u=Ae(),d=function(e){const t=[];return r.Children.forEach(e,(e=>{(0,r.isValidElement)(e)&&t.push(e)})),t}(t);let h=d;const f=(0,r.useRef)(new Map).current,p=(0,r.useRef)(h),m=(0,r.useRef)(new Map).current,g=(0,r.useRef)(!0);var y;if(_e((()=>{g.current=!1,function(e,t){e.forEach((e=>{const n=Ge(e);t.set(n,e)}))}(d,m),p.current=h})),y=()=>{g.current=!0,m.clear(),f.clear()},(0,r.useEffect)((()=>()=>y()),[]),g.current)return r.createElement(r.Fragment,null,h.map((e=>r.createElement($e,{key:Ge(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:s,mode:l},e))));h=[...h];const v=p.current.map(Ge),b=d.map(Ge),w=v.length;for(let r=0;r<w;r++){const e=v[r];-1!==b.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(h=[]),f.forEach(((e,t)=>{if(-1!==b.indexOf(t))return;const i=m.get(t);if(!i)return;const a=v.indexOf(t);let g=e;if(!g){const e=()=>{m.delete(t),f.delete(t);const e=p.current.findIndex((e=>e.key===t));if(p.current.splice(e,1),!f.size){if(p.current=d,!1===u.current)return;c(),o&&o()}};g=r.createElement($e,{key:Ge(i),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:s,mode:l},i),f.set(t,g)}h.splice(a,0,g)})),h=h.map((e=>{const t=e.key;return f.has(t)?e:r.createElement($e,{key:Ge(e),isPresent:!0,presenceAffectsLayout:s,mode:l},e)})),r.createElement(r.Fragment,null,f.size?h:h.map((e=>(0,r.cloneElement)(e))))},Xe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Qe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Je;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ze=function(e){return function(e){const t=Xe(e);return Qe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},et=function(e){try{return Qe.decodeString(e,!0)}catch(xY){console.error("base64Decode failed: ",xY)}return null};const tt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,nt=()=>{try{return tt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/MY-APP-V2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(xY){return}const t=e&&et(e[1]);return t&&JSON.parse(t)})()}catch(xY){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${xY}`)}},rt=e=>{var t,n;return null===(n=null===(t=nt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},it=()=>{var e;return null===(e=nt())||void 0===e?void 0:e.config},ot=e=>{var t;return null===(t=nt())||void 0===t?void 0:t[`_${e}`]};class at{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function st(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function lt(){return!function(){var e;const t=null===(e=nt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(xY){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ct(){try{return"object"===typeof indexedDB}catch(xY){return!1}}function ut(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class dt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ht.prototype.create)}}class ht{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(ft,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new dt(n,o,t)}}const ft=/\{\$([^}]+)}/g;function pt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(mt(n)&&mt(o)){if(!pt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mt(e){return null!==e&&"object"===typeof e}function gt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function yt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function vt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class bt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=wt),void 0===r.error&&(r.error=wt),void 0===r.complete&&(r.complete=wt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(xY){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(xY){"undefined"!==typeof console&&console.error&&console.error(xY)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function wt(){}function xt(e){return e&&e._delegate?e._delegate:e}class St{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kt="[DEFAULT]";class Et{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new at;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(xY){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(xY){if(r)return null;throw xY}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kt})}catch(xY){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(xY){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===kt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return this.component?this.component.multipleInstances?e:kt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Et(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const jt=[];var Nt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Nt||(Nt={}));const Ot={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},Ct=Nt.INFO,_t={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},At=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=_t[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...o)};class Pt{constructor(e){this.name=e,this._logLevel=Ct,this._logHandler=At,this._userLogHandler=null,jt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ot[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}let It,Dt;const Mt=new WeakMap,Rt=new WeakMap,Lt=new WeakMap,Ft=new WeakMap,Ut=new WeakMap;let zt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Rt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Lt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $t(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Vt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dt||(Dt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qt(this),n),$t(Mt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $t(e.apply(qt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(qt(this),t,...r);return Lt.set(o,t.sort?t.sort():[t]),$t(o)}}function Bt(e){return"function"===typeof e?Vt(e):(e instanceof IDBTransaction&&function(e){if(Rt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Rt.set(e,t)}(e),((e,t)=>t.some((t=>e instanceof t)))(e,It||(It=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,zt):e)}function $t(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t($t(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Mt.set(t,e)})).catch((()=>{})),Ut.set(t,e),t}(e);if(Ft.has(e))return Ft.get(e);const t=Bt(e);return t!==e&&(Ft.set(e,t),Ut.set(t,e)),t}const qt=e=>Ut.get(e);function Wt(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=$t(a);return r&&a.addEventListener("upgradeneeded",(e=>{r($t(a.result),e.oldVersion,e.newVersion,$t(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}function Ht(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),$t(n).then((()=>{}))}const Kt=["get","getKey","getAll","getAllKeys","count"],Gt=["put","add","delete","clear"],Yt=new Map;function Xt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Yt.get(t))return Yt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Gt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Kt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Yt.set(t,o),o}zt=(e=>({...e,get:(t,n,r)=>Xt(t,n)||e.get(t,n,r),has:(t,n)=>!!Xt(t,n)||e.has(t,n)}))(zt);class Qt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Jt="@firebase/app",Zt="0.11.2",en=new Pt("@firebase/app"),tn="@firebase/app-compat",nn="@firebase/analytics-compat",rn="@firebase/analytics",on="@firebase/app-check-compat",an="@firebase/app-check",sn="@firebase/auth",ln="@firebase/auth-compat",cn="@firebase/database",un="@firebase/data-connect",dn="@firebase/database-compat",hn="@firebase/functions",fn="@firebase/functions-compat",pn="@firebase/installations",mn="@firebase/installations-compat",gn="@firebase/messaging",yn="@firebase/messaging-compat",vn="@firebase/performance",bn="@firebase/performance-compat",wn="@firebase/remote-config",xn="@firebase/remote-config-compat",Sn="@firebase/storage",kn="@firebase/storage-compat",En="@firebase/firestore",Tn="@firebase/vertexai",jn="@firebase/firestore-compat",Nn="firebase",On="[DEFAULT]",Cn={[Jt]:"fire-core",[tn]:"fire-core-compat",[rn]:"fire-analytics",[nn]:"fire-analytics-compat",[an]:"fire-app-check",[on]:"fire-app-check-compat",[sn]:"fire-auth",[ln]:"fire-auth-compat",[cn]:"fire-rtdb",[un]:"fire-data-connect",[dn]:"fire-rtdb-compat",[hn]:"fire-fn",[fn]:"fire-fn-compat",[pn]:"fire-iid",[mn]:"fire-iid-compat",[gn]:"fire-fcm",[yn]:"fire-fcm-compat",[vn]:"fire-perf",[bn]:"fire-perf-compat",[wn]:"fire-rc",[xn]:"fire-rc-compat",[Sn]:"fire-gcs",[kn]:"fire-gcs-compat",[En]:"fire-fst",[jn]:"fire-fst-compat",[Tn]:"fire-vertex","fire-js":"fire-js",[Nn]:"fire-js-all"},_n=new Map,An=new Map,Pn=new Map;function In(e,t){try{e.container.addComponent(t)}catch(xY){en.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,xY)}}function Dn(e){const t=e.name;if(Pn.has(t))return en.debug(`There were multiple attempts to register component ${t}.`),!1;Pn.set(t,e);for(const n of _n.values())In(n,e);for(const n of An.values())In(n,e);return!0}function Mn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Rn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Ln=new ht("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Fn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new St("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}const Un="11.4.0";function zn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:On,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ln.create("bad-app-name",{appName:String(i)});if(n||(n=it()),!n)throw Ln.create("no-options");const o=_n.get(i);if(o){if(pt(n,o.options)&&pt(r,o.config))return o;throw Ln.create("duplicate-app",{appName:i})}const a=new Tt(i);for(const l of Pn.values())a.addComponent(l);const s=new Fn(n,r,a);return _n.set(i,s),s}function Vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On;const t=_n.get(e);if(!t&&e===On&&it())return zn();if(!t)throw Ln.create("no-app",{appName:e});return t}function Bn(e,t,n){var r;let i=null!==(r=Cn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void en.warn(e.join(" "))}Dn(new St(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const $n="firebase-heartbeat-store";let qn=null;function Wn(){return qn||(qn=Wt("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore($n)}catch(xY){console.warn(xY)}}}).catch((e=>{throw Ln.create("idb-open",{originalErrorMessage:e.message})}))),qn}async function Hn(e,t){try{const n=(await Wn()).transaction($n,"readwrite"),r=n.objectStore($n);await r.put(t,Kn(e)),await n.done}catch(xY){if(xY instanceof dt)en.warn(xY.message);else{const t=Ln.create("idb-set",{originalErrorMessage:null===xY||void 0===xY?void 0:xY.message});en.warn(t.message)}}}function Kn(e){return`${e.name}!${e.options.appId}`}class Gn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Yn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(xY){en.warn(xY)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Yn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Qn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ze(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(xY){return en.warn(xY),""}}}function Yn(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ct()&&ut().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Wn()).transaction($n),n=await t.objectStore($n).get(Kn(e));return await t.done,n}catch(xY){if(xY instanceof dt)en.warn(xY.message);else{const t=Ln.create("idb-get",{originalErrorMessage:null===xY||void 0===xY?void 0:xY.message});en.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Hn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Hn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Qn(e){return Ze(JSON.stringify({version:2,heartbeats:e})).length}var Jn;Jn="",Dn(new St("platform-logger",(e=>new Qt(e)),"PRIVATE")),Dn(new St("heartbeat",(e=>new Gn(e)),"PRIVATE")),Bn(Jt,Zt,Jn),Bn(Jt,Zt,"esm2017"),Bn("fire-js","");function Zn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function er(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tr=er,nr=new ht("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rr=new Pt("@firebase/auth");function ir(e){if(rr.logLevel<=Nt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];rr.error(`Auth (${Un}): ${e}`,...n)}}function or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ur(e,...n)}function ar(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ur(e,...n)}function sr(e,t,n){const r=Object.assign(Object.assign({},tr()),{[t]:n});return new ht("auth","Firebase",r).create(t,{appName:e.name})}function lr(e){return sr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&or(e,"argument-error"),sr(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return nr.create(e,...n)}function dr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ur(t,...r)}}function hr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ir(t),new Error(t)}function fr(e,t){e||hr(t)}function pr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function mr(){return"http:"===gr()||"https:"===gr()}function gr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function yr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(mr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class vr{constructor(e,t){this.shortDelay=e,this.longDelay=t,fr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return yr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function br(e,t){fr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class wr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Sr=new vr(3e4,6e4);function kr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Er(e,t,n,r){return Tr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=gt(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),wr.fetch()(Nr(e,e.config.apiHost,n,a),l)}))}async function Tr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},xr),t);try{const t=new Cr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw _r(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw _r(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw _r(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw _r(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw sr(e,s,a);or(e,s)}}catch(xY){if(xY instanceof dt)throw xY;or(e,"network-request-failed",{message:String(xY)})}}async function jr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Er(e,t,n,r,i);return"mfaPendingCredential"in o&&or(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Nr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?br(e.config,i):`${e.config.apiScheme}://${i}`}function Or(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ar(this.auth,"network-request-failed"))),Sr.get())}))}}function _r(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ar(e,t,r);return i.customData._tokenResponse=n,i}function Ar(e){return void 0!==e&&void 0!==e.enterprise}class Pr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Or(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ir(e,t){return Er(e,"GET","/v2/recaptchaConfig",kr(e,t))}async function Dr(e,t){return Er(e,"POST","/v1/accounts:lookup",t)}function Mr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(xY){}}function Rr(e){return 1e3*Number(e)}function Lr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ir("JWT malformed, contained fewer than 3 sections"),null;try{const e=et(n);return e?JSON.parse(e):(ir("Failed to decode base64 JWT payload"),null)}catch(xY){return ir("Caught error parsing JWT payload as JSON",null===xY||void 0===xY?void 0:xY.toString()),null}}function Fr(e){const t=Lr(e);return dr(t,"internal-error"),dr("undefined"!==typeof t.exp,"internal-error"),dr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ur(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(xY){throw xY instanceof dt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(xY)&&e.auth.currentUser===e&&await e.auth.signOut(),xY}}class zr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(xY){return void("auth/network-request-failed"===(null===xY||void 0===xY?void 0:xY.code)&&this.schedule(!0))}this.schedule()}}class Vr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mr(this.lastLoginAt),this.creationTime=Mr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Br(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ur(e,Dr(n,{idToken:r}));dr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?$r(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Vr(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function $r(e){return e.map((e=>{var{providerId:t}=e,n=Zn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dr(e.idToken,"internal-error"),dr("undefined"!==typeof e.idToken,"internal-error"),dr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Fr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){dr(0!==e.length,"internal-error");const t=Fr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(dr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Tr(e,{},(async()=>{const n=gt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Nr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wr.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new qr;return n&&(dr("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(dr("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(dr("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qr,this.toJSON())}_performRefresh(){return hr("not implemented")}}function Wr(e,t){dr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Hr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Zn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ur(this,this.stsTokenManager.getToken(this.auth,e));return dr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=xt(e),r=await n.getIdToken(t),i=Lr(r);dr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Mr(Rr(i.auth_time)),issuedAtTime:Mr(Rr(i.iat)),expirationTime:Mr(Rr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=xt(e);await Br(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(dr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){dr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Br(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await Ur(this,async function(e,t){return Er(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;dr(v&&S,e,"internal-error");const k=qr.fromJSON(this.name,S);dr("string"===typeof v,e,"internal-error"),Wr(u,e.name),Wr(d,e.name),dr("boolean"===typeof b,e,"internal-error"),dr("boolean"===typeof w,e,"internal-error"),Wr(h,e.name),Wr(f,e.name),Wr(p,e.name),Wr(m,e.name),Wr(g,e.name),Wr(y,e.name);const E=new Hr({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new qr;r.updateFromServerResponse(t);const i=new Hr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Br(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];dr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?$r(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new qr;a.updateFromIdToken(n);const s=new Hr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Vr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Kr=new Map;function Gr(e){fr(e instanceof Function,"Expected a class definition");let t=Kr.get(e);return t?(fr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Kr.set(e,t),t)}class Yr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yr.type="NONE";const Xr=Yr;function Qr(e,t,n){return`firebase:${e}:${t}:${n}`}class Jr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Qr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Qr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Jr(Gr(Xr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Gr(Xr);const o=Qr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Hr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Jr(i,e,n)):new Jr(i,e,n)}}function Zr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ri(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ei(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oi(t))return"Blackberry";if(ai(t))return"Webos";if(ti(t))return"Safari";if((t.includes("chrome/")||ni(t))&&!t.includes("edge/"))return"Chrome";if(ii(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/firefox\//i.test(e)}function ti(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:st()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/crios\//i.test(e)}function ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/iemobile/i.test(e)}function ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/android/i.test(e)}function oi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/blackberry/i.test(e)}function ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/webos/i.test(e)}function si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function li(){return function(){const e=st();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st();return si(e)||ii(e)||ai(e)||oi(e)||/windows phone/i.test(e)||ri(e)}function ui(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Zr(st());break;case"Worker":t=`${Zr(st())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Un}/${r}`}class di{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(xY){r(xY)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(xY){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===xY||void 0===xY?void 0:xY.message})}}}class hi{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class fi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mi(this),this.idTokenSubscription=new mi(this),this.beforeStateQueue=new di(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Jr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(xY){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Dr(this,{idToken:e}),n=await Hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(xY){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(xY)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return dr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(xY){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Br(e)}catch(xY){if("auth/network-request-failed"!==(null===xY||void 0===xY?void 0:xY.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(lr(this));const t=e?xt(e):null;return t&&dr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&dr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Rn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(lr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Gr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Er(e,"GET","/v2/passwordPolicy",kr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new hi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ht("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Er(e,"POST","/v2/accounts:revokeToken",kr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gr(e)||this._popupRedirectResolver;dr(t,this,"argument-error"),this.redirectPersistenceManager=await Jr.create(this,[Gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(dr(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ui(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(rr.logLevel<=Nt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];rr.warn(`Auth (${Un}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function pi(e){return xt(e)}class mi{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new bt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return dr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yi(e){return gi.loadJS(e)}function vi(e){return`__${e}${Math.floor(1e6*Math.random())}`}class bi{constructor(){this.enterprise=new wi}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wi{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xi="NO_RECAPTCHA";class Si{constructor(e){this.type="recaptcha-enterprise",this.auth=pi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ar(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(xi)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new bi).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ir(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Pr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ar(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=gi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),yi(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ki(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Si(e);let a;if(i)a=xi;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Ei(e,t,n,r,i){var o,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ki(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await ki(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await ki(e,t,n);return r(e,i).catch((async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await ki(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await ki(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Ti(e){const t=pi(e),n=await Ir(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Pr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Si(t).verify()}}function ji(e,t,n){const r=pi(e);dr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ni(t),{host:a,port:s}=function(e){const t=Ni(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Oi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Oi(t)}}}(t),l={url:`${o}//${a}${null===s?"":`:${s}`}/`},c=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return dr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void dr(pt(l,r.config.emulator)&&pt(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ni(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Oi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ci{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,t){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function _i(e,t){return Er(e,"POST","/v1/accounts:signUp",t)}async function Ai(e,t){return jr(e,"POST","/v1/accounts:signInWithPassword",kr(e,t))}async function Pi(e,t){return Er(e,"POST","/v1/accounts:sendOobCode",kr(e,t))}async function Ii(e,t){return Pi(e,t)}class Di extends Ci{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Di(e,t,"password")}static _fromEmailAndCode(e,t){return new Di(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ei(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ai,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return jr(e,"POST","/v1/accounts:signInWithEmailLink",kr(e,t))}(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ei(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_i,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return jr(e,"POST","/v1/accounts:signInWithEmailLink",kr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Mi(e,t){return jr(e,"POST","/v1/accounts:signInWithIdp",kr(e,t))}class Ri extends Ci{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Zn(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Ri(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Mi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Mi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gt(t)}return e}}async function Li(e,t){return Er(e,"POST","/v1/accounts:sendVerificationCode",kr(e,t))}const Fi={USER_NOT_FOUND:"user-not-found"};class Ui extends Ci{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ui({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ui({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return jr(e,"POST","/v1/accounts:signInWithPhoneNumber",kr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await jr(e,"POST","/v1/accounts:signInWithPhoneNumber",kr(e,t));if(n.temporaryProof)throw _r(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return jr(e,"POST","/v1/accounts:signInWithPhoneNumber",kr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Fi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ui({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class zi{constructor(e){var t,n,r,i,o,a;const s=yt(vt(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);dr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=yt(vt(e)).link,n=t?yt(vt(t)).deep_link_id:null,r=yt(vt(e)).deep_link_id;return(r?yt(vt(r)).link:null)||r||n||t||e}(e);try{return new zi(t)}catch(n){return null}}}class Vi{constructor(){this.providerId=Vi.PROVIDER_ID}static credential(e,t){return Di._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=zi.parseLink(t);return dr(n,"argument-error"),Di._fromEmailAndCode(e,n.code,n.tenantId)}}Vi.PROVIDER_ID="password",Vi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $i extends Bi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qi extends $i{constructor(){super("facebook.com")}static credential(e){return Ri._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return qi.credential(t.oauthAccessToken)}catch(n){return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com",qi.PROVIDER_ID="facebook.com";class Wi extends $i{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ri._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch(i){return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com",Wi.PROVIDER_ID="google.com";class Hi extends $i{constructor(){super("github.com")}static credential(e){return Ri._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hi.credential(t.oauthAccessToken)}catch(n){return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com",Hi.PROVIDER_ID="github.com";class Ki extends $i{constructor(){super("twitter.com")}static credential(e,t){return Ri._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ki.credential(n,r)}catch(i){return null}}}async function Gi(e,t){return jr(e,"POST","/v1/accounts:signUp",kr(e,t))}Ki.TWITTER_SIGN_IN_METHOD="twitter.com",Ki.PROVIDER_ID="twitter.com";class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Hr._fromIdTokenResponse(e,n,r),o=Xi(n);return new Yi({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Xi(n);return new Yi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Xi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Qi extends dt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Qi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Qi(e,t,n,r)}}function Ji(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Qi._fromErrorAndOperation(e,n,t,r);throw n}))}async function Zi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ur(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Yi._forOperation(e,"link",r)}async function eo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Rn(r.app))return Promise.reject(lr(r));const i="reauthenticate";try{const o=await Ur(e,Ji(r,i,t,e),n);dr(o.idToken,r,"internal-error");const a=Lr(o.idToken);dr(a,r,"internal-error");const{sub:s}=a;return dr(e.uid===s,r,"user-mismatch"),Yi._forOperation(e,i,o)}catch(xY){throw"auth/user-not-found"===(null===xY||void 0===xY?void 0:xY.code)&&or(r,"user-mismatch"),xY}}async function to(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Rn(e.app))return Promise.reject(lr(e));const r="signIn",i=await Ji(e,r,t),o=await Yi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function no(e,t){return to(pi(e),t)}function ro(e,t,n){var r;dr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),dr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),dr("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(dr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(dr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function io(e){const t=pi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function oo(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=xt(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Ur(i,async function(e,t){return Er(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const s=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function ao(e,t){return Er(e,"POST","/v2/accounts/mfaEnrollment:start",kr(e,t))}new WeakMap;const so="__sak";class lo{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(so,"1"),this.storage.removeItem(so),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class co extends lo{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ci(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);li()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}co.type="LOCAL";const uo=co;class ho extends lo{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ho.type="SESSION";const fo=ho;class po{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new po(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function mo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}po.receivers=[];class go{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=mo("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function yo(){return window}function vo(){return"undefined"!==typeof yo().WorkerGlobalScope&&"function"===typeof yo().importScripts}const bo="firebaseLocalStorageDb",wo="firebaseLocalStorage",xo="fbase_key";class So{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ko(e,t){return e.transaction([wo],t?"readwrite":"readonly").objectStore(wo)}function Eo(){const e=indexedDB.open(bo,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(wo,{keyPath:xo})}catch(xY){n(xY)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(wo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(bo);return new So(e).toPromise()}(),t(await Eo()))}))}))}async function To(e,t,n){const r=ko(e,!0).put({[xo]:t,value:n});return new So(r).toPromise()}function jo(e,t){const n=ko(e,!0).delete(t);return new So(n).toPromise()}class No{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Eo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(xY){if(t++>3)throw xY;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=po._getInstance(vo()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new go(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eo();return await To(e,so,"1"),await jo(e,so),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>To(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ko(e,!1).get(t),r=await new So(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>jo(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ko(e,!1).getAll();return new So(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}No.type="LOCAL";const Oo=No;function Co(e,t){return Er(e,"POST","/v2/accounts/mfaSignIn:start",kr(e,t))}vi("rcb"),new vr(3e4,6e4);const _o="recaptcha";async function Ao(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Ti(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){dr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Ei(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===xi){dr((null===n||void 0===n?void 0:n.type)===_o,e,"argument-error");return ao(e,await Po(e,t,n))}return ao(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{dr("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;dr(o,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Ei(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===xi){dr((null===n||void 0===n?void 0:n.type)===_o,e,"argument-error");return Co(e,await Po(e,t,n))}return Co(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ei(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===xi){dr((null===n||void 0===n?void 0:n.type)===_o,e,"argument-error");return Li(e,await Po(e,t,n))}return Li(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Po(e,t,n){dr(n.type===_o,e,"argument-error");const r=await n.verify();dr("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Io{constructor(e){this.providerId=Io.PROVIDER_ID,this.auth=pi(e)}verifyPhoneNumber(e,t){return Ao(this.auth,e,xt(t))}static credential(e,t){return Ui._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Io.credentialFromTaggedObject(t)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ui._fromTokenResponse(n,r):null}}function Do(e,t){return t?Gr(t):(dr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Io.PROVIDER_ID="phone",Io.PHONE_SIGN_IN_METHOD="phone";class Mo extends Ci{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ro(e){return to(e.auth,new Mo(e),e.bypassAuthState)}function Lo(e){const{auth:t,user:n}=e;return dr(n,t,"internal-error"),eo(n,new Mo(e),e.bypassAuthState)}async function Fo(e){const{auth:t,user:n}=e;return dr(n,t,"internal-error"),Zi(n,new Mo(e),e.bypassAuthState)}class Uo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(xY){this.reject(xY)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(xY){this.reject(xY)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ro;case"linkViaPopup":case"linkViaRedirect":return Fo;case"reauthViaPopup":case"reauthViaRedirect":return Lo;default:or(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zo=new vr(2e3,1e4);class Vo extends Uo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return dr(e,this.auth,"internal-error"),e}async onExecution(){fr(1===this.filter.length,"Popup operations only handle one event");const e=mo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ar(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,zo.get())};e()}}Vo.currentPopupAction=null;const Bo=new Map;class $o extends Uo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Bo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ho(t),r=Wo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(xY){e=()=>Promise.reject(xY)}Bo.set(this.auth._key(),e)}return this.bypassAuthState||Bo.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function qo(e,t){Bo.set(e._key(),t)}function Wo(e){return Gr(e._redirectPersistence)}function Ho(e){return Qr("pendingRedirect",e.config.apiKey,e.name)}async function Ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Rn(e.app))return Promise.reject(lr(e));const r=pi(e),i=Do(r,t),o=new $o(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Go{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Xo(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ar(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yo(e))}saveEventToCache(e){this.cachedEventUids.add(Yo(e)),this.lastProcessedEventTime=Date.now()}}function Yo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Xo(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Qo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jo=/^https?/;async function Zo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Er(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ea(r))return}catch(n){}or(e,"unauthorized-domain")}function ea(e){const t=pr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Jo.test(n))return!1;if(Qo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ta=new vr(3e4,6e4);function na(){const e=yo().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ra(e){return new Promise(((t,n)=>{var r,i,o;function a(){na(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{na(),n(ar(e,"network-request-failed"))},timeout:ta.get()})}if(null===(i=null===(r=yo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=yo().gapi)||void 0===o?void 0:o.load)){const t=vi("iframefcb");return yo()[t]=()=>{gapi.load?a():n(ar(e,"network-request-failed"))},yi(`${gi.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw ia=null,e}))}let ia=null;const oa=new vr(5e3,15e3),aa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function la(e){const t=e.config;dr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?br(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Un},i=sa.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gt(r).slice(1)}`}async function ca(e){const t=await function(e){return ia=ia||ra(e),ia}(e),n=yo().gapi;return dr(n,e,"internal-error"),t.open({where:document.body,url:la(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aa,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ar(e,"network-request-failed"),o=yo().setTimeout((()=>{r(i)}),oa.get());function a(){yo().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const ua={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class da{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(xY){}}}function ha(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},ua),{width:r.toString(),height:i.toString(),top:o,left:a}),c=st().toLowerCase();n&&(s=ni(c)?"_blank":n),ei(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return si(arguments.length>0&&void 0!==arguments[0]?arguments[0]:st())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new da(null);const d=window.open(t||"",s,u);dr(d,e,"popup-blocked");try{d.focus()}catch(xY){}return new da(d)}const fa="__/auth/handler",pa="emulator/auth/handler",ma=encodeURIComponent("fac");async function ga(e,t,n,r,i,o){dr(e.config.authDomain,e,"auth-domain-config-required"),dr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Un,eventId:i};if(t instanceof Bi){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof $i){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${ma}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${fa}`;return br(t,pa)}(e)}?${gt(s).slice(1)}${c}`}const ya="webStorageSupport";const va=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fo,this._completeRedirectFn=Ko,this._overrideRedirectResult=qo}async _openPopup(e,t,n,r){var i;fr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ha(e,await ga(e,t,n,pr(),r),mo())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){yo().location.href=e}(await ga(e,t,n,pr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(fr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await ca(e),n=new Go(e);return t.register("authEvent",(t=>{dr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ya,{type:ya},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ya];void 0!==i&&t(!!i),or(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ci()||ti()||si()}};var ba="@firebase/auth",wa="1.9.1";class xa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Sa=ot("authIdTokenMaxAge")||300;let ka=null;var Ea;gi={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ar("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ea="Browser",Dn(new St("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;dr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Ea,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ui(Ea)},c=new fi(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Dn(new St("auth-internal",(e=>(e=>new xa(e))(pi(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(ba,wa,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ea)),Bn(ba,wa,"esm2017");Bn("firebase","11.4.0","app");var Ta,ja,Na="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Oa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ja=Oa.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Ta=Oa.Integer=r}).apply("undefined"!==typeof Na?Na:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ca,_a,Aa,Pa,Ia,Da,Ma,Ra,La="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Fa={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof La&&La];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new j),(e=>e.reset()));class j{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let N,O=!1,C=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},_=()=>{const e=i.Promise.resolve(void 0);N=()=>{e.then(A)}};var A=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(d_){k(d_)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}O=!1};function P(){this.s=this.s,this.C=this.C}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},I.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(d_){}return e}();function M(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,I);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function H(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)H(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new V(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(o=e.g[t],n,r,i))&&(z(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):z(e)}}}function Q(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var i=t;x(t=new I(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){I.call(this,"d")}function be(){I.call(this,"c")}d(ve,I),d(be,I);var we={},xe=null;function Se(){return xe=xe||new ne}function ke(e){I.call(this,we.La,e)}function Ee(e){const t=Se();re(t,new ke(t))}function Te(e,t){I.call(this,we.STAT_EVENT,e),this.stat=t}function je(e){const t=Se();re(t,new Te(t,e))}function Ne(e,t){I.call(this,we.Ma,e),this.size=t}function Oe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ce(){this.g=!0}function _e(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(ke,I),we.STAT_EVENT="statevent",d(Te,I),we.Ma="timingevent",d(Ne,I),Ce.prototype.xa=function(){this.g=!1},Ce.prototype.info=function(){};var Ae,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ie={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=H(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Oe(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||sn(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Yt(n)}nn(n),je(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Oe(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(We(s),$e(s)),r.g=a}else tn(r);0<n.i.length&&Qt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||Ee(),We(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Wt(this.g);e="";var o=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),He(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,je(12),Ke(this),He(this);break e}_e(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Be(this,s),e==Fe){4==h&&(this.s=4,je(14),n=!1),_e(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,je(15),_e(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}_e(this.i,this.l,e,null),Ge(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,je(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(d),d.M=!0,je(11))}}else _e(this.i,this.l,s,"[Invalid Chunked Response]"),Ke(this),He(this)}else _e(this.i,this.l,s,null),Ge(this,s);4==h&&Ke(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),Ke(this),He(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),je(17)),Ke(this),this.s=2,He(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){xt(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return xt(e),t=Tt(e,t),e.g.has(t)}function Et(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Nt(){this.g=new fe}function Ot(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(xY){throw t.push(r+"type="+encodeURIComponent("_badmap")),xY}}function Ct(e){this.l=e.Ub||null,this.j=e.eb||!1}function _t(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,kt(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Ct,pe),Ct.prototype.g=function(){return new _t(this.l,this.j)},Ct.prototype.i=function(e){return function(){return e}}({}),d(_t,ne),(e=_t.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):It(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_t.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Bt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Lt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<qt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",zt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(xY){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ua){return null}}function Ht(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ht("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ht("baseRetryDelayMs",5e3,e),this.cb=Ht("retryDelaySeedMs",1e4,e),this.Wa=Ht("forwardChannelMaxRetries",2,e),this.wa=Ht("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}un(e)}function Yt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Qt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;N||_(),O||(N(),O=!0),C.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Ot(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;N||_(),O||(N(),O=!0),C.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Oe(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,ze(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){an(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ne(r,n)),Qt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Oe(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Ce;if(i.Image){const r=new Image;r.onload=u(jt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(jt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(jt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(jt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ce;const n=new AbortController,r=setTimeout((()=>{n.abort(),jt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?jt(0,0,!0,t):jt(0,0,!1,t)})).catch((()=>{clearTimeout(r),jt(0,0,!1,t)}))}(r.toString(),n)}else je(2);e.G=0,e.l&&e.l.sa(t),un(e),Xt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new Ct({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(p_){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(p_){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){je(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Qt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Dt(o)))+"&"+t:this.m&&Mt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Qe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Oe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),Yt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),nn(this),je(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Qt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Ra=Fa.createWebChannelTransport=function(){return new pn},Ma=Fa.getStatEventTarget=function(){return Se()},Da=Fa.Event=we,Ia=Fa.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Pa=Fa.ErrorCode=Pe,Ie.COMPLETE="complete",Aa=Fa.EventType=Ie,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,_a=Fa.WebChannel=ge,Fa.FetchXmlHttpFactory=Ct,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Ca=Fa.XhrIo=Rt}).apply("undefined"!==typeof La?La:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ua="@firebase/firestore",za="4.7.9";class Va{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Va.UNAUTHENTICATED=new Va(null),Va.GOOGLE_CREDENTIALS=new Va("google-credentials-uid"),Va.FIRST_PARTY=new Va("first-party-uid"),Va.MOCK_USER=new Va("mock-user");let Ba="11.4.0";const $a=new Pt("@firebase/firestore");function qa(){return $a.logLevel}function Wa(e){if($a.logLevel<=Nt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ga);$a.debug(`Firestore (${Ba}): ${e}`,...i)}}function Ha(e){if($a.logLevel<=Nt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ga);$a.error(`Firestore (${Ba}): ${e}`,...i)}}function Ka(e){if($a.logLevel<=Nt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ga);$a.warn(`Firestore (${Ba}): ${e}`,...i)}}function Ga(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ya(){const e=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Ha(e),new Error(e)}function Xa(e,t){e||Ya()}function Qa(e,t){return e}const Ja={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Za extends dt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ts{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ns{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Va.UNAUTHENTICATED)))}shutdown(){}}class rs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class is{constructor(e){this.t=e,this.currentUser=Va.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xa(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new es;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new es,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Wa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Wa("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new es)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Wa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xa("string"==typeof t.accessToken),new ts(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xa(null===e||"string"==typeof e),new Va(e)}}class os{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Va.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class as{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new os(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Va.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ss{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ls{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Rn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xa(void 0===this.o);const n=e=>{null!=e.error&&Wa("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Wa("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Wa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Wa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new ss(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Xa("string"==typeof e.token),this.R=e.token,new ss(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cs(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class us{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=cs(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ds(e,t){return e<t?-1:e>t?1:0}function hs(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const fs=-62135596800,ps=1e6;class ms{static now(){return ms.fromMillis(Date.now())}static fromDate(e){return ms.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ps);return new ms(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Za(Ja.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Za(Ja.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fs)throw new Za(Ja.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Za(Ja.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ps}_compareTo(e){return this.seconds===e.seconds?ds(this.nanoseconds,e.nanoseconds):ds(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-fs;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gs{static fromTimestamp(e){return new gs(e)}static min(){return new gs(new ms(0,0))}static max(){return new gs(new ms(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ys="__name__";class vs{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ya(),void 0===n?n=e.length-t:n>e.length-t&&Ya(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===vs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=vs.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=vs.isNumericId(e),r=vs.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?vs.extractNumericId(e).compare(vs.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class bs extends vs{construct(e,t,n){return new bs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Za(Ja.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new bs(e)}static emptyPath(){return new bs([])}}const ws=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xs extends vs{construct(e,t,n){return new xs(e,t,n)}static isValidIdentifier(e){return ws.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ys}static keyField(){return new xs([ys])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Za(Ja.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Za(Ja.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Za(Ja.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Za(Ja.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xs(t)}static emptyPath(){return new xs([])}}class Ss{constructor(e){this.path=e}static fromPath(e){return new Ss(bs.fromString(e))}static fromName(e){return new Ss(bs.fromString(e).popFirst(5))}static empty(){return new Ss(bs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ss(new bs(e.slice()))}}const ks=-1;class Es{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Es.UNKNOWN_ID=-1;function Ts(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=gs.fromTimestamp(1e9===r?new ms(n+1,0):new ms(n,r));return new Ns(i,Ss.empty(),t)}function js(e){return new Ns(e.readTime,e.key,ks)}class Ns{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ns(gs.min(),Ss.empty(),ks)}static max(){return new Ns(gs.max(),Ss.empty(),ks)}}function Os(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ss.comparator(e.documentKey,t.documentKey),0!==n?n:ds(e.largestBatchId,t.largestBatchId))}const Cs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _s{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function As(e){if(e.code!==Ja.FAILED_PRECONDITION||e.message!==Cs)throw e;Wa("LocalStore","Unexpectedly lost primary lease")}class Ps{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ya(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ps(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ps?t:Ps.resolve(t)}catch(e){return Ps.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ps.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ps.reject(t)}static resolve(e){return new Ps(((t,n)=>{t(e)}))}static reject(e){return new Ps(((t,n)=>{n(e)}))}static waitFor(e){return new Ps(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Ps.resolve(!1);for(const n of e)t=t.next((e=>e?Ps.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ps(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ps(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Is(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ds(e){return"IndexedDbTransactionError"===e.name}class Ms{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ms.ae=-1;const Rs=-1;function Ls(e){return null==e}function Fs(e){return 0===e&&1/e==-1/0}function Us(e){return"number"==typeof e&&Number.isInteger(e)&&!Fs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const zs="\x01";function Vs(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$s(t)),t=Bs(e.get(n),t);return $s(t)}function Bs(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case zs:n+="\x01\x11";break;default:n+=t}}return n}function $s(e){return e+zs+"\x01"}const qs="remoteDocuments",Ws="owner",Hs="mutationQueues",Ks="mutations";const Gs="documentMutations",Ys="remoteDocumentsV14",Xs="remoteDocumentGlobal",Qs="targets",Js="targetDocuments",Zs="targetGlobal",el="collectionParents",tl="clientMetadata",nl="bundles",rl="namedQueries",il="indexConfiguration",ol="indexState",al="indexEntries",sl="documentOverlays",ll="globals",cl=[Hs,Ks,Gs,qs,Qs,Ws,Zs,Js,tl,Xs,el,nl,rl],ul=[Hs,Ks,Gs,Ys,Qs,Ws,Zs,Js,tl,Xs,el,nl,rl,sl],dl=ul,hl=[...dl,il,ol,al];function fl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ml(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class gl{constructor(e,t){this.comparator=e,this.root=t||vl.EMPTY}insert(e,t){return new gl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vl.BLACK,null,null))}remove(e){return new gl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yl(this.root,e,this.comparator,!0)}}class yl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:vl.RED,this.left=null!=r?r:vl.EMPTY,this.right=null!=i?i:vl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new vl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ya();if(this.right.isRed())throw Ya();const e=this.left.check();if(e!==this.right.check())throw Ya();return e+(this.isRed()?0:1)}}vl.EMPTY=null,vl.RED=!0,vl.BLACK=!1,vl.EMPTY=new class{constructor(){this.size=0}get key(){throw Ya()}get value(){throw Ya()}get color(){throw Ya()}get left(){throw Ya()}get right(){throw Ya()}copy(e,t,n,r,i){return this}insert(e,t,n){return new vl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bl{constructor(e){this.comparator=e,this.data=new gl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wl(this.data.getIterator())}getIteratorFrom(e){return new wl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof bl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new bl(this.comparator);return t.data=e,t}}class wl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xl{constructor(e){this.fields=e,e.sort(xs.comparator)}static empty(){return new xl([])}unionWith(e){let t=new bl(xs.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new xl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hs(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Sl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Sl("Invalid base64 string: "+e):e}}(e);return new kl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new kl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ds(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kl.EMPTY_BYTE_STRING=new kl("");const El=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tl(e){if(Xa(!!e),"string"==typeof e){let t=0;const n=El.exec(e);if(Xa(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:jl(e.seconds),nanos:jl(e.nanos)}}function jl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Nl(e){return"string"==typeof e?kl.fromBase64String(e):kl.fromUint8Array(e)}const Ol="server_timestamp",Cl="__type__",_l="__previous_value__",Al="__local_write_time__";function Pl(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Cl])||void 0===n?void 0:n.stringValue)===Ol}function Il(e){const t=e.mapValue.fields[_l];return Pl(t)?Il(t):t}function Dl(e){const t=Tl(e.mapValue.fields[Al].timestampValue);return new ms(t.seconds,t.nanos)}class Ml{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}const Rl="(default)";class Ll{constructor(e,t){this.projectId=e,this.database=t||Rl}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Rl}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}const Fl="__type__",Ul="__max__",zl={mapValue:{fields:{__type__:{stringValue:Ul}}}},Vl="__vector__",Bl="value";function $l(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pl(e)?4:ac(e)?9007199254740991:ic(e)?10:11:Ya()}function ql(e,t){if(e===t)return!0;const n=$l(e);if(n!==$l(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dl(e).isEqual(Dl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Tl(e.timestampValue),r=Tl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Nl(e.bytesValue).isEqual(Nl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jl(e.geoPointValue.latitude)===jl(t.geoPointValue.latitude)&&jl(e.geoPointValue.longitude)===jl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jl(e.integerValue)===jl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=jl(e.doubleValue),r=jl(t.doubleValue);return n===r?Fs(n)===Fs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return hs(e.arrayValue.values||[],t.arrayValue.values||[],ql);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fl(n)!==fl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ql(n[i],r[i])))return!1;return!0}(e,t);default:return Ya()}}function Wl(e,t){return void 0!==(e.values||[]).find((e=>ql(e,t)))}function Hl(e,t){if(e===t)return 0;const n=$l(e),r=$l(t);if(n!==r)return ds(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ds(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=jl(e.integerValue||e.doubleValue),r=jl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Kl(e.timestampValue,t.timestampValue);case 4:return Kl(Dl(e),Dl(t));case 5:return ds(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Nl(e),r=Nl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ds(n[i],r[i]);if(0!==e)return e}return ds(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ds(jl(e.latitude),jl(t.latitude));return 0!==n?n:ds(jl(e.longitude),jl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Gl(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a[Bl])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Bl])||void 0===r?void 0:r.arrayValue,u=ds((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Gl(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===zl.mapValue&&t===zl.mapValue)return 0;if(e===zl.mapValue)return 1;if(t===zl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=ds(r[a],o[a]);if(0!==e)return e;const t=Hl(n[r[a]],i[o[a]]);if(0!==t)return t}return ds(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ya()}}function Kl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ds(e,t);const n=Tl(e),r=Tl(t),i=ds(n.seconds,r.seconds);return 0!==i?i:ds(n.nanos,r.nanos)}function Gl(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Hl(n[i],r[i]);if(e)return e}return ds(n.length,r.length)}function Yl(e){return Xl(e)}function Xl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Tl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Nl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ss.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Xl(e.fields[i])}`;return n+"}"}(e.mapValue):Ya()}function Ql(e){switch($l(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Il(e);return t?16+Ql(t):16;case 5:return 2*e.stringValue.length;case 6:return Nl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Ql(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return pl(e.fields,((e,n)=>{t+=e.length+Ql(n)})),t}(e.mapValue);default:throw Ya()}}function Jl(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Zl(e){return!!e&&"integerValue"in e}function ec(e){return!!e&&"arrayValue"in e}function tc(e){return!!e&&"nullValue"in e}function nc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rc(e){return!!e&&"mapValue"in e}function ic(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Fl])||void 0===n?void 0:n.stringValue)===Vl}function oc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return pl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=oc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=oc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ac(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ul}class sc{constructor(e){this.value=e}static empty(){return new sc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!rc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(t)}setAll(e){let t=xs.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=oc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());rc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ql(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];rc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){pl(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new sc(oc(this.value))}}function lc(e){const t=[];return pl(e.fields,((e,n)=>{const r=new xs([e]);if(rc(n)){const e=lc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new xl(t)}class cc{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new cc(e,0,gs.min(),gs.min(),gs.min(),sc.empty(),0)}static newFoundDocument(e,t,n,r){return new cc(e,1,t,gs.min(),n,r,0)}static newNoDocument(e,t){return new cc(e,2,t,gs.min(),gs.min(),sc.empty(),0)}static newUnknownDocument(e,t){return new cc(e,3,t,gs.min(),gs.min(),sc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gs.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uc{constructor(e,t){this.position=e,this.inclusive=t}}function dc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ss.comparator(Ss.fromName(a.referenceValue),n.key):Hl(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function hc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ql(e.position[n],t.position[n]))return!1;return!0}class fc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function pc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class mc{}class gc extends mc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ec(e,t,n):"array-contains"===t?new Oc(e,n):"in"===t?new Cc(e,n):"not-in"===t?new _c(e,n):"array-contains-any"===t?new Ac(e,n):new gc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Tc(e,n):new jc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hl(t,this.value)):null!==t&&$l(this.value)===$l(t)&&this.matchesComparison(Hl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ya()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yc extends mc{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new yc(e,t)}matches(e){return vc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function vc(e){return"and"===e.op}function bc(e){return wc(e)&&vc(e)}function wc(e){for(const t of e.filters)if(t instanceof yc)return!1;return!0}function xc(e){if(e instanceof gc)return e.field.canonicalString()+e.op.toString()+Yl(e.value);if(bc(e))return e.filters.map((e=>xc(e))).join(",");{const t=e.filters.map((e=>xc(e))).join(",");return`${e.op}(${t})`}}function Sc(e,t){return e instanceof gc?function(e,t){return t instanceof gc&&e.op===t.op&&e.field.isEqual(t.field)&&ql(e.value,t.value)}(e,t):e instanceof yc?function(e,t){return t instanceof yc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Sc(n,t.filters[r])),!0)}(e,t):void Ya()}function kc(e){return e instanceof gc?function(e){return`${e.field.canonicalString()} ${e.op} ${Yl(e.value)}`}(e):e instanceof yc?function(e){return e.op.toString()+" {"+e.getFilters().map(kc).join(" ,")+"}"}(e):"Filter"}class Ec extends gc{constructor(e,t,n){super(e,t,n),this.key=Ss.fromName(n.referenceValue)}matches(e){const t=Ss.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tc extends gc{constructor(e,t){super(e,"in",t),this.keys=Nc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class jc extends gc{constructor(e,t){super(e,"not-in",t),this.keys=Nc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Nc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ss.fromName(e.referenceValue)))}class Oc extends gc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ec(t)&&Wl(t.arrayValue,this.value)}}class Cc extends gc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wl(this.value.arrayValue,t)}}class _c extends gc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wl(this.value.arrayValue,t)}}class Ac extends gc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ec(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Wl(this.value.arrayValue,e)))}}class Pc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function Ic(e){return new Pc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Dc(e){const t=Qa(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>xc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ls(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Yl(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Yl(e))).join(",")),t.le=e}return t.le}function Mc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Sc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hc(e.startAt,t.startAt)&&hc(e.endAt,t.endAt)}function Rc(e){return Ss.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Lc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Fc(e,t,n,r,i,o,a,s){return new Lc(e,t,n,r,i,o,a,s)}function Uc(e){return new Lc(e)}function zc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Vc(e){return null!==e.collectionGroup}function Bc(e){const t=Qa(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new bl(xs.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new fc(r,n))})),e.has(xs.keyField().canonicalString())||t.he.push(new fc(xs.keyField(),n))}return t.he}function $c(e){const t=Qa(e);return t.Pe||(t.Pe=qc(t,Bc(e))),t.Pe}function qc(e,t){if("F"===e.limitType)return Ic(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new fc(e.field,t)}));const n=e.endAt?new uc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new uc(e.startAt.position,e.startAt.inclusive):null;return Ic(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Wc(e,t){const n=e.filters.concat([t]);return new Lc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Hc(e,t,n){return new Lc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Kc(e,t){return Mc($c(e),$c(t))&&e.limitType===t.limitType}function Gc(e){return`${Dc($c(e))}|lt:${e.limitType}`}function Yc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>kc(e))).join(", ")}]`),Ls(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Yl(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Yl(e))).join(",")),`Target(${t})`}($c(e))}; limitType=${e.limitType})`}function Xc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ss.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Bc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=dc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Bc(e),t))&&!(e.endAt&&!function(e,t,n){const r=dc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Bc(e),t))}(e,t)}function Qc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Jc(e){return(t,n)=>{let r=!1;for(const i of Bc(e)){const e=Zc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Zc(e,t,n){const r=e.field.isKeyField()?Ss.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Hl(r,i):Ya()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ya()}}class eu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pl(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ml(this.inner)}size(){return this.innerSize}}const tu=new gl(Ss.comparator);function nu(){return tu}const ru=new gl(Ss.comparator);function iu(){let e=ru;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ou(e){let t=ru;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function au(){return lu()}function su(){return lu()}function lu(){return new eu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const cu=new gl(Ss.comparator),uu=new bl(Ss.comparator);function du(){let e=uu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const hu=new bl(ds);function fu(){return hu}function pu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fs(t)?"-0":t}}function mu(e){return{integerValue:""+e}}function gu(e,t){return Us(t)?mu(t):pu(e,t)}class yu{constructor(){this._=void 0}}function vu(e,t,n){return e instanceof xu?function(e,t){const n={fields:{[Cl]:{stringValue:Ol},[Al]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Pl(t)&&(t=Il(t)),t&&(n.fields[_l]=t),{mapValue:n}}(n,t):e instanceof Su?ku(e,t):e instanceof Eu?Tu(e,t):function(e,t){const n=wu(e,t),r=Nu(n)+Nu(e.Ie);return Zl(n)&&Zl(e.Ie)?mu(r):pu(e.serializer,r)}(e,t)}function bu(e,t,n){return e instanceof Su?ku(e,t):e instanceof Eu?Tu(e,t):n}function wu(e,t){return e instanceof ju?function(e){return Zl(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class xu extends yu{}class Su extends yu{constructor(e){super(),this.elements=e}}function ku(e,t){const n=Ou(t);for(const r of e.elements)n.some((e=>ql(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Eu extends yu{constructor(e){super(),this.elements=e}}function Tu(e,t){let n=Ou(t);for(const r of e.elements)n=n.filter((e=>!ql(e,r)));return{arrayValue:{values:n}}}class ju extends yu{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Nu(e){return jl(e.integerValue||e.doubleValue)}function Ou(e){return ec(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Cu{constructor(e,t){this.field=e,this.transform=t}}class _u{constructor(e,t){this.version=e,this.transformResults=t}}class Au{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Au}static exists(e){return new Au(void 0,e)}static updateTime(e){return new Au(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Iu{}function Du(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qu(e.key,Au.none()):new Uu(e.key,e.data,Au.none());{const n=e.data,r=sc.empty();let i=new bl(xs.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new zu(e.key,r,new xl(i.toArray()),Au.none())}}function Mu(e,t,n){e instanceof Uu?function(e,t,n){const r=e.value.clone(),i=Bu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof zu?function(e,t,n){if(!Pu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Bu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Vu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ru(e,t,n,r){return e instanceof Uu?function(e,t,n,r){if(!Pu(e.precondition,t))return n;const i=e.value.clone(),o=$u(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof zu?function(e,t,n,r){if(!Pu(e.precondition,t))return n;const i=$u(e.fieldTransforms,r,t),o=t.data;return o.setAll(Vu(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Pu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Lu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=wu(r.transform,e||null);null!=i&&(null===n&&(n=sc.empty()),n.set(r.field,i))}return n||null}function Fu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&hs(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Su&&t instanceof Su||e instanceof Eu&&t instanceof Eu?hs(e.elements,t.elements,ql):e instanceof ju&&t instanceof ju?ql(e.Ie,t.Ie):e instanceof xu&&t instanceof xu}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Uu extends Iu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zu extends Iu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Vu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Bu(e,t,n){const r=new Map;Xa(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,bu(a,s,n[i]))}return r}function $u(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,vu(e,o,t))}return r}class qu extends Iu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wu extends Iu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Mu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ru(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ru(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=su();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Du(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(gs.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),du())}isEqual(e){return this.batchId===e.batchId&&hs(this.mutations,e.mutations,((e,t)=>Fu(e,t)))&&hs(this.baseMutations,e.baseMutations,((e,t)=>Fu(e,t)))}}class Ku{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xa(e.mutations.length===n.length);let r=cu;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Ku(e,t,n,r)}}class Gu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yu{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xu,Qu;function Ju(e){switch(e){case Ja.OK:return Ya();case Ja.CANCELLED:case Ja.UNKNOWN:case Ja.DEADLINE_EXCEEDED:case Ja.RESOURCE_EXHAUSTED:case Ja.INTERNAL:case Ja.UNAVAILABLE:case Ja.UNAUTHENTICATED:return!1;case Ja.INVALID_ARGUMENT:case Ja.NOT_FOUND:case Ja.ALREADY_EXISTS:case Ja.PERMISSION_DENIED:case Ja.FAILED_PRECONDITION:case Ja.ABORTED:case Ja.OUT_OF_RANGE:case Ja.UNIMPLEMENTED:case Ja.DATA_LOSS:return!0;default:return Ya()}}function Zu(e){if(void 0===e)return Ha("GRPC error has no .code"),Ja.UNKNOWN;switch(e){case Xu.OK:return Ja.OK;case Xu.CANCELLED:return Ja.CANCELLED;case Xu.UNKNOWN:return Ja.UNKNOWN;case Xu.DEADLINE_EXCEEDED:return Ja.DEADLINE_EXCEEDED;case Xu.RESOURCE_EXHAUSTED:return Ja.RESOURCE_EXHAUSTED;case Xu.INTERNAL:return Ja.INTERNAL;case Xu.UNAVAILABLE:return Ja.UNAVAILABLE;case Xu.UNAUTHENTICATED:return Ja.UNAUTHENTICATED;case Xu.INVALID_ARGUMENT:return Ja.INVALID_ARGUMENT;case Xu.NOT_FOUND:return Ja.NOT_FOUND;case Xu.ALREADY_EXISTS:return Ja.ALREADY_EXISTS;case Xu.PERMISSION_DENIED:return Ja.PERMISSION_DENIED;case Xu.FAILED_PRECONDITION:return Ja.FAILED_PRECONDITION;case Xu.ABORTED:return Ja.ABORTED;case Xu.OUT_OF_RANGE:return Ja.OUT_OF_RANGE;case Xu.UNIMPLEMENTED:return Ja.UNIMPLEMENTED;case Xu.DATA_LOSS:return Ja.DATA_LOSS;default:return Ya()}}(Qu=Xu||(Xu={}))[Qu.OK=0]="OK",Qu[Qu.CANCELLED=1]="CANCELLED",Qu[Qu.UNKNOWN=2]="UNKNOWN",Qu[Qu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qu[Qu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qu[Qu.NOT_FOUND=5]="NOT_FOUND",Qu[Qu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qu[Qu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qu[Qu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qu[Qu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qu[Qu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qu[Qu.ABORTED=10]="ABORTED",Qu[Qu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qu[Qu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qu[Qu.INTERNAL=13]="INTERNAL",Qu[Qu.UNAVAILABLE=14]="UNAVAILABLE",Qu[Qu.DATA_LOSS=15]="DATA_LOSS";let ed=null;function td(){return new TextEncoder}const nd=new Ta([4294967295,4294967295],0);function rd(e){const t=td().encode(e),n=new ja;return n.update(t),new Uint8Array(n.digest())}function id(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ta([n,r],0),new Ta([i,o],0)]}class od{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ad(`Invalid padding: ${t}`);if(n<0)throw new ad(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new ad(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ad(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ta.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Ta.fromNumber(n)));return 1===r.compare(nd)&&(r=new Ta([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=rd(e),[n,r]=id(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new od(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ee)return;const t=rd(e),[n,r]=id(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ld.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new sd(gs.min(),r,new gl(ds),nu(),du())}}class ld{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ld(n,t,du(),du(),du())}}class cd{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class ud{constructor(e,t){this.targetId=e,this.ge=t}}class dd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class hd{constructor(){this.pe=0,this.ye=md(),this.we=kl.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=du(),t=du(),n=du();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ya()}})),new ld(this.we,this.be,e,t,n)}Me(){this.Se=!1,this.ye=md()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xa(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class fd{constructor(e){this.ke=e,this.qe=new Map,this.Qe=nu(),this.$e=pd(),this.Ke=pd(),this.Ue=new gl(ds)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Ya()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Rc(i))if(0===n){const e=new Ss(i.path);this.ze(t,e,cc.newNoDocument(e,gs.min()))}else Xa(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,e)}null==ed||ed.rt(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Nl(n).toUint8Array()}catch(e){if(e instanceof Sl)return Ka("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new od(o,r,i)}catch(e){return Ka(e instanceof ad?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ee?null:a}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Rc(i.target)){const t=new Ss(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,cc.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=du();this.Ke.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new sd(e,t,this.Ue,this.Qe,n);return this.Qe=nu(),this.$e=pd(),this.Ke=pd(),this.Ue=new gl(ds),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new hd,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new bl(ds),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new bl(ds),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Wa("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new hd),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function pd(){return new gl(Ss.comparator)}function md(){return new gl(Ss.comparator)}const gd={asc:"ASCENDING",desc:"DESCENDING"},yd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vd={and:"AND",or:"OR"};class bd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wd(e,t){return e.useProto3Json||Ls(t)?t:{value:t}}function xd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function kd(e,t){return xd(e,t.toTimestamp())}function Ed(e){return Xa(!!e),gs.fromTimestamp(function(e){const t=Tl(e);return new ms(t.seconds,t.nanos)}(e))}function Td(e,t){return jd(e,t).canonicalString()}function jd(e,t){const n=function(e){return new bs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Nd(e){const t=bs.fromString(e);return Xa(Kd(t)),t}function Od(e,t){return Td(e.databaseId,t.path)}function Cd(e,t){const n=Nd(t);if(n.get(1)!==e.databaseId.projectId)throw new Za(Ja.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Za(Ja.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ss(Id(n))}function _d(e,t){return Td(e.databaseId,t)}function Ad(e){const t=Nd(e);return 4===t.length?bs.emptyPath():Id(t)}function Pd(e){return new bs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Id(e){return Xa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Dd(e,t,n){return{name:Od(e,t),fields:n.value.mapValue.fields}}function Md(e,t){let n;if(t instanceof Uu)n={update:Dd(e,t.key,t.value)};else if(t instanceof qu)n={delete:Od(e,t.key)};else if(t instanceof zu)n={update:Dd(e,t.key,t.data),updateMask:Hd(t.fieldMask)};else{if(!(t instanceof Wu))return Ya();n={verify:Od(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof xu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Su)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Eu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ju)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Ya()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ya()}(e,t.precondition)),n}function Rd(e,t){return{documents:[_d(e,t.path)]}}function Ld(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_d(e,i);const o=function(e){if(0!==e.length)return Wd(yc.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:$d(e.field),direction:zd(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=wd(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function Fd(e){let t=Ad(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xa(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Ud(e);return t instanceof yc&&bc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new fc(qd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Ls(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new uc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new uc(n,t)}(n.endAt)),Fc(t,i,a,o,s,"F",l,c)}function Ud(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qd(e.unaryFilter.field);return gc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=qd(e.unaryFilter.field);return gc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qd(e.unaryFilter.field);return gc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qd(e.unaryFilter.field);return gc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ya()}}(e):void 0!==e.fieldFilter?function(e){return gc.create(qd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ya()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return yc.create(e.compositeFilter.filters.map((e=>Ud(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ya()}}(e.compositeFilter.op))}(e):Ya()}function zd(e){return gd[e]}function Vd(e){return yd[e]}function Bd(e){return vd[e]}function $d(e){return{fieldPath:e.canonicalString()}}function qd(e){return xs.fromServerFormat(e.fieldPath)}function Wd(e){return e instanceof gc?function(e){if("=="===e.op){if(nc(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NAN"}};if(tc(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nc(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NOT_NAN"}};if(tc(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$d(e.field),op:Vd(e.op),value:e.value}}}(e):e instanceof yc?function(e){const t=e.getFilters().map((e=>Wd(e)));return 1===t.length?t[0]:{compositeFilter:{op:Bd(e.op),filters:t}}}(e):Ya()}function Hd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Kd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Gd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gs.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gs.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:kl.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Gd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Yd{constructor(e){this.Tt=e}}function Xd(e){const t=Fd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hc(t,t.limit,"L"):t}class Qd{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(jl(e.integerValue));else if("doubleValue"in e){const n=jl(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),Fs(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Tl(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Nl(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?ac(e)?this.ft(t,Number.MAX_SAFE_INTEGER):ic(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):Ya()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const o=Bl,a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(jl(a)),this.wt(o,t),this.Rt(i[o],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),Ss.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}Qd.xt=new Qd;class Jd{constructor(){this.Tn=new Zd}addToCollectionParentIndex(e,t){return this.Tn.add(t),Ps.resolve()}getCollectionParents(e,t){return Ps.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Ps.resolve()}deleteFieldIndex(e,t){return Ps.resolve()}deleteAllFieldIndexes(e){return Ps.resolve()}createTargetIndexes(e,t){return Ps.resolve()}getDocumentsMatchingTarget(e,t){return Ps.resolve(null)}getIndexType(e,t){return Ps.resolve(0)}getFieldIndexes(e,t){return Ps.resolve([])}getNextCollectionGroupToUpdate(e){return Ps.resolve(null)}getMinOffset(e,t){return Ps.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return Ps.resolve(Ns.min())}updateCollectionGroup(e,t,n){return Ps.resolve()}updateIndexEntries(e,t){return Ps.resolve()}}class Zd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bl(bs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new bl(bs.comparator)).toArray()}}new Uint8Array(0);const eh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},th=41943040;class nh{static withCacheSize(e){return new nh(e,nh.DEFAULT_COLLECTION_PERCENTILE,nh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}nh.DEFAULT_COLLECTION_PERCENTILE=10,nh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nh.DEFAULT=new nh(th,nh.DEFAULT_COLLECTION_PERCENTILE,nh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nh.DISABLED=new nh(-1,0,0);class rh{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new rh(0)}static Un(){return new rh(-1)}}const ih="LruGarbageCollector",oh=1048576;function ah(e,t){let[n,r]=e,[i,o]=t;const a=ds(n,i);return 0===a?ds(r,o):a}class sh{constructor(e){this.Hn=e,this.buffer=new bl(ah),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ah(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Wa(ih,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ds(e)?Wa(ih,"Ignoring IndexedDB error during garbage collection: ",e):await As(e)}await this.er(3e5)}))}}class ch{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ps.resolve(Ms.ae);const n=new sh(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Wa("LruGarbageCollector","Garbage collection skipped; disabled"),Ps.resolve(eh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Wa("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eh):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Wa("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),qa()<=Nt.DEBUG&&Wa("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(s-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),Ps.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function uh(e,t){return new ch(e,t)}class dh{constructor(){this.changes=new eu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ps.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ru(n.mutation,e,xl.empty(),ms.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,du()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:du();const r=au();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=iu();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=au();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,du())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=nu();const o=lu(),a=lu();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof zu)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Ru(a.mutation,t,a.mutation.getFieldMask(),ms.now())):o.set(t.key,xl.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new hh(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=lu();let r=new gl(((e,t)=>e-t)),i=du();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||xl.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||du()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=su();l.forEach((e=>{if(!i.has(e)){const r=Du(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Ps.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ss.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ps.resolve(au());let a=ks,s=i;return o.next((t=>Ps.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ps.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,du()))).next((e=>({batchId:a,changes:ou(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ss(t)).next((e=>{let t=iu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=iu();return this.indexManager.getCollectionParents(e,i).next((a=>Ps.forEach(a,(a=>{const s=function(e,t){return new Lc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,cc.newInvalidDocument(r)))}));let n=iu();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Ru(o.mutation,r,xl.empty(),ms.now()),Xc(t,r)&&(n=n.insert(e,r))})),n}))}}class ph{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Ps.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ed(e.createTime)}}(t)),Ps.resolve()}getNamedQuery(e,t){return Ps.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:Xd(e.bundledQuery),readTime:Ed(e.readTime)}}(t)),Ps.resolve()}}class mh{constructor(){this.overlays=new gl(Ss.comparator),this.Rr=new Map}getOverlay(e,t){return Ps.resolve(this.overlays.get(t))}getOverlays(e,t){const n=au();return Ps.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Ps.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Ps.resolve()}getOverlaysForCollection(e,t,n){const r=au(),i=t.length+1,o=new Ss(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ps.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new gl(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=au(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=au(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Ps.resolve(a)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Gu(t,n));let i=this.Rr.get(t);void 0===i&&(i=du(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class gh{constructor(){this.sessionToken=kl.EMPTY_BYTE_STRING}getSessionToken(e){return Ps.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ps.resolve()}}class yh{constructor(){this.Vr=new bl(vh.mr),this.gr=new bl(vh.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new vh(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new vh(e,t))}br(e,t){e.forEach((e=>this.removeReference(e,t)))}Sr(e){const t=new Ss(new bs([])),n=new vh(t,e),r=new vh(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ss(new bs([])),n=new vh(t,e),r=new vh(t,e+1);let i=du();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new vh(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class vh{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ss.comparator(e.key,t.key)||ds(e.Cr,t.Cr)}static pr(e,t){return ds(e.Cr,t.Cr)||Ss.comparator(e.key,t.key)}}class bh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new bl(vh.mr)}checkEmpty(e){return Ps.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Hu(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Mr=this.Mr.add(new vh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ps.resolve(o)}lookupMutationBatch(e,t){return Ps.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return Ps.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ps.resolve(0===this.mutationQueue.length?Rs:this.Fr-1)}getAllMutationBatches(e){return Ps.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new vh(t,0),r=new vh(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),Ps.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bl(ds);return t.forEach((e=>{const t=new vh(e,0),r=new vh(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Ps.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ss.isDocumentKey(i)||(i=i.child(""));const o=new vh(new Ss(i),0);let a=new bl(ds);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Cr)),!0)}),o),Ps.resolve(this.Br(a))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Xa(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Ps.forEach(t.mutations,(r=>{const i=new vh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new vh(t,0),r=this.Mr.firstAfterOrEqual(n);return Ps.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ps.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wh{constructor(e){this.kr=e,this.docs=new gl(Ss.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ps.resolve(n?n.document.mutableCopy():cc.newInvalidDocument(t))}getEntries(e,t){let n=nu();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cc.newInvalidDocument(e))})),Ps.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=nu();const o=t.path,a=new Ss(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Os(js(a),n)<=0||(r.has(a.key)||Xc(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ps.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ya()}qr(e,t){return Ps.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new xh(this)}getSize(e){return Ps.resolve(this.size)}}class xh extends dh{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Ps.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Sh{constructor(e){this.persistence=e,this.Qr=new eu((e=>Dc(e)),Mc),this.lastRemoteSnapshotVersion=gs.min(),this.highestTargetId=0,this.$r=0,this.Kr=new yh,this.targetCount=0,this.Ur=rh.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Ps.resolve()}getLastRemoteSnapshotVersion(e){return Ps.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ps.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Ps.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Ps.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new rh(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Ps.resolve()}updateTargetData(e,t){return this.zn(t),Ps.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Ps.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Ps.waitFor(i).next((()=>r))}getTargetCount(e){return Ps.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Ps.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),Ps.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ps.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Ps.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return Ps.resolve(n)}containsKey(e,t){return Ps.resolve(this.Kr.containsKey(t))}}class kh{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Ms(0),this.zr=!1,this.zr=!0,this.jr=new gh,this.referenceDelegate=e(this),this.Hr=new Sh(this),this.indexManager=new Jd,this.remoteDocumentCache=function(e){return new wh(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Yd(t),this.Yr=new ph(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new bh(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Wa("MemoryPersistence","Starting transaction:",e);const r=new Eh(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Ps.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Eh extends _s{constructor(e){super(),this.currentSequenceNumber=e}}class Th{constructor(e){this.persistence=e,this.ti=new yh,this.ni=null}static ri(e){return new Th(e)}get ii(){if(this.ni)return this.ni;throw Ya()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Ps.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Ps.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Ps.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ps.forEach(this.ii,(n=>{const r=Ss.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,gs.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Ps.or([()=>Ps.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.oi=new eu((e=>Vs(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=uh(this,t)}static ri(e,t){return new jh(e,t)}Zr(){}Xr(e){return Ps.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Ps.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Ps.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,gs.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Ps.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Ps.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Ps.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Ps.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ql(e.data.value)),t}ar(e,t,n){return Ps.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Ps.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Nh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=du(),r=du();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Nh(e,t.fromCache,n,r)}}class Oh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ch{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=lt()?8:Is(st())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Oh;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(qa()<=Nt.DEBUG&&Wa("QueryEngine","SDK will not create cache indexes for query:",Yc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ps.resolve()):(qa()<=Nt.DEBUG&&Wa("QueryEngine","Query:",Yc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(qa()<=Nt.DEBUG&&Wa("QueryEngine","The SDK decides to create cache indexes for query:",Yc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$c(t))):Ps.resolve())}rs(e,t){if(zc(t))return Ps.resolve(null);let n=$c(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Hc(t,null,"F"),n=$c(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=du(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.cs(t,r);return this.ls(t,o,i,n.readTime)?this.rs(e,Hc(t,null,"F")):this.hs(e,o,t,n)}))))})))))}ss(e,t,n,r){return zc(t)||r.isEqual(gs.min())?Ps.resolve(null):this.ns.getDocuments(e,n).next((i=>{const o=this.cs(t,i);return this.ls(t,o,n,r)?Ps.resolve(null):(qa()<=Nt.DEBUG&&Wa("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yc(t)),this.hs(e,o,t,Ts(r,ks)).next((e=>e)))}))}cs(e,t){let n=new bl(Jc(e));return t.forEach(((t,r)=>{Xc(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return qa()<=Nt.DEBUG&&Wa("QueryEngine","Using full collection scan to execute query:",Yc(t)),this.ns.getDocumentsMatchingQuery(e,t,Ns.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const _h="LocalStore";class Ah{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new gl(ds),this.Is=new eu((e=>Dc(e)),Mc),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fh(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function Ph(e,t,n,r){return new Ah(e,t,n,r)}async function Ih(e,t){const n=Qa(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=du();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Dh(e){const t=Qa(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function Mh(e,t,n){let r=du(),i=du();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=nu();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(gs.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Wa(_h,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Vs:r,fs:i}}))}function Rh(e,t){const n=Qa(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Rs),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Lh(e,t){const n=Qa(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,Ps.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new Gd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Fh(e,t,n){const r=Qa(e),i=r.Ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ds(e))throw e;Wa(_h,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Uh(e,t,n){const r=Qa(e);let i=gs.min(),o=du();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Qa(e),i=r.Is.get(n);return void 0!==i?Ps.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,$c(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:gs.min(),n?o:du()))).next((e=>(zh(r,Qc(t),e),{documents:e,gs:o})))))}function zh(e,t,n){let r=e.Es.get(t)||gs.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Vh{constructor(){this.activeTargetIds=fu()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bh{constructor(){this.ho=new Vh,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Vh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $h{To(e){}shutdown(){}}const qh="ConnectivityMonitor";class Wh{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Wa(qh,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Wa(qh,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hh=null;function Kh(){return null===Hh?Hh=268435456+Math.round(2147483648*Math.random()):Hh++,"0x"+Hh.toString(16)}const Gh="RestConnection",Yh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xh{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Rl?`project_id=${n}`:`project_id=${n}&database_id=${r}`}bo(e,t,n,r,i){const o=Kh(),a=this.So(e,t.toUriEncodedString());Wa(Gh,`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(s,r,i),this.vo(e,a,s,n).then((t=>(Wa(Gh,`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Ka(Gh,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,o){return this.bo(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ba,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Yh[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class Qh{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}const Jh="WebChannelConnection";class Zh extends Xh{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=Kh();return new Promise(((o,a)=>{const s=new Ca;s.setWithCredentials(!0),s.listenOnce(Aa.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Pa.NO_ERROR:const t=s.getResponseJson();Wa(Jh,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case Pa.TIMEOUT:Wa(Jh,`RPC '${e}' ${i} timed out`),a(new Za(Ja.DEADLINE_EXCEEDED,"Request time out"));break;case Pa.HTTP_ERROR:const n=s.getStatus();if(Wa(Jh,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ja).indexOf(t)>=0?t:Ja.UNKNOWN}(t.status);a(new Za(e,t.message))}else a(new Za(Ja.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Za(Ja.UNAVAILABLE,"Connection failed."));break;default:Ya()}}finally{Wa(Jh,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Wa(Jh,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Kh(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ra(),a=Ma(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Wa(Jh,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new Qh({Fo:t=>{h?Wa(Jh,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Wa(Jh,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Wa(Jh,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,_a.EventType.OPEN,(()=>{h||(Wa(Jh,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,_a.EventType.CLOSE,(()=>{h||(h=!0,Wa(Jh,`RPC '${e}' stream ${r} transport closed`),f.Ko())})),p(u,_a.EventType.ERROR,(t=>{h||(h=!0,Ka(Jh,`RPC '${e}' stream ${r} transport errored:`,t),f.Ko(new Za(Ja.UNAVAILABLE,"The operation could not be completed")))})),p(u,_a.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Xa(!!i);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Wa(Jh,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Xu[e];if(void 0!==t)return Zu(t)}(t),i=a.message;void 0===n&&(n=Ja.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Ko(new Za(n,i)),u.close()}else Wa(Jh,`RPC '${e}' stream ${r} received:`,i),f.Uo(i)}})),p(a,Da.STAT_EVENT,(t=>{t.stat===Ia.PROXY?Wa(Jh,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Ia.NOPROXY&&Wa(Jh,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function ef(){return"undefined"!=typeof document?document:null}function tf(e){return new bd(e,!0)}class nf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Wa("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const rf="PersistentStream";class of{constructor(e,t,n,r,i,o,a,s){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new nf(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===Ja.RESOURCE_EXHAUSTED?(Ha(t.toString()),Ha("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Ja.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new Za(Ja.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Wa(rf,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Wa(rf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class af extends of{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ya()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Xa(void 0===t||"string"==typeof t),kl.fromBase64String(t||"")):(Xa(void 0===t||t instanceof Buffer||t instanceof Uint8Array),kl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Ja.UNKNOWN:Zu(e.code);return new Za(t,e.message||"")}(a);n=new dd(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cd(e,r.document.name),o=Ed(r.document.updateTime),a=r.document.createTime?Ed(r.document.createTime):gs.min(),s=new sc({mapValue:{fields:r.document.fields}}),l=cc.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new cd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Cd(e,r.document),o=r.readTime?Ed(r.readTime):gs.min(),a=cc.newNoDocument(i,o),s=r.removedTargetIds||[];n=new cd([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Cd(e,r.document),o=r.removedTargetIds||[];n=new cd([],o,i,null)}else{if(!("filter"in t))return Ya();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Yu(r,i),a=e.targetId;n=new ud(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return gs.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?gs.min():t.readTime?Ed(t.readTime):gs.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Pd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Rc(r)?{documents:Rd(e,r)}:{query:Ld(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Sd(e,t.resumeToken);const r=wd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(gs.min())>0){n.readTime=xd(e,t.snapshotVersion.toTimestamp());const r=wd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ya()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Pd(this.serializer),t.removeTarget=e,this.I_(t)}}class sf extends of{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xa(!!e.streamToken),this.lastStreamToken=e.streamToken,Xa(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Xa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(Xa(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ed(e.updateTime):Ed(t);return n.isEqual(gs.min())&&(n=Ed(t)),new _u(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ed(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Pd(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Md(this.serializer,e)))};this.I_(t)}}class lf{}class cf extends lf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Za(Ja.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.bo(e,jd(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ja.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Za(Ja.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.Co(e,jd(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ja.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Za(Ja.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class uf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ha(t),this.N_=!1):Wa("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const df="RemoteStore";class hf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{xf(this)&&(Wa(df,"Restarting streams for network reachability change."),await async function(e){const t=Qa(e);t.W_.add(4),await pf(t),t.j_.set("Unknown"),t.W_.delete(4),await ff(t)}(this))}))})),this.j_=new uf(n,r)}}async function ff(e){if(xf(e))for(const t of e.G_)await t(!0)}async function pf(e){for(const t of e.G_)await t(!1)}function mf(e,t){const n=Qa(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),wf(n)?bf(n):zf(n).c_()&&yf(n,t))}function gf(e,t){const n=Qa(e),r=zf(n);n.U_.delete(t),r.c_()&&vf(n,t),0===n.U_.size&&(r.c_()?r.P_():xf(n)&&n.j_.set("Unknown"))}function yf(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gs.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zf(e).y_(t)}function vf(e,t){e.H_.Ne(t),zf(e).w_(t)}function bf(e){e.H_=new fd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),zf(e).start(),e.j_.B_()}function wf(e){return xf(e)&&!zf(e).u_()&&e.U_.size>0}function xf(e){return 0===Qa(e).W_.size}function Sf(e){e.H_=void 0}async function kf(e){e.j_.set("Online")}async function Ef(e){e.U_.forEach(((t,n)=>{yf(e,t)}))}async function Tf(e,t){Sf(e),wf(e)?(e.j_.q_(t),bf(e)):e.j_.set("Unknown")}async function jf(e,t,n){if(e.j_.set("Online"),t instanceof dd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.U_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.U_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Wa(df,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Nf(e,n)}else if(t instanceof cd?e.H_.We(t):t instanceof ud?e.H_.Ze(t):e.H_.je(t),!n.isEqual(gs.min()))try{const t=await Dh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.U_.get(r);i&&e.U_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.U_.get(t);if(!r)return;e.U_.set(t,r.withResumeToken(kl.EMPTY_BYTE_STRING,r.snapshotVersion)),vf(e,t);const i=new Gd(r.target,t,n,r.sequenceNumber);yf(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Wa(df,"Failed to raise snapshot:",t),await Nf(e,t)}}async function Nf(e,t,n){if(!Ds(t))throw t;e.W_.add(1),await pf(e),e.j_.set("Offline"),n||(n=()=>Dh(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Wa(df,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await ff(e)}))}function Of(e,t){return t().catch((n=>Nf(e,n,t)))}async function Cf(e){const t=Qa(e),n=Vf(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:Rs;for(;_f(t);)try{const e=await Rh(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,Af(t,e)}catch(e){await Nf(t,e)}Pf(t)&&If(t)}function _f(e){return xf(e)&&e.K_.length<10}function Af(e,t){e.K_.push(t);const n=Vf(e);n.c_()&&n.b_&&n.S_(t.mutations)}function Pf(e){return xf(e)&&!Vf(e).u_()&&e.K_.length>0}function If(e){Vf(e).start()}async function Df(e){Vf(e).C_()}async function Mf(e){const t=Vf(e);for(const n of e.K_)t.S_(n.mutations)}async function Rf(e,t,n){const r=e.K_.shift(),i=Ku.from(r,t,n);await Of(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Cf(e)}async function Lf(e,t){t&&Vf(e).b_&&await async function(e,t){if(function(e){return Ju(e)&&e!==Ja.ABORTED}(t.code)){const n=e.K_.shift();Vf(e).h_(),await Of(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Cf(e)}}(e,t),Pf(e)&&If(e)}async function Ff(e,t){const n=Qa(e);n.asyncQueue.verifyOperationInProgress(),Wa(df,"RemoteStore received new credentials");const r=xf(n);n.W_.add(3),await pf(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await ff(n)}async function Uf(e,t){const n=Qa(e);t?(n.W_.delete(2),await ff(n)):t||(n.W_.add(2),await pf(n),n.j_.set("Unknown"))}function zf(e){return e.J_||(e.J_=function(e,t,n){const r=Qa(e);return r.M_(),new af(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:kf.bind(null,e),No:Ef.bind(null,e),Lo:Tf.bind(null,e),p_:jf.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),wf(e)?bf(e):e.j_.set("Unknown")):(await e.J_.stop(),Sf(e))}))),e.J_}function Vf(e){return e.Y_||(e.Y_=function(e,t,n){const r=Qa(e);return r.M_(),new sf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Df.bind(null,e),Lo:Lf.bind(null,e),D_:Mf.bind(null,e),v_:Rf.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Cf(e)):(await e.Y_.stop(),e.K_.length>0&&(Wa(df,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_}class Bf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new Bf(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Za(Ja.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $f(e,t){if(Ha("AsyncQueue",`${t}: ${e}`),Ds(e))return new Za(Ja.UNAVAILABLE,`${t}: ${e}`);throw e}class qf{static emptySet(e){return new qf(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ss.comparator(t.key,n.key):(e,t)=>Ss.comparator(e.key,t.key),this.keyedMap=iu(),this.sortedSet=new gl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new qf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wf{constructor(){this.Z_=new gl(Ss.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ya():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Hf{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Hf(e,t,qf.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Kf{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Gf{constructor(){this.queries=Yf(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=Qa(e),r=n.queries;n.queries=Yf(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new Za(Ja.ABORTED,"Firestore shutting down"))}}function Yf(){return new eu((e=>Gc(e)),Kc)}async function Xf(e,t){const n=Qa(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.na()&&t.ra()&&(r=2):(o=new Kf,r=t.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=$f(e,`Initialization of query '${Yc(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.ta.push(t),t.sa(n.onlineState),o.ea&&t.oa(o.ea)&&ep(n)}async function Qf(e,t){const n=Qa(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.ta.indexOf(t);e>=0&&(o.ta.splice(e,1),0===o.ta.length?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jf(e,t){const n=Qa(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&ep(n)}function Zf(e,t,n){const r=Qa(e),i=r.queries.get(t);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(t)}function ep(e){e.ia.forEach((e=>{e.next()}))}var tp,np;(np=tp||(tp={}))._a="default",np.Cache="cache";class rp{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Hf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=Hf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==tp.Cache}}class ip{constructor(e){this.key=e}}class op{constructor(e){this.key=e}}class ap{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=du(),this.mutatedKeys=du(),this.ya=Jc(e),this.wa=new qf(this.ya)}get ba(){return this.fa}Sa(e,t){const n=t?t.Da:new Wf,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Xc(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.ya(u,s)>0||l&&this.ya(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:o,Da:n,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ya()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const a=t&&!r?this.Fa():[],s=0===this.pa.size&&this.current&&!r?1:0,l=s!==this.ga;return this.ga=s,0!==o.length||l?{snapshot:new Hf(this.query,e.wa,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Wf,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=du(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new op(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new ip(n))})),t}Oa(e){this.fa=e.gs,this.pa=du();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Hf.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const sp="SyncEngine";class lp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class cp{constructor(e){this.key=e,this.Ba=!1}}class up{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new eu((e=>Gc(e)),Kc),this.qa=new Map,this.Qa=new Set,this.$a=new gl(Ss.comparator),this.Ka=new Map,this.Ua=new yh,this.Wa={},this.Ga=new Map,this.za=rh.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function dp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Pp(e);let i;const o=r.ka.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await fp(r,t,n,!0),i}async function hp(e,t){const n=Pp(e);await fp(n,t,!0,!1)}async function fp(e,t,n,r){const i=await Lh(e.localStore,$c(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await pp(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&mf(e.remoteStore,i),s}async function pp(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.Sa(n);i.ls&&(i=await Uh(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Sa(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return jp(e,t.targetId,s.Ma),s.snapshot}(e,t,n,r);const o=await Uh(e.localStore,t,!0),a=new ap(t,o.gs),s=a.Sa(o.documents),l=ld.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);jp(e,n,c.Ma);const u=new lp(t,n,a);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function mp(e,t,n){const r=Qa(e),i=r.ka.get(t),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter((e=>!Kc(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Fh(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gf(r.remoteStore,i.targetId),Ep(r,i.targetId)})).catch(As)):(Ep(r,i.targetId),await Fh(r.localStore,i.targetId,!0))}async function gp(e,t){const n=Qa(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gf(n.remoteStore,r.targetId))}async function yp(e,t){const n=Qa(e);try{const e=await function(e,t){const n=Qa(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Hr.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Hr.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(kl.EMPTY_BYTE_STRING,gs.min()).withLastLimboFreeSnapshotVersion(gs.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&a.push(n.Hr.updateTargetData(e,c))}));let s=nu(),l=du();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Mh(e,o,t.documentUpdates).next((e=>{s=e.Vs,l=e.fs}))),!r.isEqual(gs.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Ps.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ka.get(t);r&&(Xa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?Xa(r.Ba):e.removedDocuments.size>0&&(Xa(r.Ba),r.Ba=!1))})),await Cp(n,e,t)}catch(e){await As(e)}}function vp(e,t,n){const r=Qa(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Qa(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&ep(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bp(e,t,n){const r=Qa(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),o=i&&i.key;if(o){let e=new gl(Ss.comparator);e=e.insert(o,cc.newNoDocument(o,gs.min()));const n=du().add(o),i=new sd(gs.min(),new Map,new gl(ds),e,n);await yp(r,i),r.$a=r.$a.remove(o),r.Ka.delete(t),Op(r)}else await Fh(r.localStore,t,!1).then((()=>Ep(r,t,n))).catch(As)}async function wp(e,t){const n=Qa(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Qa(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Ps.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Xa(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=du();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);kp(n,r,null),Sp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cp(n,e)}catch(e){await As(e)}}async function xp(e,t,n){const r=Qa(e);try{const e=await function(e,t){const n=Qa(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Xa(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);kp(r,t,n),Sp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Cp(r,e)}catch(n){await As(n)}}function Sp(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function kp(e,t,n){const r=Qa(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Ep(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach((t=>{e.Ua.containsKey(t)||Tp(e,t)}))}function Tp(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(gf(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),Op(e))}function jp(e,t,n){for(const r of n)r instanceof ip?(e.Ua.addReference(r.key,t),Np(e,r)):r instanceof op?(Wa(sp,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||Tp(e,r.key)):Ya()}function Np(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Wa(sp,"New document in limbo: "+n),e.Qa.add(r),Op(e))}function Op(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Ss(bs.fromString(t)),r=e.za.next();e.Ka.set(r,new cp(n)),e.$a=e.$a.insert(n,r),mf(e.remoteStore,new Gd($c(Uc(n.path)),r,"TargetPurposeLimboResolution",Ms.ae))}}async function Cp(e,t,n){const r=Qa(e),i=[],o=[],a=[];r.ka.isEmpty()||(r.ka.forEach(((e,s)=>{a.push(r.Ha(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Nh.Yi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.La.p_(i),await async function(e,t){const n=Qa(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ps.forEach(t,(t=>Ps.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ps.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ds(e))throw e;Wa(_h,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,o))}async function _p(e,t){const n=Qa(e);if(!n.currentUser.isEqual(t)){Wa(sp,"User change. New user:",t.toKey());const e=await Ih(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new Za(Ja.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Cp(n,e.Rs)}}function Ap(e,t){const n=Qa(e),r=n.Ka.get(t);if(r&&r.Ba)return du().add(r.key);{let e=du();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.ba)}return e}}function Pp(e){const t=Qa(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ap.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bp.bind(null,t),t.La.p_=Jf.bind(null,t.eventManager),t.La.Ja=Zf.bind(null,t.eventManager),t}function Ip(e){const t=Qa(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xp.bind(null,t),t}class Dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Ph(this.persistence,new Ch,e.initialUser,this.serializer)}Xa(e){return new kh(Th.ri,this.serializer)}Za(e){return new Bh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dp.provider={build:()=>new Dp};class Mp extends Dp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xa(this.persistence.referenceDelegate instanceof jh);const n=this.persistence.referenceDelegate.garbageCollector;return new lh(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?nh.withCacheSize(this.cacheSizeBytes):nh.DEFAULT;return new kh((e=>jh.ri(e,t)),this.serializer)}}class Rp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>vp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=_p.bind(null,this.syncEngine),await Uf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Gf}createDatastore(e){const t=tf(e.databaseInfo.databaseId),n=function(e){return new Zh(e)}(e.databaseInfo);return function(e,t,n,r){return new cf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new hf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>vp(this.syncEngine,e,0)),Wh.D()?new Wh:new $h)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new up(e,t,n,r,i,o);return a&&(s.ja=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Qa(e);Wa(df,"RemoteStore shutting down."),t.W_.add(5),await pf(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Rp.provider={build:()=>new Rp};class Lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ha("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Fp="FirestoreClient";class Up{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Va.UNAUTHENTICATED,this.clientId=us.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Wa(Fp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Wa(Fp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=$f(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function zp(e,t){e.asyncQueue.verifyOperationInProgress(),Wa(Fp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ih(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Vp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Bp(e);Wa(Fp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Ff(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Ff(t.remoteStore,n))),e._onlineComponents=t}async function Bp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Wa(Fp,"Using user provided OfflineComponentProvider");try{await zp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ja.FAILED_PRECONDITION||e.code===Ja.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await zp(e,new Dp)}}else Wa(Fp,"Using default OfflineComponentProvider"),await zp(e,new Mp(void 0));return e._offlineComponents}async function $p(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Wa(Fp,"Using user provided OnlineComponentProvider"),await Vp(e,e._uninitializedComponentsProvider._online)):(Wa(Fp,"Using default OnlineComponentProvider"),await Vp(e,new Rp))),e._onlineComponents}function qp(e){return $p(e).then((e=>e.syncEngine))}async function Wp(e){const t=await $p(e),n=t.eventManager;return n.onListen=dp.bind(null,t.syncEngine),n.onUnlisten=mp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gp.bind(null,t.syncEngine),n}function Hp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new es;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Lp({next:n=>{o.su(),t.enqueueAndForget((()=>Qf(e,a))),n.fromCache&&"server"===r.source?i.reject(new Za(Ja.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new rp(n,o,{includeMetadataChanges:!0,Ta:!0});return Xf(e,a)}(await Wp(e),e.asyncQueue,t,n,r))),r.promise}function Kp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Gp=new Map;function Yp(e,t,n){if(!n)throw new Za(Ja.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Xp(e){if(!Ss.isDocumentKey(e))throw new Za(Ja.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Qp(e){if(Ss.isDocumentKey(e))throw new Za(Ja.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Jp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ya()}function Zp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Za(Ja.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jp(e);throw new Za(Ja.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function em(e,t){if(t<=0)throw new Za(Ja.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const tm="firestore.googleapis.com",nm=!0;class rm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Za(Ja.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tm,this.ssl=nm}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:nm;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=th;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<oh)throw new Za(Ja.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Za(Ja.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Za(Ja.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Za(Ja.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Za(Ja.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Za(Ja.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Za(Ja.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rm(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ns;switch(e.type){case"firstParty":return new as(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Za(Ja.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Gp.get(e);t&&(Wa("ComponentProvider","Removing Datastore"),Gp.delete(e),t.terminate())}(this),Promise.resolve()}}function om(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Zp(e,im))._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),s=`${t}:${n}`;o.host!==tm&&o.host!==s&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},o),{host:s,ssl:!1,emulatorOptions:r});if(!pt(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Va.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Za(Ja.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Va(o)}e._authCredentials=new rs(new ts(t,n))}}class am{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new am(this.firestore,e,this._query)}}class sm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sm(this.firestore,e,this._key)}}class lm extends am{constructor(e,t,n){super(e,t,Uc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sm(this.firestore,null,new Ss(e))}withConverter(e){return new lm(this.firestore,e,this._path)}}function cm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xt(e),Yp("collection","path",t),e instanceof im){const n=bs.fromString(t,...r);return Qp(n),new lm(e,null,n)}{if(!(e instanceof sm||e instanceof lm))throw new Za(Ja.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(bs.fromString(t,...r));return Qp(n),new lm(e.firestore,null,n)}}function um(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xt(e),1===arguments.length&&(t=us.newId()),Yp("doc","path",t),e instanceof im){const n=bs.fromString(t,...r);return Xp(n),new sm(e,null,new Ss(n))}{if(!(e instanceof sm||e instanceof lm))throw new Za(Ja.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(bs.fromString(t,...r));return Xp(n),new sm(e.firestore,e instanceof lm?e.converter:null,new Ss(n))}}const dm="AsyncQueue";class hm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new nf(this,"async_queue_retry"),this.bu=()=>{const e=ef();e&&Wa(dm,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.Su=e;const t=ef();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=ef();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new es;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(xY){if(!Ds(xY))throw xY;Wa(dm,"Operation failed with retryable error: "+xY)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ha("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Bf.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Ya()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.Su,await e}while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function fm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class pm extends im{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new hm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hm(e),this._firestoreClient=void 0,await e}}}function mm(e){if(e._terminated)throw new Za(Ja.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||gm(e),e._firestoreClient}function gm(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Ml(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Kp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Up(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ym{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ym(kl.fromBase64String(e))}catch(e){throw new Za(Ja.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ym(kl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Za(Ja.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xs(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bm{constructor(e){this._methodName=e}}class wm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Za(Ja.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Za(Ja.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ds(this._lat,e._lat)||ds(this._long,e._long)}}class xm{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Sm=/^__.*__$/;class km{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new zu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class Em{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new zu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Tm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ya()}}class jm{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Wm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Tm(this.Lu)&&Sm.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Nm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||tf(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jm({Lu:e,methodName:t,zu:n,path:xs.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Om(e){const t=e._freezeSettings(),n=tf(e._databaseId);return new Nm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cm(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ju(o.merge||o.mergeFields?2:0,t,n,i);Vm("Data must be an object, but it was:",a,r);const s=Um(r,a);let l,c;if(o.merge)l=new xl(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Bm(t,r,n);if(!a.contains(i))throw new Za(Ja.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Hm(e,i)||e.push(i)}l=new xl(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new km(new sc(s),l,c)}class _m extends bm{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _m}}function Am(e,t,n){return new jm({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Pm extends bm{_toFieldTransform(e){return new Cu(e.path,new xu)}isEqual(e){return e instanceof Pm}}class Im extends bm{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Am(this,e,!0),n=this.Hu.map((e=>Fm(e,t))),r=new Su(n);return new Cu(e.path,r)}isEqual(e){return e instanceof Im&&pt(this.Hu,e.Hu)}}class Dm extends bm{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Am(this,e,!0),n=this.Hu.map((e=>Fm(e,t))),r=new Eu(n);return new Cu(e.path,r)}isEqual(e){return e instanceof Dm&&pt(this.Hu,e.Hu)}}function Mm(e,t,n,r){const i=e.ju(1,t,n);Vm("Data must be an object, but it was:",i,r);const o=[],a=sc.empty();pl(r,((e,r)=>{const s=qm(t,e,n);r=xt(r);const l=i.Ku(s);if(r instanceof _m)o.push(s);else{const e=Fm(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new xl(o);return new Em(a,s,i.fieldTransforms)}function Rm(e,t,n,r,i,o){const a=e.ju(1,t,n),s=[Bm(t,r,n)],l=[i];if(o.length%2!=0)throw new Za(Ja.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(Bm(t,o[h])),l.push(o[h+1]);const c=[],u=sc.empty();for(let h=s.length-1;h>=0;--h)if(!Hm(c,s[h])){const e=s[h];let t=l[h];t=xt(t);const n=a.Ku(e);if(t instanceof _m)c.push(e);else{const r=Fm(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new xl(c);return new Em(u,d,a.fieldTransforms)}function Lm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fm(n,e.ju(r?4:3,t))}function Fm(e,t){if(zm(e=xt(e)))return Vm("Unsupported field value:",t,e),Um(e,t);if(e instanceof bm)return function(e,t){if(!Tm(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Fm(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=xt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ms.fromDate(e);return{timestampValue:xd(t.serializer,n)}}if(e instanceof ms){const n=new ms(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xd(t.serializer,n)}}if(e instanceof wm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ym)return{bytesValue:Sd(t.serializer,e._byteString)};if(e instanceof sm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Td(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof xm)return function(e,t){return{mapValue:{fields:{[Fl]:{stringValue:Vl},[Bl]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return pu(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${Jp(e)}`)}(e,t)}function Um(e,t){const n={};return ml(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pl(e,((e,r)=>{const i=Fm(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ms||e instanceof wm||e instanceof ym||e instanceof sm||e instanceof bm||e instanceof xm)}function Vm(e,t,n){if(!zm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Jp(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Bm(e,t,n){if((t=xt(t))instanceof vm)return t._internalPath;if("string"==typeof t)return qm(e,t);throw Wm("Field path arguments must be of type string or ",e,!1,void 0,n)}const $m=new RegExp("[~\\*/\\[\\]]");function qm(e,t,n){if(t.search($m)>=0)throw Wm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new vm(...t.split("."))._internalPath}catch(Fb){throw Wm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Wm(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Za(Ja.INVALID_ARGUMENT,s+e+l)}function Hm(e,t){return e.some((e=>e.isEqual(t)))}class Km{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gm extends Km{data(){return super.data()}}function Ym(e,t){return"string"==typeof t?qm(e,t):t instanceof vm?t._internalPath:t._delegate._internalPath}function Xm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Za(Ja.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qm{}class Jm extends Qm{}function Zm(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Qm&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof ng)).length,n=e.filter((e=>e instanceof eg)).length;if(t>1||t>0&&n>0)throw new Za(Ja.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class eg extends Jm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new eg(e,t,n)}_apply(e){const t=this._parse(e);return lg(e._query,t),new am(e.firestore,e.converter,Wc(e._query,t))}_parse(e){const t=Om(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Za(Ja.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){sg(a,o);const t=[];for(const n of a)t.push(ag(r,e,n));s={arrayValue:{values:t}}}else s=ag(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||sg(a,o),s=Lm(n,t,a,"in"===o||"not-in"===o);return gc.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function tg(e,t,n){const r=t,i=Ym("where",e);return eg._create(i,r,n)}class ng extends Qm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ng(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:yc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)lg(n,i),n=Wc(n,i)}(e._query,t),new am(e.firestore,e.converter,Wc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rg extends Jm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Za(Ja.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Za(Ja.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(t,n)}(e._query,this._field,this._direction);return new am(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Lc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function ig(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ym("orderBy",e);return rg._create(n,t)}class og extends Jm{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new og(e,t,n)}_apply(e){return new am(e.firestore,e.converter,Hc(e._query,this._limit,this._limitType))}}function ag(e,t,n){if("string"==typeof(n=xt(n))){if(""===n)throw new Za(Ja.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vc(t)&&-1!==n.indexOf("/"))throw new Za(Ja.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(bs.fromString(n));if(!Ss.isDocumentKey(r))throw new Za(Ja.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jl(e,new Ss(r))}if(n instanceof sm)return Jl(e,n._key);throw new Za(Ja.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jp(n)}.`)}function sg(e,t){if(!Array.isArray(e)||0===e.length)throw new Za(Ja.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Za(Ja.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Za(Ja.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class cg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ya()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return pl(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Bl].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>jl(e.doubleValue)));return new xm(i)}convertGeoPoint(e){return new wm(jl(e.latitude),jl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Il(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const t=Tl(e);return new ms(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=bs.fromString(e);Xa(Kd(n));const r=new Ll(n.get(1),n.get(3)),i=new Ss(n.popFirst(5));return r.isEqual(t)||Ha(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function ug(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class dg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hg extends Km{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class fg extends hg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class pg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new dg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new fg(this._firestore,this._userDataWriter,n.key,n,new dg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Za(Ja.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new fg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new dg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new fg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:mg(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function mg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ya()}}class gg extends cg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ym(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sm(this.firestore,null,t)}}function yg(e){e=Zp(e,am);const t=Zp(e.firestore,pm),n=mm(t),r=new gg(t);return Xm(e._query),Hp(n,e._query).then((n=>new pg(t,r,e,n)))}function vg(e,t,n){e=Zp(e,sm);const r=Zp(e.firestore,pm),i=Om(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=xt(t))||t instanceof vm?Rm(i,"updateDoc",e._key,t,n,s):Mm(i,"updateDoc",e._key,t),Sg(r,[o.toMutation(e._key,Au.exists(!0))])}function bg(e){return Sg(Zp(e.firestore,pm),[new qu(e._key,Au.none())])}function wg(e,t){const n=Zp(e.firestore,pm),r=um(e),i=ug(e.converter,t);return Sg(n,[Cm(Om(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Au.exists(!1))]).then((()=>r))}function xg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=xt(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||fm(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(fm(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof sm)d=Zp(e.firestore,pm),h=Uc(e._key.path),u={next:t=>{n[l]&&n[l](kg(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Zp(e,am);d=Zp(t.firestore,pm),h=t._query;const r=new gg(d);u={next:e=>{n[l]&&n[l](new pg(d,r,t,e))},error:n[l+1],complete:n[l+2]},Xm(e._query)}return function(e,t,n,r){const i=new Lp(r),o=new rp(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Xf(await Wp(e),o))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>Qf(await Wp(e),o)))}}(mm(d),h,c,u)}function Sg(e,t){return function(e,t){const n=new es;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Ip(e);try{const e=await function(e,t){const n=Qa(e),r=ms.now(),i=t.reduce(((e,t)=>e.add(t.key)),du());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=nu(),l=du();return n.ds.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Lu(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new zu(e.key,t,lc(t.value.mapValue),Au.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:ou(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new gl(ds)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Cp(r,e.changes),await Cf(r.remoteStore)}catch(e){const t=$f(e,"Failed to persist write");n.reject(t)}}(await qp(e),t,n))),n.promise}(mm(e),t)}function kg(e,t,n){const r=n.docs.get(t._key),i=new gg(e);return new hg(e,i,t._key,r,new dg(n.hasPendingWrites,n.fromCache),t.converter)}function Eg(){return new Pm("serverTimestamp")}function Tg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Im("arrayUnion",t)}function jg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Dm("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ba=e}(Un),Dn(new St("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new pm(new is(e.getProvider("auth-internal")),new ls(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Za(Ja.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Bn(Ua,za,e),Bn(Ua,za,"esm2017")}();const Ng="@firebase/installations",Og="0.6.13",Cg=1e4,_g=`w:${Og}`,Ag="FIS_v2",Pg=36e5,Ig=new ht("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Dg(e){return e instanceof dt&&e.code.includes("request-failed")}function Mg(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Rg(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Lg(e,t){const n=(await t.json()).error;return Ig.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Fg(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ug(e,t){let{refreshToken:n}=t;const r=Fg(e);return r.append("Authorization",function(e){return`${Ag} ${e}`}(n)),r}async function zg(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Vg(e){return new Promise((t=>{setTimeout(t,e)}))}const Bg=/^[cdef][\w-]{21}$/;function $g(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return Bg.test(t)?t:""}catch(e){return""}}function qg(e){return`${e.appName}!${e.appId}`}const Wg=new Map;function Hg(e,t){const n=qg(e);Kg(n,t),function(e,t){const n=Yg();n&&n.postMessage({key:e,fid:t});Xg()}(n,t)}function Kg(e,t){const n=Wg.get(e);if(n)for(const r of n)r(t)}let Gg=null;function Yg(){return!Gg&&"BroadcastChannel"in self&&(Gg=new BroadcastChannel("[Firebase] FID Change"),Gg.onmessage=e=>{Kg(e.data.key,e.data.fid)}),Gg}function Xg(){0===Wg.size&&Gg&&(Gg.close(),Gg=null)}const Qg="firebase-installations-store";let Jg=null;function Zg(){return Jg||(Jg=Wt("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Qg)}})),Jg}async function ey(e,t){const n=qg(e),r=(await Zg()).transaction(Qg,"readwrite"),i=r.objectStore(Qg),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Hg(e,t.fid),t}async function ty(e){const t=qg(e),n=(await Zg()).transaction(Qg,"readwrite");await n.objectStore(Qg).delete(t),await n.done}async function ny(e,t){const n=qg(e),r=(await Zg()).transaction(Qg,"readwrite"),i=r.objectStore(Qg),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||Hg(e,a.fid),a}async function ry(e){let t;const n=await ny(e.appConfig,(n=>{const r=function(e){const t=e||{fid:$g(),registrationStatus:0};return ay(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Ig.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Mg(n),a=Fg(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:Ag,appId:n.appId,sdkVersion:_g},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await zg((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Rg(e.authToken)}}throw await Lg("Create Installation",u)}(e,t);return ey(e.appConfig,n)}catch(xY){throw Dg(xY)&&409===xY.customData.serverCode?await ty(e.appConfig):await ey(e.appConfig,{fid:t.fid,registrationStatus:0}),xY}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:iy(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function iy(e){let t=await oy(e.appConfig);for(;1===t.registrationStatus;)await Vg(100),t=await oy(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await ry(e);return n||t}return t}function oy(e){return ny(e,(e=>{if(!e)throw Ig.create("installation-not-found");return ay(e)}))}function ay(e){return 1===(t=e).registrationStatus&&t.registrationTime+Cg<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function sy(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Mg(e)}/${n}/authTokens:generate`}(n,t),o=Ug(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:_g,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await zg((()=>fetch(i,l)));if(c.ok){return Rg(await c.json())}throw await Lg("Generate Auth Token",c)}async function ly(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await ny(e.appConfig,(r=>{if(!uy(r))throw Ig.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Pg}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await cy(e.appConfig);for(;1===n.authToken.requestStatus;)await Vg(100),n=await cy(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ly(e,t):r}(e,n),r;{if(!navigator.onLine)throw Ig.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await sy(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await ey(e.appConfig,r),n}catch(xY){if(!Dg(xY)||401!==xY.customData.serverCode&&404!==xY.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ey(e.appConfig,n)}else await ty(e.appConfig);throw xY}}(e,n),n}}));return t?await t:r.authToken}function cy(e){return ny(e,(e=>{if(!uy(e))throw Ig.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Cg<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function uy(e){return void 0!==e&&2===e.registrationStatus}async function dy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await ry(e);t&&await t}(n);return(await ly(n,t)).token}function hy(e){return Ig.create("missing-app-config-values",{valueName:e})}const fy="installations",py=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw hy("App Configuration");if(!e.name)throw hy("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw hy(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Mn(t,"heartbeat"),_delete:()=>Promise.resolve()}},my=e=>{const t=Mn(e.getProvider("app").getImmediate(),fy).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await ry(t);return r?r.catch(console.error):ly(t).catch(console.error),n.fid}(t),getToken:e=>dy(t,e)}};Dn(new St(fy,py,"PUBLIC")),Dn(new St("installations-internal",my,"PRIVATE")),Bn(Ng,Og),Bn(Ng,Og,"esm2017");const gy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yy="google.c.a.c_id",vy=1e4;var by,wy;function xy(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sy(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(by||(by={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(wy||(wy={}));const ky="fcm_token_details_db",Ey="fcm_token_object_Store";const Ty="firebase-messaging-store";let jy=null;function Ny(){return jy||(jy=Wt("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ty)}})),jy}async function Oy(e){const t=_y(e),n=await Ny(),r=await n.transaction(Ty).objectStore(Ty).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map((e=>e.name));if(!e.includes(ky))return null}let t=null;const n=await Wt(ky,5,{upgrade:async(n,r,i,o)=>{var a;if(r<2)return;if(!n.objectStoreNames.contains(Ey))return;const s=o.objectStore(Ey),l=await s.index("fcmSenderId").get(e);if(await s.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(a=e.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:xy(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:xy(e.auth),p256dh:xy(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:xy(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:xy(e.auth),p256dh:xy(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:xy(e.vapidKey)}}}}});return n.close(),await Ht(ky),await Ht("fcm_vapid_details_db"),await Ht("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await Cy(e,t),t}}async function Cy(e,t){const n=_y(e),r=(await Ny()).transaction(Ty,"readwrite");return await r.objectStore(Ty).put(t,n),await r.done,t}function _y(e){let{appConfig:t}=e;return t.appId}const Ay=new ht("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function Py(e,t){const n={method:"DELETE",headers:await Dy(e)};try{const r=await fetch(`${Iy(e.appConfig)}/${t}`,n),i=await r.json();if(i.error){const e=i.error.message;throw Ay.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw Ay.create("token-unsubscribe-failed",{errorInfo:null===r||void 0===r?void 0:r.toString()})}}function Iy(e){let{projectId:t}=e;return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}async function Dy(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function My(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const o={web:{endpoint:r,auth:n,p256dh:t}};return i!==gy&&(o.web.applicationPubKey=i),o}async function Ry(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sy(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:xy(t.getKey("auth")),p256dh:xy(t.getKey("p256dh"))},r=await Oy(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await Dy(e),r=My(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${Iy(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(a){throw Ay.create("token-update-failed",{errorInfo:null===a||void 0===a?void 0:a.toString()})}if(o.error){const e=o.error.message;throw Ay.create("token-update-failed",{errorInfo:e})}if(!o.token)throw Ay.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await Cy(e.firebaseDependencies,r),n}catch(xY){throw xY}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Py(e.firebaseDependencies,r.token)}catch(xY){console.warn(xY)}return Ly(e.firebaseDependencies,n)}return Ly(e.firebaseDependencies,n)}async function Ly(e,t){const n=await async function(e,t){const n=await Dy(e),r=My(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(Iy(e.appConfig),i);o=await t.json()}catch(a){throw Ay.create("token-subscribe-failed",{errorInfo:null===a||void 0===a?void 0:a.toString()})}if(o.error){const e=o.error.message;throw Ay.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw Ay.create("token-subscribe-no-token");return o.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await Cy(e,r),r.token}function Fy(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,o,a;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;s&&(e.fcmOptions.link=s);const l=null===(a=t.fcmOptions)||void 0===a?void 0:a.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function Uy(e){return Ay.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zy{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Uy("App Configuration Object");if(!e.name)throw Uy("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Uy(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Vy(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch((()=>{})),await async function(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error("Service worker not registered after 10000 ms"))),vy),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{var n;"activated"===(null===(n=e.target)||void 0===n?void 0:n.state)&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))}))}(e.swRegistration)}catch(xY){throw Ay.create("failed-service-worker-registration",{browserErrorMessage:null===xY||void 0===xY?void 0:xY.message})}}async function By(e,t){if(!navigator)throw Ay.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw Ay.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=gy)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await Vy(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Ay.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),Ry(e)}async function $y(e,t,n){const r=function(e){switch(e){case wy.NOTIFICATION_CLICKED:return"notification_open";case wy.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[yy],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function qy(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===wy.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(Fy(n)):e.onMessageHandler.next(Fy(n)));const r=n.data;var i;"object"===typeof(i=r)&&i&&yy in i&&"1"===r["google.c.a.e"]&&await $y(e,n.messageType,r)}const Wy="@firebase/messaging",Hy="0.12.17",Ky=e=>{const t=new zy(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(e=>qy(t,e))),t},Gy=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>By(t,e)}};async function Yy(){try{await ut()}catch(xY){return!1}return"undefined"!==typeof window&&ct()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Xy(e,t){return function(e,t){if(!navigator)throw Ay.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=xt(e),t)}Dn(new St("messaging",Ky,"PUBLIC")),Dn(new St("messaging-internal",Gy,"PRIVATE")),Bn(Wy,Hy),Bn(Wy,Hy,"esm2017");const Qy=zn({apiKey:"AIzaSyBCTPw3DHKBJmla0oQTHlEdfkjKM7Ao4mw",authDomain:"routine-69a4b.firebaseapp.com",projectId:"routine-69a4b",storageBucket:"routine-69a4b.firebasestorage.app",messagingSenderId:"783081813350",appId:"1:783081813350:web:1cfc46a7128ba27f9684a7",measurementId:"G-2QD5W55YR3"}),Jy=function(e,t){const n="object"==typeof e?e:Vn(),r="string"==typeof e?e:t||Rl,i=Mn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=rt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&om(i,...e)}return i}(Qy),Zy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn();const t=Mn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Mn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(pt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;or(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:va,persistence:[Oo,uo,fo]}),r=ot("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Sa)return;const r=null===t||void 0===t?void 0:t.token;ka!==r&&(ka=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){xt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){xt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=rt("auth");return o&&ji(n,`http://${o}`),n}(Qy);let ev=null;const tv=async()=>{try{return await Yy()?(ev=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn();return Yy().then((e=>{if(!e)throw Ay.create("unsupported-browser")}),(e=>{throw Ay.create("indexed-db-unsupported")})),Mn(xt(e),"messaging").getImmediate()}(Qy),ev):(console.log("Firebase Cloud Messaging non \xe8 supportato in questo browser"),null)}catch(e){return console.error("Errore durante l'inizializzazione di Firebase Cloud Messaging:",e),null}};class nv{constructor(){this.messaging=null,this.isMessagingSupported=!1,this.tokensCollectionName="fcm_tokens",this.currentToken=null,this.isPermissionGranted=!1}static getInstance(){return nv.instance||(nv.instance=new nv),nv.instance}async initialize(){try{return this.messaging=await tv(),this.isMessagingSupported=!!this.messaging,this.isMessagingSupported?(this.setupForegroundMessageHandler(),!0):(console.log("Firebase Cloud Messaging non \xe8 supportato in questo browser o ambiente"),!1)}catch(e){return console.error("Errore durante l'inizializzazione di FCM:",e),!1}}async requestPermissionAndRegisterToken(e){if(!this.isMessagingSupported||!this.messaging)return console.log("Firebase Cloud Messaging non \xe8 supportato"),!1;try{const t=await Notification.requestPermission();if(this.isPermissionGranted="granted"===t,!this.isPermissionGranted)return console.log("Permesso notifiche non concesso dall'utente"),!1;const n=await async function(e,t){return By(e=xt(e),t)}(this.messaging,{vapidKey:"BFIXkm6BMHBkE3thQmqy2-3rX5U37a2zl6gC5axp6y4oMXFT71hQWBY3HcR12dE3BAnY6YaZRvvHgcDSKGNLKQE"});return n?(this.currentToken=n,await this.saveTokenToFirestore(e,n),!0):(console.log("Impossibile ottenere il token FCM"),!1)}catch(t){return console.error("Errore durante la richiesta del permesso o la registrazione del token:",t),!1}}arePushNotificationsEnabled(){return this.isMessagingSupported&&this.isPermissionGranted&&!!this.currentToken}setupForegroundMessageHandler(){this.messaging&&Xy(this.messaging,(e=>{console.log("Messaggio ricevuto in foreground:",e),this.showForegroundNotification(e)}))}showForegroundNotification(e){const t=e.notification,n=e.data;if("Notification"in window&&"granted"===Notification.permission){const e={body:(null===t||void 0===t?void 0:t.body)||"Nuova notifica da MyRoutine",icon:"/logo192.png",badge:"/favicon.ico",tag:(null===n||void 0===n?void 0:n.tag)||"default",data:{type:(null===n||void 0===n?void 0:n.type)||"system",relatedId:(null===n||void 0===n?void 0:n.relatedId)||null,url:(null===n||void 0===n?void 0:n.url)||"/"}},r=new Notification((null===t||void 0===t?void 0:t.title)||"MyRoutine",e);r.onclick=()=>{window.focus(),n&&n.url&&(window.location.href=n.url),r.close()}}}async saveTokenToFirestore(e,t){try{const n=Zm(cm(Jy,this.tokensCollectionName),tg("userId","==",e),tg("token","==",t)),r=await yg(n);if(r.empty){const n={userId:e,token:t,device:this.getDeviceInfo(),createdAt:Eg(),lastUsedAt:Eg()};await wg(cm(Jy,this.tokensCollectionName),n)}else{const e=r.docs[0];await vg(um(Jy,this.tokensCollectionName,e.id),{lastUsedAt:Eg()})}}catch(n){throw console.error("Errore durante il salvataggio del token in Firestore:",n),n}}getDeviceInfo(){const e=navigator.userAgent,t=navigator.platform,n=`${window.screen.width}x${window.screen.height}`;return`${t} - ${window.matchMedia("(display-mode: standalone)").matches?"PWA":"Browser"} - ${n} - ${e}`}async unregisterToken(e){if(this.currentToken)try{const t=Zm(cm(Jy,this.tokensCollectionName),tg("userId","==",e),tg("token","==",this.currentToken)),n=await yg(t);if(!n.empty){const e=n.docs.map((e=>bg(um(Jy,this.tokensCollectionName,e.id))));await Promise.all(e)}this.currentToken=null,this.isPermissionGranted=!1}catch(t){throw console.error("Errore durante la rimozione del token:",t),t}}async sendPushNotification(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"system",i=arguments.length>4?arguments[4]:void 0;try{const o={userId:e,title:t,body:n,type:r,relatedId:i,timestamp:Eg(),status:"pending"};await wg(cm(Jy,"push_notifications_queue"),o),console.log("Notifica push accodata per l'invio:",o)}catch(o){throw console.error("Errore durante l'invio della notifica push:",o),o}}}nv.instance=void 0;const rv=nv;var iv=n(579);const ov=(0,r.createContext)(void 0),av=()=>{const e=(0,r.useContext)(ov);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},sv=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[o,a]=(0,r.useState)(!0),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),d=rv.getInstance();(0,r.useEffect)((()=>{(async()=>{await d.initialize(),d.arePushNotificationsEnabled()&&u(!0)})()}),[]),(0,r.useEffect)((()=>{const e=function(e,t,n,r){return xt(e).onAuthStateChanged(t,n,r)}(Zy,(e=>{i(e),a(!1),e&&d.arePushNotificationsEnabled()&&d.requestPermissionAndRegisterToken(e.uid).then((e=>{u(e)})).catch((e=>{console.error("Errore durante la registrazione automatica del token FCM:",e)}))}));return e}),[]);const h={currentUser:n,isLoading:o,error:s,isPushNotificationsEnabled:c,signup:async(e,t,n)=>{try{l(null);const r=await async function(e,t,n){if(Rn(e.app))return Promise.reject(lr(e));const r=pi(e),i=Ei(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gi,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&io(e),t})),a=await Yi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(Zy,e,t);await oo(r.user,{displayName:n})}catch(r){throw l(r.message),r}},login:async(e,t)=>{try{l(null),await function(e,t,n){return Rn(e.app)?Promise.reject(lr(e)):no(xt(e),Vi.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&io(e),t}))}(Zy,e,t)}catch(n){throw l(n.message),n}},loginWithGoogle:async()=>{try{l(null);const e=new Wi;await async function(e,t,n){if(Rn(e.app))return Promise.reject(ar(e,"operation-not-supported-in-this-environment"));const r=pi(e);cr(e,t,Bi);const i=Do(r,n);return new Vo(r,"signInViaPopup",t,i).executeNotNull()}(Zy,e)}catch(e){throw l(e.message),e}},logout:async()=>{try{l(null),await function(e){return xt(e).signOut()}(Zy)}catch(e){throw l(e.message),e}},resetPassword:async e=>{try{l(null),await async function(e,t,n){const r=pi(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ro(r,i,n),await Ei(r,i,"getOobCode",Ii,"EMAIL_PASSWORD_PROVIDER")}(Zy,e)}catch(t){throw l(t.message),t}},updateUserProfile:async e=>{try{l(null),n&&await oo(n,{displayName:e})}catch(t){throw l(t.message),t}},enablePushNotifications:async()=>{if(!n)return!1;try{const e=await d.requestPermissionAndRegisterToken(n.uid);return u(e),e}catch(s){return console.error("Errore durante l'abilitazione delle notifiche push:",s),!1}},disablePushNotifications:async()=>{if(n)try{await d.unregisterToken(n.uid),u(!1)}catch(s){console.error("Errore durante la disabilitazione delle notifiche push:",s)}}};return(0,iv.jsx)(ov.Provider,{value:h,children:!o&&t})};function lv(e){return lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(e)}function cv(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function uv(e){cv(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===lv(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function dv(e){if(cv(1,arguments),!function(e){return cv(1,arguments),e instanceof Date||"object"===lv(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=uv(e);return!isNaN(Number(t))}function hv(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function fv(e,t){return cv(2,arguments),function(e,t){cv(2,arguments);var n=uv(e).getTime(),r=hv(t);return new Date(n+r)}(e,-hv(t))}function pv(e){cv(1,arguments);var t=uv(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function mv(e){cv(1,arguments);var t=uv(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=pv(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=pv(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function gv(e){cv(1,arguments);var t=uv(e),n=pv(t).getTime()-function(e){cv(1,arguments);var t=mv(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),pv(n)}(t).getTime();return Math.round(n/6048e5)+1}var yv={};function vv(){return yv}function bv(e,t){var n,r,i,o,a,s,l,c;cv(1,arguments);var u=vv(),d=hv(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=uv(e),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function wv(e,t){var n,r,i,o,a,s,l,c;cv(1,arguments);var u=uv(e),d=u.getUTCFullYear(),h=vv(),f=hv(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var m=bv(p,t),g=new Date(0);g.setUTCFullYear(d,0,f),g.setUTCHours(0,0,0,0);var y=bv(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function xv(e,t){cv(1,arguments);var n=uv(e),r=bv(n,t).getTime()-function(e,t){var n,r,i,o,a,s,l,c;cv(1,arguments);var u=vv(),d=hv(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=wv(e,t),f=new Date(0);return f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0),bv(f,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Sv(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var kv={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Sv("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Sv(n+1,2)},d:function(e,t){return Sv(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Sv(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Sv(e.getUTCHours(),t.length)},m:function(e,t){return Sv(e.getUTCMinutes(),t.length)},s:function(e,t){return Sv(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Sv(Math.floor(r*Math.pow(10,n-3)),t.length)}};const Ev=kv;var Tv="midnight",jv="noon",Nv="morning",Ov="afternoon",Cv="evening",_v="night",Av={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ev.y(e,t)},Y:function(e,t,n,r){var i=wv(e,r),o=i>0?i:1-i;return"YY"===t?Sv(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Sv(o,t.length)},R:function(e,t){return Sv(mv(e),t.length)},u:function(e,t){return Sv(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Sv(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Sv(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Ev.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Sv(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=xv(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Sv(i,t.length)},I:function(e,t,n){var r=gv(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Sv(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ev.d(e,t)},D:function(e,t,n){var r=function(e){cv(1,arguments);var t=uv(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Sv(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Sv(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Sv(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Sv(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?jv:0===i?Tv:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?Cv:i>=12?Ov:i>=4?Nv:_v,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ev.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ev.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Sv(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Sv(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ev.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ev.s(e,t)},S:function(e,t){return Ev.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return Iv(i);case"XXXX":case"XX":return Dv(i);default:return Dv(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Iv(i);case"xxxx":case"xx":return Dv(i);default:return Dv(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Pv(i,":");default:return"GMT"+Dv(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Pv(i,":");default:return"GMT"+Dv(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Sv(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Sv((r._originalDate||e).getTime(),t.length)}};function Pv(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+Sv(o,2)}function Iv(e,t){return e%60===0?(e>0?"-":"+")+Sv(Math.abs(e)/60,2):Dv(e,t)}function Dv(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Sv(Math.floor(i/60),2)+n+Sv(i%60,2)}const Mv=Av;var Rv=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Lv=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Fv={p:Lv,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return Rv(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Rv(i,t)).replace("{{time}}",Lv(o,t))}};const Uv=Fv;function zv(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Vv=["D","DD"],Bv=["YY","YYYY"];function $v(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var qv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Wv=function(e,t,n){var r,i=qv[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Hv(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Kv={date:Hv({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Hv({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Hv({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Gv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const Yv=function(e,t,n,r){return Gv[e]};function Xv(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Qv={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Xv({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Xv({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Xv({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Xv({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Xv({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Jv(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(s)}));return a=e.valueCallback?e.valueCallback(c):c,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(s.length)}}}function Zv(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(i.length)}}}var eb={ordinalNumber:Zv({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Jv({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Jv({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Jv({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Jv({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Jv({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const tb={code:"en-US",formatDistance:Wv,formatLong:Kv,formatRelative:Yv,localize:Qv,match:eb,options:{weekStartsOn:0,firstWeekContainsDate:1}};var nb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ib=/^'([^]*?)'?$/,ob=/''/g,ab=/[a-zA-Z]/;function sb(e,t,n){var r,i,o,a,s,l,c,u,d,h,f,p,m,g,y,v,b,w;cv(2,arguments);var x=String(t),S=vv(),k=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:S.locale)&&void 0!==r?r:tb,E=hv(null!==(o=null!==(a=null!==(s=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:S.firstWeekContainsDate)&&void 0!==a?a:null===(d=S.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==o?o:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=hv(null!==(f=null!==(p=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:S.weekStartsOn)&&void 0!==p?p:null===(b=S.locale)||void 0===b||null===(w=b.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==f?f:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var j=uv(e);if(!dv(j))throw new RangeError("Invalid time value");var N=fv(j,zv(j)),O={firstWeekContainsDate:E,weekStartsOn:T,locale:k,_originalDate:j};return x.match(rb).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,Uv[t])(e,k.formatLong):e})).join("").match(nb).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(ib);if(!t)return e;return t[1].replace(ob,"'")}(r);var o,a=Mv[i];if(a)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(o=r,-1===Bv.indexOf(o))||$v(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==Vv.indexOf(e)}(r)||$v(r,t,String(e)),a(N,r,k.localize,O);if(i.match(ab))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")}Math.pow(10,8);var lb=6e4,cb=36e5;function ub(e,t){var n;cv(1,arguments);var r=hv(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,o=function(e){var t,n={},r=e.split(db.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],db.timeZoneDelimiter.test(n.date)&&(n.date=e.split(db.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var i=db.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e);if(o.date){var a=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?i:100*o,restDateString:e.slice((r[1]||r[2]).length)}}(o.date,r);i=function(e,t){if(null===t)return new Date(NaN);var n=e.match(hb);if(!n)return new Date(NaN);var r=!!n[4],i=mb(n[1]),o=mb(n[2])-1,a=mb(n[3]),s=mb(n[4]),l=mb(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,o=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}(t,s,l):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(yb[t]||(vb(e)?29:28))}(t,o,a)&&function(e,t){return t>=1&&t<=(vb(e)?366:365)}(t,i)?(c.setUTCFullYear(t,o,Math.max(i,a)),c):new Date(NaN)}(a.restDateString,a.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var s,l=i.getTime(),c=0;if(o.time&&(c=function(e){var t=e.match(fb);if(!t)return NaN;var n=gb(t[1]),r=gb(t[2]),i=gb(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i))return NaN;return n*cb+r*lb+1e3*i}(o.time),isNaN(c)))return new Date(NaN);if(!o.timezone){var u=new Date(l+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return s=function(e){if("Z"===e)return 0;var t=e.match(pb);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return n*(r*cb+i*lb)}(o.timezone),isNaN(s)?new Date(NaN):new Date(l+c+s)}var db={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hb=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fb=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pb=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mb(e){return e?parseInt(e):1}function gb(e){return e&&parseFloat(e.replace(",","."))||0}var yb=[31,null,31,30,31,30,31,31,30,31,30,31];function vb(e){return e%400===0||e%4===0&&e%100!==0}function bb(e,t){cv(2,arguments);var n=uv(e),r=uv(t);return n.getTime()>r.getTime()}function wb(e,t){cv(2,arguments);var n=uv(e),r=hv(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function xb(e,t){cv(2,arguments);var n=uv(e),r=uv(t);return n.getTime()<r.getTime()}class Sb{constructor(){this.notificationsEnabled=!1,this.tasks=[],this.timers=new Map}static getInstance(){return Sb.instance||(Sb.instance=new Sb),Sb.instance}async requestPermission(){if(!("Notification"in window))return console.log("Questo browser non supporta le notifiche desktop"),!1;if("granted"===Notification.permission)return this.notificationsEnabled=!0,!0;if("denied"!==Notification.permission){const e=await Notification.requestPermission();return this.notificationsEnabled="granted"===e,this.notificationsEnabled}return!1}areNotificationsEnabled(){return this.notificationsEnabled&&"granted"===Notification.permission}updateTasks(e){if(this.clearAllNotifications(),this.tasks=e,!this.notificationsEnabled)return;new Date;e.forEach((e=>{e.notifyBefore&&("oneTime"===e.type&&e.isCompleted||("oneTime"===e.type?this.scheduleOneTimeNotification(e):"routine"===e.type&&this.scheduleRoutineNotifications(e)))}))}getNotificationAdvanceTime(e){return!e.notifyInAdvance||e.notifyInAdvance<=0?6e5:"hours"===e.notifyTimeUnit?60*e.notifyInAdvance*60*1e3:60*e.notifyInAdvance*1e3}scheduleOneTimeNotification(e){if(!e.date||!e.time)return;const t=new Date(`${e.date}T${e.time}`),n=this.getNotificationAdvanceTime(e),r=new Date(t.getTime()-n),i=new Date;if(r<=i)return;const o=r.getTime()-i.getTime(),a=setTimeout((()=>{this.showNotification(e)}),o);this.timers.set(e.id,a)}scheduleRoutineNotifications(e){if(!e.time)return;const t=new Date;let n=null;if(n="custom"===e.recurrenceType&&e.recurrenceInterval?this.getNextCustomOccurrence(e):"biweekly"===e.recurrenceType?this.getNextBiweeklyOccurrence(e):"monthly"===e.recurrenceType?this.getNextMonthlyOccurrence(e):this.getNextWeekdayOccurrence(e),!n)return;const[r,i]=e.time.split(":").map(Number);n.setHours(r,i,0,0);const o=this.getNotificationAdvanceTime(e),a=new Date(n.getTime()-o).getTime()-t.getTime();if(a>0){const t=setTimeout((()=>{this.showNotification(e),this.scheduleRoutineNotifications(e)}),a);this.timers.set(`${e.id}_${n.toISOString()}`,t)}}getNextCustomOccurrence(e){var t;if(!e.startDate||!e.recurrenceInterval)return null;const n=new Date;let r=ub(e.startDate);if(e.endDate&&bb(n,ub(e.endDate)))return null;const i=e.recurrenceUnit||"days";let o;if("days"===i){const t=Math.floor((n.getTime()-r.getTime())/864e5);o=wb(r,(Math.floor(t/e.recurrenceInterval)+1)*e.recurrenceInterval)}else if("weeks"===i){const t=r.getDay(),i=n.getDay(),a=Math.floor((n.getTime()-r.getTime())/864e5),s=Math.floor(a/7),l=Math.floor(s/e.recurrenceInterval);let c=new Date(r);c.setDate(r.getDate()+7*(l+1)*e.recurrenceInterval),t===i&&c<=n&&c.setDate(c.getDate()+7*e.recurrenceInterval),o=c}else if("months"===i){const t=r.getDate(),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth()+12*i,s=Math.floor(a/e.recurrenceInterval);let l=new Date(r);l.setMonth(r.getMonth()+(s+1)*e.recurrenceInterval),n.getDate()===t&&l<=n&&l.setMonth(l.getMonth()+e.recurrenceInterval),o=l}else{const t=Math.floor((n.getTime()-r.getTime())/864e5);o=wb(r,(Math.floor(t/e.recurrenceInterval)+1)*e.recurrenceInterval)}if(e.endDate&&bb(o,ub(e.endDate)))return null;const a=sb(o,"yyyy-MM-dd");if(null!==(t=e.excludedDates)&&void 0!==t&&t.includes(a)){const t=wb(o,1),n={...e,startDate:sb(t,"yyyy-MM-dd"),excludedDates:e.excludedDates};return this.getNextCustomOccurrence(n)}return o}getNextBiweeklyOccurrence(e){if(!e.weekdays||0===e.weekdays.length||!e.startDate)return null;const t=new Date,n=ub(e.startDate);if(n&&xb(t,n)||e.endDate&&bb(t,ub(e.endDate)))return null;const r=Math.floor((t.getTime()-n.getTime())/864e5);let i=0;1===Math.floor(r/7)%2&&(i=7);return this.getNextWeekdayFromToday(e,i)}getNextMonthlyOccurrence(e){var t;if(!e.startDate)return null;const n=new Date,r=ub(e.startDate);if(e.endDate&&bb(n,ub(e.endDate)))return null;const i=e.monthDay||r.getDate();let o=new Date(n.getFullYear(),n.getMonth(),i);if(o<=n&&(o=new Date(n.getFullYear(),n.getMonth()+1,i)),o.getDate()!==i&&(o=new Date(o.getFullYear(),o.getMonth(),0)),e.endDate&&bb(o,ub(e.endDate)))return null;const a=sb(o,"yyyy-MM-dd");if(null!==(t=e.excludedDates)&&void 0!==t&&t.includes(a)){const t=new Date(o);t.setMonth(t.getMonth()+1);const n={...e,startDate:sb(t,"yyyy-MM-dd")};return this.getNextMonthlyOccurrence(n)}return o}getNextWeekdayOccurrence(e){if(!e.weekdays||0===e.weekdays.length)return null;const t=new Date,n=e.startDate?ub(e.startDate):null,r=e.endDate?ub(e.endDate):null;return n&&xb(t,n)||r&&bb(t,r)?null:this.getNextWeekdayFromToday(e,0)}getNextWeekdayFromToday(e,t){var n;if(!e.weekdays||0===e.weekdays.length)return null;const r=wb(new Date,t),i=r.getDay(),o={mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:0};let a=7,s=!1;if(e.weekdays.forEach((t=>{let n=(o[t]-i+7)%7;if(0===n&&e.time){const[t,i]=e.time.split(":").map(Number),o=new Date(r);o.setHours(t,i,0),o<=new Date&&(n=7)}n<a&&(a=n,s=!0)})),!s)return null;const l=wb(r,a),c=sb(l,"yyyy-MM-dd");return null!==(n=e.excludedDates)&&void 0!==n&&n.includes(c)?this.getNextWeekdayFromToday(e,t+a+1):e.endDate&&bb(l,ub(e.endDate))?null:l}showNotification(e){if(!this.notificationsEnabled)return;if(this.isTaskCompletedForToday(e))return void console.log(`Task "${e.title}" gi\xe0 completato per oggi, notifica saltata`);let t=e.title;t=e.notifyInAdvance&&e.notifyInAdvance>0?"hours"===e.notifyTimeUnit?1===e.notifyInAdvance?`Tra 1 ora: ${e.title}`:`Tra ${e.notifyInAdvance} ore: ${e.title}`:1===e.notifyInAdvance?`Tra 1 minuto: ${e.title}`:`Tra ${e.notifyInAdvance} minuti: ${e.title}`:`Tra 10 minuti: ${e.title}`;const n={body:t,icon:"/logo192.png",tag:`task-${e.id}-${(new Date).toISOString().split("T")[0]}`},r=new Notification("Promemoria Impegno",n);r.onclick=()=>{window.focus(),r.close()}}isTaskCompletedForToday(e){if("oneTime"===e.type)return e.isCompleted;if(!e.completedDates||0===e.completedDates.length)return!1;const t=sb(new Date,"yyyy-MM-dd");return e.completedDates.includes(t)}clearAllNotifications(){this.timers.forEach((e=>{clearTimeout(e)})),this.timers.clear()}clearTaskNotification(e){this.timers.forEach(((t,n)=>{(n===e||n.startsWith(`${e}_`))&&(clearTimeout(t),this.timers.delete(n))}))}}Sb.instance=void 0;const kb=Sb;class Eb{constructor(){this.collectionName="notifications"}static getInstance(){return Eb.instance||(Eb.instance=new Eb),Eb.instance}async createNotification(e,t,n,r,i){try{const o={userId:e,title:t,message:n,timestamp:ms.now(),read:!1,type:r,relatedId:i};return(await wg(cm(Jy,this.collectionName),o)).id}catch(o){throw console.error("Errore durante la creazione della notifica:",o),o}}async createNotificationWithCustomTimestamp(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0;try{const s={userId:e,title:t,message:n,timestamp:i,read:o,type:r,relatedId:a};return(await wg(cm(Jy,this.collectionName),s)).id}catch(s){throw console.error("Errore durante la creazione della notifica con timestamp personalizzato:",s),s}}async createSystemNotification(e,t,n,r){return this.createNotification(e,t,n,"system",r||"")}async createTaskNotification(e,t,n,r){return this.createNotification(e,t,n,"task",r)}async createCounterNotification(e,t,n,r){return this.createNotification(e,t,n,"counter",r)}async getUserNotifications(e){try{const t=Zm(cm(Jy,this.collectionName),tg("userId","==",e),ig("timestamp","desc"));return(await yg(t)).docs.map((e=>({id:e.id,...e.data()})))}catch(t){throw console.error("Errore durante il recupero delle notifiche:",t),t}}async getUnreadNotifications(e){try{const t=Zm(cm(Jy,this.collectionName),tg("userId","==",e),tg("read","==",!1),ig("timestamp","desc"));return(await yg(t)).docs.map((e=>({id:e.id,...e.data()})))}catch(t){throw console.error("Errore durante il recupero delle notifiche non lette:",t),t}}async getUnreadCount(e){try{return(await this.getUnreadNotifications(e)).length}catch(t){throw console.error("Errore durante il conteggio delle notifiche non lette:",t),t}}async getRecentNotifications(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{const r=Zm(cm(Jy,this.collectionName),tg("userId","==",e),ig("timestamp","desc"),(em("limit",n=t),og._create("limit",n,"F")));return(await yg(r)).docs.map((e=>({id:e.id,...e.data()})))}catch(r){throw console.error("Errore durante il recupero delle notifiche recenti:",r),r}var n}async markAsRead(e){try{const t=um(Jy,this.collectionName,e);await vg(t,{read:!0})}catch(t){throw console.error("Errore durante l'aggiornamento della notifica:",t),t}}async markAllAsRead(e){try{const t=(await this.getUnreadNotifications(e)).map((e=>vg(um(Jy,this.collectionName,e.id),{read:!0})));await Promise.all(t)}catch(t){throw console.error("Errore durante l'aggiornamento di tutte le notifiche:",t),t}}async deleteNotification(e){try{await bg(um(Jy,this.collectionName,e))}catch(t){throw console.error("Errore durante l'eliminazione della notifica:",t),t}}async deleteAllUserNotifications(e){try{const t=(await this.getUserNotifications(e)).map((e=>bg(um(Jy,this.collectionName,e.id))));await Promise.all(t)}catch(t){throw console.error("Errore durante l'eliminazione di tutte le notifiche:",t),t}}async deleteOldNotifications(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;try{const n=await this.getUserNotifications(e),r=new Date,i=new Date(r.setDate(r.getDate()-t)),o=n.filter((e=>e.timestamp.toDate()<i)),a=o.map((e=>bg(um(Jy,this.collectionName,e.id))));return await Promise.all(a),o.length}catch(n){throw console.error("Errore durante l'eliminazione delle notifiche vecchie:",n),n}}}Eb.instance=void 0;const Tb=Eb;class jb{constructor(){}static getInstance(){return jb.instance||(jb.instance=new jb),jb.instance}async saveCounterEntry(e,t){try{const n=sb(new Date,"yyyy-MM-dd"),r={counterId:e.id,userId:e.userId,name:e.name,value:e.currentValue,date:n,timestamp:ms.now(),note:t||void 0},i=await wg(cm(Jy,"counterEntries"),r);return console.log("Valore contatore salvato:",e.name,e.currentValue),i.id}catch(n){throw console.error("Errore durante il salvataggio del valore del contatore:",n),n}}async getEntriesForCounter(e,t){try{const n=Zm(cm(Jy,"counterEntries"),tg("counterId","==",e),tg("userId","==",t),ig("timestamp","desc")),r=(await yg(n)).docs.map((e=>({id:e.id,...e.data()})));return r}catch(n){throw console.error("Errore durante il recupero delle entries del contatore:",n),n}}async getEntriesForDateRange(e,t,n){try{const r=Zm(cm(Jy,"counterEntries"),tg("userId","==",e),tg("date",">=",t),tg("date","<=",n),ig("date","asc")),i=(await yg(r)).docs.map((e=>({id:e.id,...e.data()})));return i}catch(r){throw console.error("Errore durante il recupero delle entries per range di date:",r),r}}}jb.instance=void 0;const Nb=jb,Ob=(0,r.createContext)(void 0),Cb=()=>{const e=(0,r.useContext)(Ob);if(void 0===e)throw new Error("useApp must be used within an AppProvider");return e},_b=e=>{let{children:t}=e;const[n,i]=(0,r.useState)([]),[o,a]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),{currentUser:c}=av(),u=kb.getInstance(),d=Tb.getInstance(),h=Nb.getInstance();(0,r.useEffect)((()=>{if(!c)return i([]),a([]),void l(!1);l(!0);const e=xg(Zm(cm(Jy,"tasks"),tg("userId","==",c.uid)),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));i(t),u.updateTasks(t)})),t=xg(Zm(cm(Jy,"counters"),tg("userId","==",c.uid)),(e=>{console.log("Contatori recuperati:",e.docs.length);const t=e.docs.map((e=>{const t=e.data();return console.log("Counter data:",{id:e.id,...t}),{id:e.id,...t}})),r=new Date,i=sb(r,"yyyy-MM-dd"),o=t.map((e=>{if(!e.type||"cumulative"===e.type)return e;const t=e.lastResetDate||e.startDate||i;let o=!1;if("daily"===e.type)o=t!==i;else if("weekly"===e.type){const e=ub(t);o=n(e)!==n(r)}else if("monthly"===e.type){const e=ub(t);o=e.getMonth()!==r.getMonth()||e.getFullYear()!==r.getFullYear()}if(o){e.currentValue>0&&h.saveCounterEntry(e,`Reset automatico - ${e.type}`).catch((e=>{console.error("Errore durante il salvataggio del valore del contatore:",e)}));return vg(um(Jy,"counters",e.id),{currentValue:0,lastResetDate:i,updatedAt:ms.now()}),{...e,currentValue:0,lastResetDate:i}}return e}));a(o)})),n=e=>{const t=new Date(e.getFullYear(),0,1),n=(e.getTime()-t.getTime())/864e5;return Math.ceil((n+t.getDay()+1)/7)};return(async()=>{await u.requestPermission()})(),l(!1),()=>{e(),t(),u.clearAllNotifications()}}),[c]);const f=async(e,t)=>{if(!c)return;const n=um(Jy,"counters",e);await vg(n,{currentValue:t,updatedAt:ms.now()})},p={tasks:n,counters:o,isLoading:s,addTask:async e=>{if(!c)return;const t={};Object.entries(e).forEach((e=>{let[n,r]=e;void 0!==r&&(t[n]=r)}));const n={...t,isCompleted:!1,completedDates:[],userId:c.uid,createdAt:new Date};await wg(cm(Jy,"tasks"),n)},toggleTaskComplete:async(e,t)=>{if(!c)return;const r=n.find((t=>t.id===e));if(!r)return;const i=um(Jy,"tasks",e);if("oneTime"===r.type){const t=!r.isCompleted;await vg(i,{isCompleted:t}),t&&r.notifyBefore&&(u.clearTaskNotification(e),await d.createTaskNotification(c.uid,"Task completato",`Hai completato "${r.title}"`,e))}else if("routine"===r.type&&t){(r.completedDates||[]).includes(t)?await vg(i,{completedDates:jg(t)}):(await vg(i,{completedDates:Tg(t)}),await d.createTaskNotification(c.uid,"Routine completata",`Hai completato "${r.title}" per oggi`,e))}},deleteTask:async e=>{if(!c)return;u.clearTaskNotification(e);const t=um(Jy,"tasks",e);await bg(t)},deleteRoutineOccurrence:async(e,t)=>{if(!c)return;const r=n.find((t=>t.id===e));if(!r||"routine"!==r.type)return;r.excludedDates;const i=um(Jy,"tasks",e);await vg(i,{excludedDates:Tg(t)})},addCounter:async e=>{if(c)try{const t=sb(new Date,"yyyy-MM-dd");if(!e.name||!e.type)throw new Error("Nome e tipo sono campi obbligatori");const n={};Object.entries(e).forEach((e=>{let[t,r]=e;void 0!==r&&(n[t]=r)}));const r={...n,userId:c.uid,currentValue:0,createdAt:ms.now(),updatedAt:ms.now(),lastResetDate:t};console.log("Creazione contatore:",r),await wg(cm(Jy,"counters"),r)}catch(t){throw console.error("Errore durante la creazione del contatore:",t),t}},updateCounter:f,incrementCounter:async e=>{if(!c)return;const t=o.find((t=>t.id===e));t&&await f(e,t.currentValue+1)},decrementCounter:async e=>{if(!c)return;const t=o.find((t=>t.id===e));!t||t.currentValue<=0||await f(e,t.currentValue-1)},deleteCounter:async e=>{if(!c)return;const t=um(Jy,"counters",e);await bg(t)},resetDailyCounters:async()=>{if(!c)return;const e=o.filter((e=>"daily"===e.type));for(const n of e){if(n.currentValue>0)try{await h.saveCounterEntry(n,"Reset manuale giornalieri")}catch(t){console.error("Errore durante il salvataggio del valore del contatore:",t)}await f(n.id,0)}},resetAllCounters:async()=>{if(c)for(const t of o){if(t.currentValue>0)try{await h.saveCounterEntry(t,"Reset manuale globale")}catch(e){console.error("Errore durante il salvataggio del valore del contatore:",e)}await f(t.id,0)}},resetAllData:async()=>{if(c){u.clearAllNotifications();for(const e of n)await bg(um(Jy,"tasks",e.id))}},createSystemNotification:async(e,t)=>{if(!c)return null;try{return await d.createSystemNotification(c.uid,e,t)}catch(n){return console.error("Errore durante la creazione della notifica di sistema:",n),null}},createTaskNotification:async(e,t,n)=>{if(!c)return null;try{return await d.createTaskNotification(c.uid,e,t,n)}catch(r){return console.error("Errore durante la creazione della notifica di task:",r),null}},createCounterNotification:async(e,t,n)=>{if(!c)return null;try{return await d.createCounterNotification(c.uid,e,t,n)}catch(r){return console.error("Errore durante la creazione della notifica di contatore:",r),null}},getUnreadNotificationsCount:async()=>{if(!c)return 0;try{return await d.getUnreadCount(c.uid)}catch(e){return console.error("Errore durante il recupero del conteggio delle notifiche non lette:",e),0}}};return(0,iv.jsx)(Ob.Provider,{value:p,children:t})};var Ab={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Pb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ib=(e,t)=>{const n=(0,r.forwardRef)(((n,i)=>{let{color:o="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:u,...d}=n;return(0,r.createElement)("svg",{ref:i,...Ab,width:a,height:a,stroke:o,strokeWidth:l?24*Number(s)/Number(a):s,className:["lucide",`lucide-${Pb(e)}`,c].join(" "),...d},[...t.map((e=>{let[t,n]=e;return(0,r.createElement)(t,n)})),...Array.isArray(u)?u:[u]])}));return n.displayName=`${e}`,n},Db=Ib("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Mb=Ib("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Rb=Ib("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Lb=Ib("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function Fb(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Fb(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ub(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Fb(e))&&(r&&(r+=" "),r+=t);return r}const zb=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,Vb=Ub,Bb=(e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return Vb(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map((e=>{const t=null===n||void 0===n?void 0:n[e],r=null===o||void 0===o?void 0:o[e];if(null===t)return null;const a=zb(t)||zb(r);return i[e][a]})),s=n&&Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),l=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce(((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...o,...s}[t]):{...o,...s}[t]===n}))?[...e,n,r]:e}),[]);return Vb(e,a,l,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)},$b=Bb("inline-flex items-center justify-center text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary-400 disabled:opacity-50 disabled:pointer-events-none shadow-button",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600 active:bg-primary-700",destructive:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700",outline:"border border-gray-200 bg-white hover:bg-gray-50 active:bg-gray-100 text-gray-700 hover:border-primary-200",ghost:"bg-transparent shadow-none hover:bg-gray-100 active:bg-gray-200 text-gray-700",link:"text-primary-600 shadow-none underline-offset-4 hover:underline",secondary:"bg-secondary-500 text-white hover:bg-secondary-600 active:bg-secondary-700",tertiary:"bg-tertiary-500 text-white hover:bg-tertiary-600 active:bg-tertiary-700",success:"bg-emerald-500 text-white hover:bg-emerald-600 active:bg-emerald-700",glass:"bg-white/80 backdrop-blur-sm border border-white/40 text-gray-800 hover:bg-white/90"},size:{default:"h-10 py-2 px-5",sm:"h-8 px-3 text-xs",lg:"h-12 px-8 text-base",xl:"h-14 px-10 text-lg",icon:"h-10 w-10","icon-sm":"h-8 w-8","icon-md":"h-10 w-10","icon-lg":"h-12 w-12"},rounded:{default:"rounded-xl",full:"rounded-full",md:"rounded-md",lg:"rounded-2xl"},hasAnimation:{true:"transform hover:scale-105 active:scale-95",false:""}},defaultVariants:{variant:"default",size:"default",rounded:"default",hasAnimation:!1}}),qb=r.forwardRef(((e,t)=>{let{className:n,variant:r,size:i,rounded:o,hasAnimation:a,isLoading:s,leftIcon:l,rightIcon:c,children:u,disabled:d,...h}=e;return(0,iv.jsx)("button",{className:$b({variant:r,size:i,rounded:o,hasAnimation:a,className:n}),ref:t,disabled:s||d,"aria-disabled":s||d,...h,children:s?(0,iv.jsxs)("div",{className:"flex items-center justify-center",children:[(0,iv.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,iv.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,iv.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u]}):(0,iv.jsxs)("div",{className:"flex items-center justify-center",children:[l&&(0,iv.jsx)("span",{className:"mr-2",children:l}),u,c&&(0,iv.jsx)("span",{className:"ml-2",children:c})]})})}));qb.displayName="Button";const Wb=Ib("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),Hb=Ib("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Kb=Ib("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Gb=Ib("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Yb=Ib("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Xb=Ib("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Qb=Ib("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function Jb(e){cv(1,arguments);var t=uv(e);return t.setHours(0,0,0,0),t}function Zb(e,t){cv(2,arguments);var n=Jb(e),r=Jb(t);return n.getTime()===r.getTime()}function ew(e){return cv(1,arguments),Zb(e,Date.now())}function tw(e,t){return cv(2,arguments),wb(e,-hv(t))}function nw(e,t){cv(2,arguments);var n=uv(e),r=uv(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function rw(e){cv(1,arguments);var t=uv(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function iw(e){cv(1,arguments);var t=uv(e);return function(e){cv(1,arguments);var t=uv(e);return t.setHours(23,59,59,999),t}(t).getTime()===rw(t).getTime()}function ow(e,t){cv(2,arguments);var n,r=uv(e),i=uv(t),o=nw(r,i),a=Math.abs(function(e,t){cv(2,arguments);var n=uv(e),r=uv(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,i));if(a<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*a);var s=nw(r,i)===-o;iw(uv(e))&&1===a&&1===nw(e,i)&&(s=!1),n=o*(a-Number(s))}return 0===n?0:n}var aw={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function sw(e,t,n){cv(2,arguments);var r,i=function(e,t){return cv(2,arguments),uv(e).getTime()-uv(t).getTime()}(e,t)/1e3;return((r=null===n||void 0===n?void 0:n.roundingMethod)?aw[r]:aw.trunc)(i)}function lw(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var cw=43200;function uw(e,t,n){var r,i;cv(2,arguments);var o=vv(),a=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:o.locale)&&void 0!==r?r:tb;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=nw(e,t);if(isNaN(s))throw new RangeError("Invalid time value");var l,c,u=lw(function(e){return lw({},e)}(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:s});s>0?(l=uv(t),c=uv(e)):(l=uv(e),c=uv(t));var d,h=sw(c,l),f=(zv(c)-zv(l))/1e3,p=Math.round((h-f)/60);if(p<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?a.formatDistance("lessThanXSeconds",5,u):h<10?a.formatDistance("lessThanXSeconds",10,u):h<20?a.formatDistance("lessThanXSeconds",20,u):h<40?a.formatDistance("halfAMinute",0,u):h<60?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",1,u):0===p?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",p,u);if(p<45)return a.formatDistance("xMinutes",p,u);if(p<90)return a.formatDistance("aboutXHours",1,u);if(p<1440){var m=Math.round(p/60);return a.formatDistance("aboutXHours",m,u)}if(p<2520)return a.formatDistance("xDays",1,u);if(p<cw){var g=Math.round(p/1440);return a.formatDistance("xDays",g,u)}if(p<86400)return d=Math.round(p/cw),a.formatDistance("aboutXMonths",d,u);if((d=ow(c,l))<12){var y=Math.round(p/cw);return a.formatDistance("xMonths",y,u)}var v=d%12,b=Math.floor(d/12);return v<3?a.formatDistance("aboutXYears",b,u):v<9?a.formatDistance("overXYears",b,u):a.formatDistance("almostXYears",b+1,u)}var dw={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi\xf9 di un anno",other:"pi\xf9 di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}};const hw=function(e,t,n){var r,i=dw[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"tra "+r:r+" fa":r};const fw={date:Hv({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Hv({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Hv({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};function pw(e,t,n){cv(2,arguments);var r=bv(e,n),i=bv(t,n);return r.getTime()===i.getTime()}var mw=["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"];function gw(e){return"'"+mw[e]+" alle' p"}var yw={lastWeek:function(e,t,n){var r=e.getUTCDay();return pw(e,t,n)?gw(r):function(e){return 0===e?"'domenica scorsa alle' p":"'"+mw[e]+" scorso alle' p"}(r)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:function(e,t,n){var r=e.getUTCDay();return pw(e,t,n)?gw(r):function(e){return 0===e?"'domenica prossima alle' p":"'"+mw[e]+" prossimo alle' p"}(r)},other:"P"};const vw=function(e,t,n,r){var i=yw[e];return"function"===typeof i?i(t,n,r):i};const bw={ordinalNumber:function(e,t){var n=Number(e);return String(n)},era:Xv({values:{narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},defaultWidth:"wide"}),quarter:Xv({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Xv({values:{narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},defaultWidth:"wide"}),day:Xv({values:{narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"]},defaultWidth:"wide"}),dayPeriod:Xv({values:{narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},defaultWidth:"wide",formattingValues:{narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},defaultFormattingWidth:"wide"})};var ww={ordinalNumber:Zv({matchPattern:/^(\d+)(\xba)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:Jv({matchPatterns:{narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^a/i,/^(d|e)/i]},defaultParseWidth:"any"}),quarter:Jv({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](\xba)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Jv({matchPatterns:{narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Jv({matchPatterns:{narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|\xec]|marted[i|\xec]|mercoled[i|\xec]|gioved[i|\xec]|venerd[i|\xec]|sabato)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},defaultParseWidth:"any"}),dayPeriod:Jv({matchPatterns:{narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},defaultParseWidth:"any"})};const xw={code:"it",formatDistance:hw,formatLong:fw,formatRelative:vw,localize:bw,match:ww,options:{weekStartsOn:1,firstWeekContainsDate:4}},Sw=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),kw=(0,r.createContext)({}),Ew=(0,r.createContext)({strict:!1});function Tw(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function jw(e){return"string"===typeof e||Array.isArray(e)}function Nw(e){return"object"===typeof e&&"function"===typeof e.start}const Ow=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cw=["initial",...Ow];function _w(e){return Nw(e.animate)||Cw.some((t=>jw(e[t])))}function Aw(e){return Boolean(_w(e)||e.variants)}function Pw(e){const{initial:t,animate:n}=function(e,t){if(_w(e)){const{initial:t,animate:n}=e;return{initial:!1===t||jw(t)?t:void 0,animate:jw(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(kw));return(0,r.useMemo)((()=>({initial:t,animate:n})),[Iw(t),Iw(n)])}function Iw(e){return Array.isArray(e)?e.join(" "):e}const Dw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mw={};for(const n in Dw)Mw[n]={isEnabled:e=>Dw[n].some((t=>!!e[t]))};const Rw=(0,r.createContext)({}),Lw=Symbol.for("motionComponentSymbol");function Fw(e){let{preloadedFeatures:t,createVisualElement:n,useRender:i,useVisualState:o,Component:a}=e;t&&function(e){for(const t in e)Mw[t]={...Mw[t],...e[t]}}(t);const s=(0,r.forwardRef)((function(e,s){let l;const c={...(0,r.useContext)(Sw),...e,layoutId:Uw(e)},{isStatic:u}=c,d=Pw(e),h=o(e,u);if(!u&&Ce){d.visualElement=function(e,t,n,i){const{visualElement:o}=(0,r.useContext)(kw),a=(0,r.useContext)(Ew),s=(0,r.useContext)(Ue),l=(0,r.useContext)(Sw).reducedMotion,c=(0,r.useRef)();i=i||a.renderer,!c.current&&i&&(c.current=i(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));const u=c.current;(0,r.useInsertionEffect)((()=>{u&&u.update(n,s)}));const d=(0,r.useRef)(Boolean(window.HandoffAppearAnimations));return _e((()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())})),(0,r.useEffect)((()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)})),u}(a,h,c,n);const e=(0,r.useContext)(Rw),i=(0,r.useContext)(Ew).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,i,t,e))}return r.createElement(kw.Provider,{value:d},l&&d.visualElement?r.createElement(l,{visualElement:d.visualElement,...c}):null,i(a,e,function(e,t,n){return(0,r.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Tw(n)&&(n.current=r))}),[t])}(h,d.visualElement,s),h,u,d.visualElement))}));return s[Lw]=a,s}function Uw(e){let{layoutId:t}=e;const n=(0,r.useContext)(We).id;return n&&void 0!==t?n+"-"+t:t}function zw(e){function t(t){return Fw(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const Vw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bw(e){return"string"===typeof e&&!e.includes("-")&&!!(Vw.indexOf(e)>-1||/[A-Z]/.test(e))}const $w={};const qw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ww=new Set(qw);function Hw(e,t){let{layout:n,layoutId:r}=t;return Ww.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!$w[e]||"opacity"===e)}const Kw=e=>Boolean(e&&e.getVelocity),Gw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yw=qw.length;const Xw=e=>t=>"string"===typeof t&&t.startsWith(e),Qw=Xw("--"),Jw=Xw("var(--"),Zw=(e,t)=>t&&"number"===typeof e?t.transform(e):e,ex=(e,t,n)=>Math.min(Math.max(n,e),t),tx={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},nx={...tx,transform:e=>ex(0,1,e)},rx={...tx,default:1},ix=e=>Math.round(1e5*e)/1e5,ox=/(-)?([\d]*\.?[\d])+/g,ax=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sx=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function lx(e){return"string"===typeof e}const cx=e=>({test:t=>lx(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ux=cx("deg"),dx=cx("%"),hx=cx("px"),fx=cx("vh"),px=cx("vw"),mx={...dx,parse:e=>dx.parse(e)/100,transform:e=>dx.transform(100*e)},gx={...tx,transform:Math.round},yx={borderWidth:hx,borderTopWidth:hx,borderRightWidth:hx,borderBottomWidth:hx,borderLeftWidth:hx,borderRadius:hx,radius:hx,borderTopLeftRadius:hx,borderTopRightRadius:hx,borderBottomRightRadius:hx,borderBottomLeftRadius:hx,width:hx,maxWidth:hx,height:hx,maxHeight:hx,size:hx,top:hx,right:hx,bottom:hx,left:hx,padding:hx,paddingTop:hx,paddingRight:hx,paddingBottom:hx,paddingLeft:hx,margin:hx,marginTop:hx,marginRight:hx,marginBottom:hx,marginLeft:hx,rotate:ux,rotateX:ux,rotateY:ux,rotateZ:ux,scale:rx,scaleX:rx,scaleY:rx,scaleZ:rx,skew:ux,skewX:ux,skewY:ux,distance:hx,translateX:hx,translateY:hx,translateZ:hx,x:hx,y:hx,z:hx,perspective:hx,transformPerspective:hx,opacity:nx,originX:mx,originY:mx,originZ:hx,zIndex:gx,fillOpacity:nx,strokeOpacity:nx,numOctaves:gx};function vx(e,t,n,r){const{style:i,vars:o,transform:a,transformOrigin:s}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(Qw(d)){o[d]=e;continue}const n=yx[d],r=Zw(e,n);if(Ww.has(d)){if(l=!0,a[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,s[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:o=!0}=t,a="";for(let s=0;s<Yw;s++){const t=qw[s];void 0!==e[t]&&(a+=`${Gw[t]||t}(${e[t]}) `)}return i&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):o&&n&&(a="none"),a}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin=`${e} ${t} ${n}`}}const bx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wx(e,t,n){for(const r in t)Kw(t[r])||Hw(r,n)||(e[r]=t[r])}function xx(e,t,n){const i={};return wx(i,e.style||{},e),Object.assign(i,function(e,t,n){let{transformTemplate:i}=e;return(0,r.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return vx(e,t,{enableHardwareAcceleration:!n},i),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(i):i}function Sx(e,t,n){const r={},i=xx(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const kx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Ex(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||kx.has(e)}let Tx=e=>!Ex(e);try{(jx=require("@emotion/is-prop-valid").default)&&(Tx=e=>e.startsWith("on")?!Ex(e):jx(e))}catch(SY){}var jx;function Nx(e,t,n){return"string"===typeof e?e:hx.transform(t+n*e)}const Ox={offset:"stroke-dashoffset",array:"stroke-dasharray"},Cx={offset:"strokeDashoffset",array:"strokeDasharray"};function _x(e,t,n,r,i){let{attrX:o,attrY:a,attrScale:s,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0,...f}=t;if(vx(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){return`${Nx(t,e.x,e.width)} ${Nx(n,e.y,e.height)}`}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==o&&(p.x=o),void 0!==a&&(p.y=a),void 0!==s&&(p.scale=s),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?Ox:Cx;e[o.offset]=hx.transform(-r);const a=hx.transform(t),s=hx.transform(n);e[o.array]=`${a} ${s}`}(p,u,d,h,!1)}const Ax=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Px=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Ix(e,t,n,i){const o=(0,r.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return _x(n,t,{enableHardwareAcceleration:!1},Px(i),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};wx(t,e.style,e),o.style={...t,...o.style}}return o}function Dx(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,i,o,a)=>{let{latestValues:s}=o;const l=(Bw(t)?Ix:Sx)(n,s,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Tx(i)||!0===n&&Ex(i)||!t&&!Ex(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u={...c,...l,ref:i},{children:d}=n,h=(0,r.useMemo)((()=>Kw(d)?d.get():d),[d]);return(0,r.createElement)(t,{...u,children:h})}}const Mx=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Rx(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in o)e.style.setProperty(a,o[a])}const Lx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fx(e,t,n,r){Rx(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Lx.has(i)?i:Mx(i),t.attrs[i])}function Ux(e,t){const{style:n}=e,r={};for(const i in n)(Kw(n[i])||t.style&&Kw(t.style[i])||Hw(i,e))&&(r[i]=n[i]);return r}function zx(e,t){const n=Ux(e,t);for(const r in e)if(Kw(e[r])||Kw(t[r])){n[-1!==qw.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Vx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}const Bx=e=>Array.isArray(e),$x=e=>Bx(e)?e[e.length-1]||0:e;function qx(e){const t=Kw(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Wx=e=>(t,n)=>{const i=(0,r.useContext)(kw),o=(0,r.useContext)(Ue),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onMount:a}=e;const s={latestValues:Hx(t,n,r,i),renderState:o()};return a&&(s.mount=e=>a(t,e,s)),s}(e,t,i,o);return n?a():ze(a)};function Hx(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=qx(o[h]);let{initial:a,animate:s}=e;const l=_w(e),c=Aw(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===s&&(s=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?s:a;if(d&&"boolean"!==typeof d&&!Nw(d)){(Array.isArray(d)?d:[d]).forEach((t=>{const n=Vx(e,t);if(!n)return;const{transitionEnd:r,transition:o,...a}=n;for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const Kx={useVisualState:Wx({scrapeMotionValuesFromProps:zx,createRenderState:Ax,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Me.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(xY){r.dimensions={x:0,y:0,width:0,height:0}}})),Me.render((()=>{_x(r,i,{enableHardwareAcceleration:!1},Px(t.tagName),e.transformTemplate),Fx(t,r)}))}})},Gx={useVisualState:Wx({scrapeMotionValuesFromProps:Ux,createRenderState:bx})};function Yx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Xx=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Qx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function Jx(e,t,n,r){return Yx(e,t,(e=>t=>Xx(t)&&e(t,Qx(t)))(n),r)}const Zx=(e,t)=>n=>t(e(n)),eS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Zx)};function tS(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const nS=tS("dragHorizontal"),rS=tS("dragVertical");function iS(e){let t=!1;if("y"===e)t=rS();else if("x"===e)t=nS();else{const e=nS(),n=rS();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function oS(){const e=iS(!0);return!e||(e(),!1)}class aS{constructor(e){this.isMounted=!1,this.node=e}update(){}}function sS(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return Jx(e.current,n,((n,i)=>{if("touch"===n.type||oS())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&Me.update((()=>o[r](n,i)))}),{passive:!e.getProps()[r]})}const lS=(e,t)=>!!t&&(e===t||lS(e,t.parentElement));function cS(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Qx(n))}const uS=new WeakMap,dS=new WeakMap,hS=e=>{const t=uS.get(e.target);t&&t(e)},fS=e=>{e.forEach(hS)};function pS(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;dS.has(r)||dS.set(r,{});const i=dS.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(fS,{root:t,...n})),i[o]}(t);return uS.set(e,n),r.observe(e),()=>{uS.delete(e),r.unobserve(e)}}const mS={some:0,all:1};const gS={inView:{Feature:class extends aS{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:mS[r]};return pS(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends aS{constructor(){super(...arguments),this.removeStartListeners=Pe,this.removeEndListeners=Pe,this.removeAccessibleListeners=Pe,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),r=Jx(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r}=this.node.getProps();Me.update((()=>{lS(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=Jx(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=eS(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Yx(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Yx(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&cS("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Me.update((()=>n(e,t)))}))})),cS("down",((e,t)=>{this.startPress(e,t)}))})),t=Yx(this.node.current,"blur",(()=>{this.isPressing&&cS("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=eS(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Me.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!oS()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Me.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=Jx(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Yx(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=eS(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends aS{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(xY){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eS(Yx(this.node.current,"focus",(()=>this.onFocus())),Yx(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends aS{mount(){this.unmount=eS(sS(this.node,!0),sS(this.node,!1))}unmount(){}}}};function yS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function vS(e,t,n){const r=e.getProps();return Vx(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}const bS="data-"+Mx("framerAppearId"),wS=e=>1e3*e,xS=e=>e/1e3,SS=!1,kS=e=>Array.isArray(e)&&"number"===typeof e[0];function ES(e){return Boolean(!e||"string"===typeof e&&jS[e]||kS(e)||Array.isArray(e)&&e.every(ES))}const TS=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},jS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:TS([0,.65,.55,1]),circOut:TS([.55,0,1,.45]),backIn:TS([.31,.01,.66,-.59]),backOut:TS([.33,1.53,.69,.99])};function NS(e){if(e)return kS(e)?TS(e):Array.isArray(e)?e.map(NS):jS[e]}const OS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function CS(e,t,n,r){if(e===t&&n===r)return Pe;const i=t=>function(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=OS(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:OS(i(e),t,r)}const _S=CS(.42,0,1,1),AS=CS(0,0,.58,1),PS=CS(.42,0,.58,1),IS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,DS=e=>t=>1-e(1-t),MS=e=>1-Math.sin(Math.acos(e)),RS=DS(MS),LS=IS(RS),FS=CS(.33,1.53,.69,.99),US=DS(FS),zS=IS(US),VS={linear:Pe,easeIn:_S,easeInOut:PS,easeOut:AS,circIn:MS,circInOut:LS,circOut:RS,backIn:US,backInOut:zS,backOut:FS,anticipate:e=>(e*=2)<1?.5*US(e):.5*(2-Math.pow(2,-10*(e-1)))},BS=e=>{if(Array.isArray(e)){Ke(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return CS(t,n,r,i)}return"string"===typeof e?(Ke(void 0!==VS[e],`Invalid easing type '${e}'`),VS[e]):e},$S=(e,t)=>n=>Boolean(lx(n)&&sx.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),qS=(e,t,n)=>r=>{if(!lx(r))return r;const[i,o,a,s]=r.match(ox);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},WS={...tx,transform:e=>Math.round((e=>ex(0,255,e))(e))},HS={test:$S("rgb","red"),parse:qS("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+WS.transform(t)+", "+WS.transform(n)+", "+WS.transform(r)+", "+ix(nx.transform(i))+")"}};const KS={test:$S("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:HS.transform},GS={test:$S("hsl","hue"),parse:qS("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+dx.transform(ix(n))+", "+dx.transform(ix(r))+", "+ix(nx.transform(i))+")"}},YS={test:e=>HS.test(e)||KS.test(e)||GS.test(e),parse:e=>HS.test(e)?HS.parse(e):GS.test(e)?GS.parse(e):KS.parse(e),transform:e=>lx(e)?e:e.hasOwnProperty("red")?HS.transform(e):GS.transform(e)},XS=(e,t,n)=>-n*e+n*t+e;function QS(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const JS=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},ZS=[KS,HS,GS];function ek(e){const t=(e=>ZS.find((t=>t.test(e))))(e);Ke(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`);let n=t.parse(e);return t===GS&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=QS(i,e,t+1/3),a=QS(i,e,t),s=QS(i,e,t-1/3)}else o=a=s=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}(n)),n}const tk=(e,t)=>{const n=ek(e),r=ek(t),i={...n};return e=>(i.red=JS(n.red,r.red,e),i.green=JS(n.green,r.green,e),i.blue=JS(n.blue,r.blue,e),i.alpha=XS(n.alpha,r.alpha,e),HS.transform(i))};const nk={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Pe},rk={regex:ax,countKey:"Colors",token:"${c}",parse:YS.parse},ik={regex:ox,countKey:"Numbers",token:"${n}",parse:tx.parse};function ok(e,t){let{regex:n,countKey:r,token:i,parse:o}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...a.map(o)))}function ak(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ok(n,nk),ok(n,rk),ok(n,ik),n}function sk(e){return ak(e).values}function lk(e){const{values:t,numColors:n,numVars:r,tokenised:i}=ak(e),o=t.length;return e=>{let t=i;for(let i=0;i<o;i++)t=i<r?t.replace(nk.token,e[i]):i<r+n?t.replace(rk.token,YS.transform(e[i])):t.replace(ik.token,ix(e[i]));return t}}const ck=e=>"number"===typeof e?0:e;const uk={test:function(e){var t,n;return isNaN(e)&&lx(e)&&((null===(t=e.match(ox))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(ax))||void 0===n?void 0:n.length)||0)>0},parse:sk,createTransformer:lk,getAnimatableNone:function(e){const t=sk(e);return lk(e)(t.map(ck))}},dk=(e,t)=>n=>`${n>0?t:e}`;function hk(e,t){return"number"===typeof e?n=>XS(e,t,n):YS.test(e)?tk(e,t):e.startsWith("var(")?dk(e,t):mk(e,t)}const fk=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>hk(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},pk=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=hk(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},mk=(e,t)=>{const n=uk.createTransformer(t),r=ak(e),i=ak(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?eS(fk(r.values,i.values),n):(He(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),dk(e,t))},gk=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},yk=(e,t)=>n=>XS(e,t,n);function vk(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?yk:"string"===typeof e?YS.test(e)?tk:mk:Array.isArray(e)?fk:"object"===typeof e?pk:yk}(e[0]),o=e.length-1;for(let a=0;a<o;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Pe:t;n=eS(e,n)}r.push(n)}return r}function bk(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(Ke(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=vk(t,r,i),s=a.length,l=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=gk(e[n],e[n+1],t);return a[n](r)};return n?t=>l(ex(e[0],e[o-1],t)):l}function wk(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=gk(0,t,r);e.push(XS(n,1,i))}}(t,e.length-1),t}function xk(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(BS):BS(i),a={done:!1,value:n[0]},s=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:wk(n),t),l=bk(s,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map((()=>u||PS)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function Sk(e,t){return t?e*(1e3/t):0}function kk(e,t,n){const r=Math.max(t-5,0);return Sk(n-e(r),t-r)}const Ek=.001;function Tk(e){let t,n,{duration:r=800,bounce:i=.25,velocity:o=0,mass:a=1}=e;He(r<=wS(10),"Spring duration must be 10 seconds or less");let s=1-i;s=ex(.05,1,s),r=ex(.01,10,xS(r)),s<1?(t=e=>{const t=e*s,n=t*r,i=t-o,a=Nk(e,s),l=Math.exp(-n);return Ek-i/a*l},n=e=>{const n=e*s*r,i=n*o+o,a=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Nk(Math.pow(e,2),s);return(-t(e)+Ek>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<jk;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=wS(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const jk=12;function Nk(e,t){return e*Math.sqrt(1-t*t)}const Ok=["duration","bounce"],Ck=["stiffness","damping","mass"];function _k(e,t){return t.some((t=>void 0!==e[t]))}function Ak(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const o=t[0],a=t[t.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:u,velocity:d,duration:h,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!_k(e,Ck)&&_k(e,Ok)){const n=Tk(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}(i),p=d?-xS(d):0,m=c/(2*Math.sqrt(l*u)),g=a-o,y=xS(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=Nk(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&h||null,next:e=>{const t=b(e);if(f)s.done=e>=h;else{let i=p;0!==e&&(i=m<1?kk(b,e,t):0);const o=Math.abs(i)<=r,l=Math.abs(a-t)<=n;s.done=o&&l}return s.value=s.done?a:t,s}}}function Pk(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===s?g:s(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),w=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let x,S;const k=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(x=e,S=Ak({keyframes:[f.value,p(f.value)],velocity:kk(b,e,f.value),damping:o,stiffness:a,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,w(e),k(e)),void 0!==x&&e>x?S.next(e-x):(!t&&w(e),f)}}}const Ik=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Me.update(t,!0),stop:()=>Re(t),now:()=>Le.isProcessing?Le.timestamp:performance.now()}};function Dk(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const Mk={decay:Pk,inertia:Pk,tween:xk,keyframes:xk,spring:Ak};function Rk(e){let t,n,{autoplay:r=!0,delay:i=0,driver:o=Ik,keyframes:a,type:s="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:f,onUpdate:p,...m}=e,g=1,y=!1;const v=()=>{n=new Promise((e=>{t=e}))};let b;v();const w=Mk[s]||xk;let x;w!==xk&&"number"!==typeof a[0]&&(x=bk([0,100],a,{clamp:!1}),a=[0,100]);const S=w({...m,keyframes:a});let k;"mirror"===u&&(k=w({...m,keyframes:[...a].reverse(),velocity:-(m.velocity||0)}));let E="idle",T=null,j=null,N=null;null===S.calculatedDuration&&l&&(S.calculatedDuration=Dk(S));const{calculatedDuration:O}=S;let C=1/0,_=1/0;null!==O&&(C=O+c,_=C*(l+1)-c);let A=0;const P=e=>{if(null===j)return;g>0&&(j=Math.min(j,e)),g<0&&(j=Math.min(e-_/g,j)),A=null!==T?T:Math.round(e-j)*g;const t=A-i*(g>=0?1:-1),n=g>=0?t<0:t>_;A=Math.max(t,0),"finished"===E&&null===T&&(A=_);let r=A,o=S;if(l){const e=A/C;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);const i=Boolean(t%2);i&&("reverse"===u?(n=1-n,c&&(n-=c/C)):"mirror"===u&&(o=k));let a=ex(0,1,n);A>_&&(a="reverse"===u&&i?1:0),r=a*C}const s=n?{done:!1,value:a[0]}:o.next(r);x&&(s.value=x(s.value));let{done:d}=s;n||null===O||(d=g>=0?A>=_:A<=0);const h=null===T&&("finished"===E||"running"===E&&d);return p&&p(s.value),h&&M(),s},I=()=>{b&&b.stop(),b=void 0},D=()=>{E="idle",I(),t(),v(),j=N=null},M=()=>{E="finished",f&&f(),I(),t()},R=()=>{if(y)return;b||(b=o(P));const e=b.now();d&&d(),null!==T?j=e-T:j&&"finished"!==E||(j=e),"finished"===E&&v(),N=j,T=null,E="running",b.start()};r&&R();const L={then:(e,t)=>n.then(e,t),get time(){return xS(A)},set time(e){e=wS(e),A=e,null===T&&b&&0!==g?j=b.now()-e/g:T=e},get duration(){const e=null===S.calculatedDuration?Dk(S):S.calculatedDuration;return xS(e)},get speed(){return g},set speed(e){e!==g&&b&&(g=e,L.time=xS(A))},get state(){return E},play:R,pause:()=>{E="paused",T=A},stop:()=>{y=!0,"idle"!==E&&(E="idle",h&&h(),D())},cancel:()=>{null!==N&&P(N),D()},complete:()=>{E="finished"},sample:e=>(j=0,P(e))};return L}const Lk=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),Fk=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function Uk(e,t,n){let{onUpdate:r,onComplete:i,...o}=n;if(!(Lk()&&Fk.has(t)&&!o.repeatDelay&&"mirror"!==o.repeatType&&0!==o.damping&&"inertia"!==o.type))return!1;let a,s,l=!1;const c=()=>{s=new Promise((e=>{a=e}))};c();let{keyframes:u,duration:d=300,ease:h,times:f}=o;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!ES(t.ease))(t,o)){const e=Rk({...o,repeat:0,delay:0});let t={done:!1,value:u[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;f=void 0,u=n,d=r-10,h="linear"}const p=function(e,t,n){let{delay:r=0,duration:i,repeat:o=0,repeatType:a="loop",ease:s,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=NS(s);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,u,{...o,duration:d,ease:h,times:f});o.syncStart&&(p.startTime=Le.isProcessing?Le.timestamp:document.timeline?document.timeline.currentTime:performance.now());const m=()=>p.cancel(),g=()=>{Me.update(m),a(),c()};p.onfinish=()=>{e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(u,o)),i&&i(),g()};return{then:(e,t)=>s.then(e,t),attachTimeline:e=>(p.timeline=e,p.onfinish=null,Pe),get time(){return xS(p.currentTime||0)},set time(e){p.currentTime=wS(e)},get speed(){return p.playbackRate},set speed(e){p.playbackRate=e},get duration(){return xS(d)},play:()=>{l||(p.play(),Re(m))},pause:()=>p.pause(),stop:()=>{if(l=!0,"idle"===p.playState)return;const{currentTime:t}=p;if(t){const n=Rk({...o,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}g()},complete:()=>p.finish(),cancel:g}}const zk={type:"spring",stiffness:500,damping:25,restSpeed:10},Vk={type:"keyframes",duration:.8},Bk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$k=(e,t)=>{let{keyframes:n}=t;return n.length>2?Vk:Ww.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:zk:Bk},qk=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!uk.test(t)&&"0"!==t||t.startsWith("url("))),Wk=new Set(["brightness","contrast","saturate","opacity"]);function Hk(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(ox)||[];if(!r)return e;const i=n.replace(r,"");let o=Wk.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Kk=/([a-z-]*)\(.*?\)/g,Gk={...uk,getAnimatableNone:e=>{const t=e.match(Kk);return t?t.map(Hk).join(" "):e}},Yk={...yx,color:YS,backgroundColor:YS,outlineColor:YS,fill:YS,stroke:YS,borderColor:YS,borderTopColor:YS,borderRightColor:YS,borderBottomColor:YS,borderLeftColor:YS,filter:Gk,WebkitFilter:Gk},Xk=e=>Yk[e];function Qk(e,t){let n=Xk(e);return n!==Gk&&(n=uk),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Jk=e=>/^0[^.\s]+$/.test(e);function Zk(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||Jk(e):void 0}function eE(e,t){return e[t]||e.default||e}const tE=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const o=eE(r,e)||{},a=o.delay||r.delay||0;let{elapsed:s=0}=r;s-=wS(a);const l=function(e,t,n,r){const i=qk(t,n);let o;o=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let s;const l=[];for(let c=0;c<o.length;c++)null===o[c]&&(o[c]=0===c?a:o[c-1]),Zk(o[c])&&l.push(c),"string"===typeof o[c]&&"none"!==o[c]&&"0"!==o[c]&&(s=o[c]);if(i&&l.length&&s)for(let c=0;c<l.length;c++)o[l[c]]=Qk(t,s);return o}(t,e,n,o),c=l[0],u=l[l.length-1],d=qk(e,c),h=qk(e,u);He(d===h,`You are trying to animate ${e} from "${c}" to "${u}". ${c} is not an animatable value - to enable this animation set ${c} to a value animatable to ${u} via the \`style\` property.`);let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-s,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length}(o)||(f={...f,...$k(e,f)}),f.duration&&(f.duration=wS(f.duration)),f.repeatDelay&&(f.repeatDelay=wS(f.repeatDelay)),!d||!h||SS||!1===o.type)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const o=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Pe,pause:Pe,stop:Pe,then:e=>(e(),Promise.resolve()),cancel:Pe,complete:Pe});return n?Rk({keyframes:[0,1],duration:0,delay:n,onComplete:o}):o()}(SS?{...f,delay:0}:f);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=Uk(t,e,f);if(n)return n}return Rk(f)}};function nE(e){return Boolean(Kw(e)&&e.add)}const rE=e=>/^\-?\d*\.?\d+$/.test(e);function iE(e,t){-1===e.indexOf(t)&&e.push(t)}function oE(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class aE{constructor(){this.subscriptions=[]}add(e){return iE(this.subscriptions,e),()=>oE(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sE={current:void 0};class lE{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=Le;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,Me.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Me.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new aE);const n=this.events[e].add(t);return"change"===e?()=>{n(),Me.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return sE.current&&sE.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Sk(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cE(e,t){return new lE(e,t)}const uE=e=>t=>t.test(e),dE=[tx,hx,dx,ux,px,fx,{test:e=>"auto"===e,parse:e=>e}],hE=e=>dE.find(uE(e)),fE=[...dE,YS,uk],pE=e=>fE.find(uE(e));function mE(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,cE(n))}function gE(e,t){const n=vS(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){mE(e,a,$x(o[a]))}}function yE(e,t){if(!t)return;return(t[e]||t.default||t).from}function vE(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function bE(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:o=e.getDefaultTransition(),transitionEnd:a,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in s){const t=e.getValue(d),r=s[d];if(!t||void 0===r||u&&vE(u,d))continue;const i={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!t.hasAnimated){const n=e.getProps()[bS];n&&(i.elapsed=window.HandoffAppearAnimations(n,d,t,Me),i.syncStart=!0)}t.start(tE(d,t,r,e.shouldReduceMotion&&Ww.has(d)?{type:!1}:i));const a=t.animation;nE(l)&&(l.add(d),a.then((()=>l.remove(d)))),c.push(a)}return a&&Promise.all(c).then((()=>{a&&gE(e,a)})),c}function wE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=vS(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(bE(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const a=[],s=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(xE).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(wE(e,t,{...o,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,o+r,a,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[e,t]="beforeChildren"===s?[o,a]:[a,o];return e().then((()=>t()))}return Promise.all([o(),a(n.delay)])}function xE(e,t){return e.sortNodePosition(t)}const SE=[...Ow].reverse(),kE=Ow.length;function EE(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>wE(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=wE(e,t,r);else{const i="function"===typeof t?vS(e,t,r.custom):t;n=Promise.all(bE(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function TE(e){let t=EE(e);const n={animate:NE(!0),whileInView:NE(),whileHover:NE(),whileTap:NE(),whileDrag:NE(),whileFocus:NE(),exit:NE()};let r=!0;const i=(t,n)=>{const r=vS(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function o(o,a){const s=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<kE;t++){const f=SE[t],p=n[f],m=void 0!==s[f]?s[f]:l[f],g=jw(m),y=f===a?p.isActive:null;!1===y&&(h=t);let v=m===l[f]&&m!==s[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys={...d},!p.isActive&&null===y||!m&&!p.prevProp||Nw(m)||"boolean"===typeof m)continue;const b=jE(p.prevProp,m);let w=b||f===a&&p.isActive&&!v&&g||t>h&&g;const x=Array.isArray(m)?m:[m];let S=x.reduce(i,{});!1===y&&(S={});const{prevResolvedValues:k={}}=p,E={...k,...S},T=e=>{w=!0,u.delete(e),p.needsAnimating[e]=!0};for(const e in E){const t=S[e],n=k[e];d.hasOwnProperty(e)||(t!==n?Bx(t)&&Bx(n)?!yS(t,n)||b?T(e):p.protectedKeys[e]=!0:void 0!==t?T(e):u.add(e):void 0!==t&&u.has(e)?T(e):p.protectedKeys[e]=!0)}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(d={...d,...S}),r&&e.blockInitialAnimation&&(w=!1),w&&!v&&c.push(...x.map((e=>({animation:e,options:{type:f,...o}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),c.push({animation:t})}let f=Boolean(c.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:o,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=o(i,t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function jE(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!yS(t,e)}function NE(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let OE=0;const CE={animation:{Feature:class extends aS{constructor(e){super(e),e.animationState||(e.animationState=TE(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Nw(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends aS{constructor(){super(...arguments),this.id=OE++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},_E=(e,t)=>Math.abs(e-t);class AE{constructor(e,t){let{transformPagePoint:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=DE(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=_E(e.x,t.x),r=_E(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Le;this.history.push({...r,timestamp:i});const{onStart:o,onMove:a}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=PE(t,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{if(this.end(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const{onEnd:n,onSessionEnd:r}=this.handlers,i=DE("pointercancel"===e.type?this.lastMoveEventInfo:PE(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Xx(e))return;this.handlers=t,this.transformPagePoint=n;const r=PE(Qx(e),this.transformPagePoint),{point:i}=r,{timestamp:o}=Le;this.history=[{...i,timestamp:o}];const{onSessionStart:a}=t;a&&a(e,DE(r,this.history)),this.removeListeners=eS(Jx(window,"pointermove",this.handlePointerMove),Jx(window,"pointerup",this.handlePointerUp),Jx(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Re(this.updatePoint)}}function PE(e,t){return t?{point:t(e.point)}:e}function IE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function DE(e,t){let{point:n}=e;return{point:n,delta:IE(n,RE(t)),offset:IE(n,ME(t)),velocity:LE(t,.1)}}function ME(e){return e[0]}function RE(e){return e[e.length-1]}function LE(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=RE(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>wS(t)));)n--;if(!r)return{x:0,y:0};const o=xS(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function FE(e){return e.max-e.min}function UE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function zE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=XS(t.min,t.max,e.origin),e.scale=FE(n)/FE(t),(UE(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=XS(n.min,n.max,e.origin)-e.originPoint,(UE(e.translate)||isNaN(e.translate))&&(e.translate=0)}function VE(e,t,n,r){zE(e.x,t.x,n.x,r?r.originX:void 0),zE(e.y,t.y,n.y,r?r.originY:void 0)}function BE(e,t,n){e.min=n.min+t.min,e.max=e.min+FE(t)}function $E(e,t,n){e.min=t.min-n.min,e.max=e.min+FE(t)}function qE(e,t,n){$E(e.x,t.x,n.x),$E(e.y,t.y,n.y)}function WE(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function HE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const KE=.35;function GE(e,t,n){return{min:YE(e,t),max:YE(e,n)}}function YE(e,t){return"number"===typeof e?e:e[t]||0}function XE(e){return[e("x"),e("y")]}function QE(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function JE(e){return void 0===e||1===e}function ZE(e){let{scale:t,scaleX:n,scaleY:r}=e;return!JE(t)||!JE(n)||!JE(r)}function eT(e){return ZE(e)||tT(e)||e.z||e.rotate||e.rotateX||e.rotateY}function tT(e){return nT(e.x)||nT(e.y)}function nT(e){return e&&"0%"!==e}function rT(e,t,n){return n+t*(e-n)}function iT(e,t,n,r,i){return void 0!==i&&(e=rT(e,i,r)),rT(e,n,r)+t}function oT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=iT(e.min,t,n,r,i),e.max=iT(e.max,t,n,r,i)}function aT(e,t){let{x:n,y:r}=t;oT(e.x,n.translate,n.scale,n.originPoint),oT(e.y,r.translate,r.scale,r.originPoint)}function sT(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function lT(e,t){e.min=e.min+t,e.max=e.max+t}function cT(e,t,n){let[r,i,o]=n;const a=void 0!==t[o]?t[o]:.5,s=XS(e.min,e.max,a);oT(e,t[r],t[i],s,t.scale)}const uT=["x","scaleX","originX"],dT=["y","scaleY","originY"];function hT(e,t){cT(e.x,t,uT),cT(e.y,t,dT)}function fT(e,t){return QE(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const pT=new WeakMap;class mT{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;this.panSession=new AE(e,{onSessionStart:e=>{this.stopAnimation(),t&&this.snapToCursor(Qx(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=iS(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),XE((e=>{let t=this.getAxisMotionValue(e).get()||0;if(dx.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=FE(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Me.update((()=>i(e,t)),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t)},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Me.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!gT(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?XS(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?XS(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&Tw(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:WE(e.x,r,o),y:WE(e.y,n,i)}}(n.layoutBox,e),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KE;return!1===e?e=0:!0===e&&(e=KE),{x:GE(e,"left","right"),y:GE(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&XE((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Tw(e))return!1;const n=e.current;Ke(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=fT(e,n),{scroll:i}=t;return i&&(lT(r.x,i.offset.x),lT(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:HE(e.x,t.x),y:HE(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=QE(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=XE((a=>{if(!gT(a,t,this.currentDirection))return;let l=s&&s[a]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,d)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(tE(e,n,0,t))}stopAnimation(){XE((e=>this.getAxisMotionValue(e).stop()))}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){XE((t=>{const{drag:n}=this.getProps();if(!gT(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-XS(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Tw(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};XE((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=FE(e),i=FE(t);return i>r?n=gk(t.min,t.max-r,e.min):r>i&&(n=gk(e.min,e.max-i,t.min)),ex(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),XE((t=>{if(!gT(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(XS(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;pT.set(this.visualElement,this);const e=Jx(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Tw(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=Yx(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(XE((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=KE,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function gT(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const yT=e=>(t,n)=>{e&&Me.update((()=>e(t,n)))};const vT={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wT={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!hx.test(e))return e;e=parseFloat(e)}return`${bT(e,t.target.x)}% ${bT(e,t.target.y)}%`}},xT={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=uk.parse(e);if(o.length>5)return i;const a=uk.createTransformer(e),s="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+s]/=l,o[1+s]/=c;const u=XS(l,c,.5);return"number"===typeof o[2+s]&&(o[2+s]/=u),"number"===typeof o[3+s]&&(o[3+s]/=u),a(o)}};class ST extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=ET,Object.assign($w,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),vT.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Me.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kT(e){const[t,n]=function(){const e=(0,r.useContext)(Ue);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,o=(0,r.useId)();return(0,r.useEffect)((()=>i(o)),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}(),i=(0,r.useContext)(We);return r.createElement(ST,{...e,layoutGroup:i,switchLayoutGroup:(0,r.useContext)(Rw),isPresent:t,safeToRemove:n})}const ET={borderRadius:{...wT,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wT,borderTopRightRadius:wT,borderBottomLeftRadius:wT,borderBottomRightRadius:wT,boxShadow:xT},TT=["TopLeft","TopRight","BottomLeft","BottomRight"],jT=TT.length,NT=e=>"string"===typeof e?parseFloat(e):e,OT=e=>"number"===typeof e||hx.test(e);function CT(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const _T=PT(0,.5,RS),AT=PT(.5,.95,Pe);function PT(e,t,n){return r=>r<e?0:r>t?1:n(gk(e,t,r))}function IT(e,t){e.min=t.min,e.max=t.max}function DT(e,t){IT(e.x,t.x),IT(e.y,t.y)}function MT(e,t,n,r,i){return e=rT(e-=t,1/n,r),void 0!==i&&(e=rT(e,1/i,r)),e}function RT(e,t,n,r,i){let[o,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;dx.test(t)&&(t=parseFloat(t),t=XS(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=XS(o.min,o.max,r);e===o&&(s-=t),e.min=MT(e.min,t,n,s,i),e.max=MT(e.max,t,n,s,i)}(e,t[o],t[a],t[s],t.scale,r,i)}const LT=["x","scaleX","originX"],FT=["y","scaleY","originY"];function UT(e,t,n,r){RT(e.x,t,LT,n?n.x:void 0,r?r.x:void 0),RT(e.y,t,FT,n?n.y:void 0,r?r.y:void 0)}function zT(e){return 0===e.translate&&1===e.scale}function VT(e){return zT(e.x)&&zT(e.y)}function BT(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function $T(e){return FE(e.x)/FE(e.y)}class qT{constructor(){this.members=[]}add(e){iE(this.members,e),e.scheduleRender()}remove(e){if(oE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WT(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}const a=e.x.scale*t.x,s=e.y.scale*t.y;return 1===a&&1===s||(r+=`scale(${a}, ${s})`),r||"none"}const HT=(e,t)=>e.depth-t.depth;class KT{constructor(){this.children=[],this.isDirty=!1}add(e){iE(this.children,e),this.isDirty=!0}remove(e){oE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HT),this.isDirty=!1,this.children.forEach(e)}}const GT=["","X","Y","Z"];let YT=0;const XT={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function QT(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=YT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;XT.totalNodes=XT.resolvedTargetDeltas=XT.recalculatedProjection=0,this.nodes.forEach(ej),this.nodes.forEach(sj),this.nodes.forEach(lj),this.nodes.forEach(tj),e=XT,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new KT)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new aE),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:o}=i;const a=o-n;a>=t&&(Re(r),e(a-t))};return Me.read(r,!0),()=>Re(r)}(r,250),vT.hasAnimatedSinceResize&&(vT.hasAnimatedSinceResize=!1,this.nodes.forEach(aj))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||pj,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!BT(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...eE(o,"layout"),onPlay:s,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||aj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Re(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cj),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(rj);this.isUpdating||this.nodes.forEach(ij),this.isUpdating=!1,this.nodes.forEach(oj),this.nodes.forEach(JT),this.nodes.forEach(ZT),this.clearAllSnapshots();const e=performance.now();Le.delta=ex(0,1e3/60,e-Le.timestamp),Le.timestamp=e,Le.isProcessing=!0,Fe.update.process(Le),Fe.preRender.process(Le),Fe.render.process(Le),Le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(nj),this.sharedNodes.forEach(uj)}scheduleUpdateProjection(){Me.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Me.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!VT(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||eT(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),yj((r=n).x),yj(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(lT(t.x,n.offset.x),lT(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};DT(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){DT(t,e);const{scroll:n}=this.root;n&&(lT(t.x,-n.offset.x),lT(t.y,-n.offset.y))}lT(t.x,i.offset.x),lT(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};DT(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&hT(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),eT(e.latestValues)&&hT(n,e.latestValues)}return eT(this.latestValues)&&hT(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};DT(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!eT(e.latestValues))continue;ZE(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};DT(r,e.measurePageBox()),UT(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return eT(this.latestValues)&&UT(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Le.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},qE(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),DT(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,BE(a.x,s.x,l.x),BE(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):DT(this.target,this.layout.layoutBox),aT(this.target,this.targetDelta)):DT(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},qE(this.relativeTargetOrigin,this.target,e.target),DT(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}XT.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ZE(this.parent.latestValues)&&!tT(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Le.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;DT(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,a;t.x=t.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&hT(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,aT(e,a)),r&&eT(o.latestValues)&&hT(e,o.latestValues))}t.x=sT(t.x),t.y=sT(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;VE(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=WT(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),XT.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(fj));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;dj(o.x,e.x,n),dj(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qE(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){hj(e.x,t.x,n.x,r),hj(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),DT(d,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=XS(0,void 0!==n.opacity?n.opacity:1,_T(r)),e.opacityExit=XS(void 0!==t.opacity?t.opacity:1,0,AT(r))):o&&(e.opacity=XS(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<jT;a++){const i=`border${TT[a]}Radius`;let o=CT(t,i),s=CT(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||OT(o)===OT(s)?(e[i]=Math.max(XS(NT(o),NT(s),r),0),(dx.test(s)||dx.test(o))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=XS(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Re(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update((()=>{vT.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Kw(e)?e:cE(e);return r.start(tE("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&vj(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=FE(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=FE(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}DT(t,n),hT(t,i),VE(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new qT);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<GT.length;i++){const t="rotate"+GT[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";const i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=qx(e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=qx(e.pointerEvents)||""),this.hasProjected&&!eT(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=WT(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin=`${100*s.origin}% ${100*l.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in $w){if(void 0===a[c])continue;const{correct:e,applyTo:t}=$w[c],n="none"===r.transform?a[c]:e(a[c],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?qx(e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(rj),this.root.sharedNodes.clear()}}}function JT(e){e.updateLayout()}function ZT(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?XE((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=FE(r);r.min=t[e].min,r.max=r.min+i})):vj(i,n.layoutBox,t)&&XE((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=FE(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};VE(a,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?VE(s,e.applyTransform(r,!0),n.measuredBox):VE(s,t,n.layoutBox);const l=!VT(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a={x:{min:0,max:0},y:{min:0,max:0}};qE(a,n.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};qE(s,t,o.layoutBox),BT(a,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ej(e){XT.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nj(e){e.clearSnapshot()}function rj(e){e.clearMeasurements()}function ij(e){e.isLayoutDirty=!1}function oj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function aj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sj(e){e.resolveTargetDelta()}function lj(e){e.calcProjection()}function cj(e){e.resetRotation()}function uj(e){e.removeLeadSnapshot()}function dj(e,t,n){e.translate=XS(t.translate,0,n),e.scale=XS(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hj(e,t,n,r){e.min=XS(t.min,n.min,r),e.max=XS(t.max,n.max,r)}function fj(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const pj={duration:.45,ease:[.4,0,.1,1]},mj=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),gj=mj("applewebkit/")&&!mj("chrome/")?Math.round:Pe;function yj(e){e.min=gj(e.min),e.max=gj(e.max)}function vj(e,t,n){return"position"===e||"preserve-aspect"===e&&!UE($T(t),$T(n),.2)}const bj=QT({attachResizeListener:(e,t)=>Yx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wj={current:void 0},xj=QT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wj.current){const e=new bj({});e.mount(window),e.setOptions({layoutScroll:!0}),wj.current=e}return wj.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Sj={pan:{Feature:class extends aS{constructor(){super(...arguments),this.removePointerDownListener=Pe}onPointerDown(e){this.session=new AE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:yT(e),onStart:yT(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Me.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Jx(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends aS{constructor(e){super(e),this.removeGroupControls=Pe,this.removeListeners=Pe,this.controls=new mT(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pe}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:xj,MeasureLayout:kT}},kj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ej(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Ke(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=kj.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return rE(e)?parseFloat(e):e}return Jw(i)?Ej(i,t,n+1):i}const Tj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),jj=e=>Tj.has(e),Nj=e=>e===tx||e===hx,Oj=(e,t)=>parseFloat(e.split(", ")[t]),Cj=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/);if(o)return Oj(o[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?Oj(t[1],e):0}},_j=new Set(["x","y","z"]),Aj=qw.filter((e=>!_j.has(e)));const Pj={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:Cj(4,13),y:Cj(5,14)};Pj.translateX=Pj.x,Pj.translateY=Pj.y;const Ij=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(jj);let o=[],a=!1;const s=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],u=hE(c);const d=t[i];let h;if(Bx(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=hE(c);for(let n=t;n<e&&null!==d[n];n++)h?Ke(hE(d[n])===h,"All keyframes must be of the same type"):(h=hE(d[n]),Ke(h===u||Nj(u)&&Nj(h),"Keyframes must be of the same dimension as the current value"))}else h=hE(d);if(u!==h)if(Nj(u)&&Nj(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===hx&&(t[i]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[i]=u.transform(d):(a||(o=function(e){const t=[];return Aj.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))})),s.length){const n=s.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:a}=o,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{s[e]=Pj[e](r,o)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(s[n]),e[n]=Pj[n](l,o)})),e})(t,e,s);return o.length&&o.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),Ce&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function Dj(e,t,n,r){return(e=>Object.keys(e).some(jj))(t)?Ij(e,t,n,r):{target:t,transitionEnd:r}}const Mj=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!Jw(t))return;const n=Ej(t,i);n&&e.set(n)}));for(const o in r){const e=r[o];if(!Jw(e))continue;const t=Ej(e,i);t&&(r[o]=t,n||(n={}),void 0===n[o]&&(n[o]=e))}return{target:r,transitionEnd:n}}(e,t,r);return Dj(e,t=i.target,n,r=i.transitionEnd)},Rj={current:null},Lj={current:!1};const Fj=new WeakMap,Uj=Object.keys(Mw),zj=Uj.length,Vj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Bj=Cw.length;class $j{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Me.render(this.render,!1,!0);const{latestValues:s,renderState:l}=o;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=_w(n),this.isVariantNode=Aw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const e=u[d];void 0!==s[d]&&Kw(e)&&(e.set(s[d],!1),nE(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Fj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Lj.current||function(){if(Lj.current=!0,Ce)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rj.current=e.matches;e.addListener(t),t()}else Rj.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Rj.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Fj.delete(this.current),this.projection&&this.projection.unmount(),Re(this.notifyUpdate),Re(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Ww.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Me.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,o,{children:a,...s}=e;for(let l=0;l<zj;l++){const e=Uj[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=Mw[e];r&&(i=r),t(s)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(o=a))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:o,layoutScroll:a,layoutRoot:l}=s;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||o&&Tw(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return o}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Vj.length;n++){const t=Vj[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],a=n[i];if(Kw(o))e.addValue(i,o),nE(r)&&r.add(i);else if(Kw(a))e.addValue(i,cE(o,{owner:e})),nE(r)&&r.remove(i);else if(a!==o)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(o)}else{const t=e.getStaticValue(i);e.addValue(i,cE(void 0!==t?t:o,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Bj;t++){const n=Cw[t],r=this.props[n];(jw(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=cE(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=Vx(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Kw(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new aE),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class qj extends $j{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...o}=e,{transformValues:a}=t,s=function(e,t,n){const r={};for(const i in e){const e=yE(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(o,r||{},this);if(a&&(i&&(i=a(i)),o&&(o=a(o)),s&&(s=a(s))),n){!function(e,t,n){var r,i;const o=Object.keys(t).filter((t=>!e.hasValue(t))),a=o.length;if(a)for(let s=0;s<a;s++){const a=o[s],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(rE(c)||Jk(c))?c=parseFloat(c):!pE(c)&&uk.test(l)&&(c=Qk(a,l)),e.addValue(a,cE(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,o,s);const e=Mj(this,o,s,i);i=e.transitionEnd,o=e.target}return{transition:r,transitionEnd:i,...o}}}class Wj extends qj{readValueFromInstance(e,t){if(Ww.has(t)){const e=Xk(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(Qw(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return fT(e,n)}build(e,t,n,r){vx(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Ux(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kw(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}renderInstance(e,t,n,r){Rx(e,t,n,r)}}class Hj extends qj{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ww.has(t)){const e=Xk(t);return e&&e.default||0}return t=Lx.has(t)?t:Mx(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return zx(e,t)}build(e,t,n,r){_x(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Fx(e,t,0,r)}mount(e){this.isSVGTag=Px(e.tagName),super.mount(e)}}const Kj=(e,t)=>Bw(e)?new Hj(t,{enableHardwareAcceleration:!1}):new Wj(t,{enableHardwareAcceleration:!0}),Gj={...CE,...gS,...Sj,...{layout:{ProjectionNode:xj,MeasureLayout:kT}}},Yj=zw(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...Bw(e)?Kx:Gx,preloadedFeatures:n,useRender:Dx(i),createVisualElement:r,Component:e}}(e,t,Gj,Kj)));const Xj=()=>{const{currentUser:e}=av(),{tasks:t,counters:n}=Cb(),i=J(),[o,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(0),[d,h]=(0,r.useState)(!1),f=(0,r.useRef)(null),p=(0,r.useRef)(null),m=Tb.getInstance();(0,r.useEffect)((()=>{(async()=>{if(e){h(!0);try{const t=await m.getRecentNotifications(e.uid);l(t);const n=await m.getUnreadCount(e.uid);u(n)}catch(t){console.error("Errore durante il caricamento delle notifiche:",t)}finally{h(!1)}}})()}),[e]),(0,r.useEffect)((()=>{const e=e=>{f.current&&!f.current.contains(e.target)&&p.current&&!p.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const g=e=>{if(!e)return"";const t=e.toDate();return ew(t)?`Oggi, ${sb(t,"HH:mm")}`:function(e){return cv(1,arguments),Zb(e,tw(Date.now(),1))}(t)?`Ieri, ${sb(t,"HH:mm")}`:function(e,t){return cv(1,arguments),uw(e,Date.now(),t)}(t,{addSuffix:!0,locale:xw})},y=e=>{switch(e.type){case"task":return(0,iv.jsx)(Wb,{className:"h-4 w-4 text-primary-500"});case"counter":return(0,iv.jsx)(Hb,{className:"h-4 w-4 text-secondary-500"});default:return(0,iv.jsx)(Kb,{className:"h-4 w-4 text-tertiary-500"})}};return(0,iv.jsxs)("div",{className:"relative",children:[(0,iv.jsxs)(qb,{ref:p,variant:"glass",size:"icon-sm",rounded:"full","aria-label":"Notifiche","aria-expanded":o,"aria-controls":"notifications-popover",onClick:()=>a(!o),hasAnimation:!0,className:"relative",children:[(0,iv.jsx)(Gb,{className:"h-5 w-5 text-primary-500"}),c>0&&(0,iv.jsx)(Yj.span,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"absolute -top-1 -right-1 bg-tertiary-500 rounded-full w-4 h-4 flex items-center justify-center text-white text-[10px] font-bold animate-pulse",children:c})]}),(0,iv.jsx)(Ye,{children:o&&(0,iv.jsxs)(Yj.div,{id:"notifications-popover",ref:f,initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 glass-effect rounded-2xl shadow-card py-2 z-10 animate-in fade-in-50 duration-200 max-sm:w-60",children:[(0,iv.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-100/50",children:[(0,iv.jsx)("h2",{className:"text-sm font-medium text-gray-900",children:"Notifiche"}),c>0&&(0,iv.jsxs)(qb,{variant:"ghost",size:"sm",onClick:async()=>{if(e)try{await m.markAllAsRead(e.uid),l((e=>e.map((e=>({...e,read:!0}))))),u(0)}catch(t){console.error("Errore durante il set di tutte le notifiche come lette:",t)}},className:"text-xs h-7 px-2",children:[(0,iv.jsx)(Yb,{className:"h-3 w-3 mr-1"}),"Segna tutte come lette"]})]}),(0,iv.jsx)("div",{className:"max-h-[400px] overflow-y-auto py-1",children:d?(0,iv.jsx)("div",{className:"flex justify-center items-center py-6",children:(0,iv.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-primary-500 border-t-transparent rounded-full"})}):0===s.length?(0,iv.jsx)("div",{className:"text-center py-6 text-sm text-gray-500",children:"Nessuna notifica da mostrare"}):(0,iv.jsx)(Ye,{initial:!1,children:s.map((t=>(0,iv.jsx)(Yj.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,height:0,marginTop:0,marginBottom:0,overflow:"hidden"},transition:{duration:.2},onClick:()=>(e=>{e.read||m.markAsRead(e.id),"task"===e.type&&e.relatedId?i("/"):"counter"===e.type&&e.relatedId&&i("/stats"),a(!1)})(t),className:`\n                        cursor-pointer mx-2 my-1 p-3 rounded-xl transition-all\n                        ${t.read?"bg-white/30":"bg-white/80 border-l-2 border-primary-500"}\n                        hover:bg-white/50\n                      `,children:(0,iv.jsxs)("div",{className:"flex items-start gap-2",children:[(0,iv.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:y(t)}),(0,iv.jsxs)("div",{className:"flex-grow",children:[(0,iv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,iv.jsx)("h3",{className:"text-sm font-medium "+(t.read?"text-gray-700":"text-gray-900"),children:t.title}),!t.read&&(0,iv.jsx)("button",{onClick:n=>(async(t,n)=>{if(n.stopPropagation(),e)try{await m.markAsRead(t),l((e=>e.map((e=>e.id===t?{...e,read:!0}:e)))),u((e=>Math.max(0,e-1)))}catch(r){console.error("Errore durante il set di notifica come letta:",r)}})(t.id,n),className:"text-gray-400 hover:text-primary-500","aria-label":"Segna come letta",children:(0,iv.jsx)(Xb,{className:"h-3.5 w-3.5"})})]}),(0,iv.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mt-0.5",children:t.message}),(0,iv.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,iv.jsx)("span",{className:"text-[10px] text-gray-400",children:g(t.timestamp)}),t.relatedId&&(0,iv.jsx)(Qb,{className:"h-3 w-3 text-gray-400"})]})]})]})},t.id)))})})]})})]})},Qj=()=>{const{currentUser:e,logout:t}=av(),n=J(),[i,o]=(0,r.useState)(!1),a=(0,r.useRef)(null),s=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&s.current&&!s.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);return(0,iv.jsx)(Yj.header,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},className:"fixed top-0 left-0 right-0 z-50 glass-effect shadow-sm",children:(0,iv.jsx)("div",{className:"container mx-auto px-4 max-w-2xl",children:(0,iv.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,iv.jsxs)("button",{onClick:()=>n("/"),className:"flex items-center gap-2 focus:outline-none group",children:[(0,iv.jsxs)("div",{className:"relative w-9 h-9 flex items-center justify-center overflow-hidden",children:[(0,iv.jsx)("div",{className:"absolute inset-0 bg-gradient-accent opacity-80 rounded-xl"}),(0,iv.jsx)("div",{className:"absolute inset-0 bg-gradient-accent opacity-50 blur-sm rounded-xl group-hover:scale-110 transition-transform duration-500"}),(0,iv.jsx)(Db,{className:"h-5 w-5 text-white relative z-10"})]}),(0,iv.jsxs)("h1",{className:"text-xl font-display font-semibold text-gray-900 select-none ml-1",children:[(0,iv.jsx)("span",{className:"gradient-text font-bold",children:"My"}),(0,iv.jsx)("span",{children:"Routine"})]})]}),(0,iv.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,iv.jsx)(Xj,{}),e&&(0,iv.jsxs)("div",{className:"relative",children:[(0,iv.jsx)(qb,{ref:s,variant:"glass",size:"icon-sm",rounded:"full","aria-label":"Profilo utente","aria-expanded":i,"aria-controls":"user-menu",onClick:()=>o(!i),hasAnimation:!0,className:"shadow-sm hover:shadow-md",children:e.photoURL?(0,iv.jsx)("img",{src:e.photoURL,alt:e.displayName||"User",className:"h-8 w-8 rounded-full object-cover border-2 border-white"}):(0,iv.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-accent flex items-center justify-center",children:(0,iv.jsx)(Mb,{className:"h-5 w-5 text-white"})})}),(0,iv.jsx)(Ye,{children:i&&(0,iv.jsxs)(Yj.div,{id:"user-menu",ref:a,className:"absolute right-0 mt-2 w-64 card card-glass rounded-xl shadow-card-hover py-2 z-10",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:[(0,iv.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100/50",children:[(0,iv.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.displayName||"Utente"}),(0,iv.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.email})]}),(0,iv.jsxs)("div",{className:"py-2 px-1",children:[(0,iv.jsxs)("button",{className:"flex items-center w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-primary-50/70 transition-colors rounded-lg mx-1",onClick:()=>{n("/settings"),o(!1)},children:[(0,iv.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center mr-3",children:(0,iv.jsx)(Rb,{className:"h-4 w-4 text-primary-600"})}),"Impostazioni"]}),(0,iv.jsxs)("button",{className:"flex items-center w-full text-left px-4 py-3 text-sm text-tertiary-600 hover:bg-tertiary-50/70 transition-colors rounded-lg mx-1",onClick:()=>{(async()=>{try{await t(),n("/login")}catch(e){console.error("Errore durante il logout:",e)}})(),o(!1)},children:[(0,iv.jsx)("div",{className:"w-8 h-8 rounded-full bg-tertiary-50 flex items-center justify-center mr-3",children:(0,iv.jsx)(Lb,{className:"h-4 w-4 text-tertiary-600"})}),"Logout"]})]})]})})]})]})]})})})},Jj=Ib("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Zj=Ib("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),eN=Ib("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),tN=Ib("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),nN=Ib("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),rN=()=>{const e=J(),t=X(),n=[{id:"/",icon:Jj,label:"Home",gradient:["from-primary-400","to-primary-600"],ariaLabel:"Vai alla Home"},{id:"/calendar",icon:Hb,label:"Calendario",gradient:["from-secondary-400","to-secondary-600"],ariaLabel:"Vai al Calendario"},{id:"/stats",icon:Zj,label:"Statistiche",gradient:["from-tertiary-400","to-tertiary-600"],ariaLabel:"Vai alle Statistiche"}],[i,o]=r.useState(!1);return(0,iv.jsx)(Yj.nav,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,delay:.2},className:"fixed bottom-0 left-0 right-0 z-50",children:(0,iv.jsxs)("div",{className:"container mx-auto px-4 max-w-2xl",children:[(0,iv.jsx)(Ye,{children:i&&(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsx)(Yj.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/20 backdrop-blur-xs -z-10",onClick:()=>o(!1)}),(0,iv.jsxs)(Yj.div,{className:"absolute bottom-full left-0 right-0 glass-effect rounded-t-3xl shadow-xl p-4 mb-5",initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",bounce:.25,duration:.5},children:[(0,iv.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,iv.jsx)("h3",{className:"font-display text-lg font-bold text-gray-900",children:"Crea nuovo"}),(0,iv.jsx)(qb,{variant:"glass",size:"icon-sm",rounded:"full",className:"text-gray-500",onClick:()=>o(!1),hasAnimation:!0,children:(0,iv.jsx)(eN,{className:"h-4 w-4"})})]}),(0,iv.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,iv.jsxs)(Yj.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"relative flex items-center p-3 rounded-xl bg-white shadow-sm border border-primary-100/80 overflow-hidden group transition-all",onClick:()=>{e("/create-task"),o(!1)},children:[(0,iv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-50 to-primary-100/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,iv.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-accent flex items-center justify-center shadow-colored mr-3 z-10",children:(0,iv.jsx)(tN,{className:"h-5 w-5 text-white"})}),(0,iv.jsxs)("div",{className:"flex-1 z-10",children:[(0,iv.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Nuovo impegno"}),(0,iv.jsx)("p",{className:"text-xs text-gray-500",children:"Crea un nuovo task o routine"})]})]}),(0,iv.jsxs)(Yj.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"relative flex items-center p-3 rounded-xl bg-white shadow-sm border border-secondary-100/80 overflow-hidden group transition-all",onClick:()=>{e("/create-counter"),o(!1)},children:[(0,iv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-secondary-50 to-secondary-100/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,iv.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-accent flex items-center justify-center shadow-colored mr-3 z-10",children:(0,iv.jsx)(nN,{className:"h-5 w-5 text-white"})}),(0,iv.jsxs)("div",{className:"flex-1 z-10",children:[(0,iv.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Nuovo contatore"}),(0,iv.jsx)("p",{className:"text-xs text-gray-500",children:"Tieni traccia con contatori numerici"})]})]})]})]})]})}),(0,iv.jsxs)("div",{className:"glass-effect rounded-t-xl py-3 px-3 shadow-xl border-t border-white/60 mb-safe",children:[(0,iv.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 -top-6 z-10",children:(0,iv.jsx)(Yj.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-12 h-12 rounded-full flex items-center justify-center shadow-colored-hover bg-gradient-accent border-2 border-white dark:border-gray-800","aria-label":"Crea nuovo",onClick:()=>o(!i),children:(0,iv.jsx)(tN,{className:"h-5 w-5 text-white"})})}),(0,iv.jsx)("div",{className:"flex justify-evenly items-center",children:n.map((n=>{let{id:r,icon:i,label:o,gradient:a,ariaLabel:s}=n;const l=t.pathname===r;return(0,iv.jsxs)(Yj.button,{whileTap:{scale:.9},className:`flex flex-col items-center justify-center py-1 px-3 space-y-1\n                    ${l?"text-gray-900":"text-gray-500 hover:text-gray-700"}\n                  `,onClick:()=>e(r),"aria-label":s,"aria-current":l?"page":void 0,children:[(0,iv.jsxs)("div",{className:"relative",children:[l&&(0,iv.jsx)(Yj.div,{layoutId:"activeTab",className:"absolute -inset-2 -top-2 bg-gradient-accent-soft rounded-lg opacity-100",transition:{type:"spring",bounce:.2,duration:.6}}),(0,iv.jsx)("div",{className:"relative h-6 w-6 flex items-center justify-center",children:l?(0,iv.jsx)(i,{className:"w-full h-full text-primary-500",strokeWidth:2.5}):(0,iv.jsx)(i,{className:"w-full h-full text-gray-400",strokeWidth:2})})]}),(0,iv.jsx)("span",{className:"text-xs font-medium "+(l?"text-primary-600":"text-gray-500"),children:o})]},r)}))})]})]})})},iN=(0,r.createContext)(void 0),oN=()=>{const e=(0,r.useContext)(iN);if(void 0===e)throw new Error("useLayoutContext must be used within a LayoutProvider");return e},aN=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(!0),[o,a]=(0,r.useState)((()=>{const e=localStorage.getItem("darkMode");return null!==e?JSON.parse(e):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}));(0,r.useEffect)((()=>{o?(document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark")):(document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark")),localStorage.setItem("darkMode",JSON.stringify(o))}),[o]);const s={showFooter:n,setShowFooter:i,darkMode:o,setDarkMode:a,toggleDarkMode:()=>{a((e=>!e))}};return(0,iv.jsx)(iN.Provider,{value:s,children:t})},sN=e=>{let{children:t}=e;const{showFooter:n,darkMode:i}=oN(),[o,a]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=setTimeout((()=>{a(!0)}),100);return()=>clearTimeout(e)}),[]),(0,iv.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-background-light to-background-alt",children:[(0,iv.jsx)("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:i?(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsx)("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] rounded-full bg-primary-900/10 filter blur-3xl opacity-30"}),(0,iv.jsx)("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] rounded-full bg-secondary-900/10 filter blur-3xl opacity-30"}),(0,iv.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-tertiary-900/5 filter blur-3xl opacity-20"})]}):(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsx)("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] rounded-full bg-primary-100/20 filter blur-3xl opacity-50"}),(0,iv.jsx)("div",{className:"absolute bottom-0 right-1/4 w-[500px] h-[500px] rounded-full bg-secondary-100/20 filter blur-3xl opacity-50"}),(0,iv.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-tertiary-100/10 filter blur-3xl opacity-30"})]})}),(0,iv.jsx)(Qj,{}),(0,iv.jsx)(Ye,{children:o&&(0,iv.jsx)(Yj.main,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"container mx-auto px-4 py-8 pb-24 pt-20 max-w-2xl",children:t})}),n&&(0,iv.jsx)(rN,{})]})},lN=Ib("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),cN=Ib("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),uN=Ib("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),dN=Ib("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),hN=Ib("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),fN=Ib("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),pN=Ib("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),mN=e=>{let{isOpen:t,isRoutine:n,onClose:r,onDeleteSingle:i,onDeleteAll:o}=e;return t?(0,iv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,iv.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:[(0,iv.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Elimina impegno"}),n?(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsx)("p",{className:"text-gray-600 mb-6",children:"Vuoi eliminare solo questo evento o tutta la routine?"}),(0,iv.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,iv.jsx)(qb,{variant:"default",className:"w-full",onClick:i,children:"Elimina solo questo evento"}),(0,iv.jsx)(qb,{variant:"default",className:"w-full",onClick:o,children:"Elimina tutta la routine"}),(0,iv.jsx)(qb,{variant:"outline",className:"w-full",onClick:r,children:"Annulla"})]})]}):(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsx)("p",{className:"text-gray-600 mb-6",children:"Sei sicuro di voler eliminare questo impegno?"}),(0,iv.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,iv.jsx)(qb,{variant:"default",className:"w-full",onClick:i,children:"Elimina"}),(0,iv.jsx)(qb,{variant:"outline",className:"w-full",onClick:r,children:"Annulla"})]})]})]})}):null};function gN(e){return cv(1,arguments),uv(e).getDate()}function yN(e,t){var n;if("routine"!==e.type)return!1;const r=sb(t,"yyyy-MM-dd");return(null===(n=e.excludedDates)||void 0===n||!n.includes(r))&&(!(e.startDate&&r<e.startDate)&&(!(e.endDate&&r>e.endDate)&&("monthly"===e.recurrenceType?function(e,t){let n;if(e.monthDay)n=e.monthDay;else{if(!e.startDate)return!1;n=gN(ub(e.startDate))}const r=gN(t);if(n>=28){const e=n>=28,r=iw(t);if(e&&r)return!0}return r===n}(e,t):"weekly"!==e.recurrenceType&&e.recurrenceType?"biweekly"===e.recurrenceType?function(e,t){var n;const r=sb(t,"eee").toLowerCase();if(null===(n=e.weekdays)||void 0===n||!n.includes(r))return!1;if(!e.startDate)return!1;const i=ub(e.startDate),o=Math.floor((t.getTime()-i.getTime())/864e5);return Math.floor(o/7)%2===0}(e,t):!("custom"!==e.recurrenceType||!e.recurrenceInterval)&&function(e,t){if(!e.startDate||!e.recurrenceInterval)return!1;const n=ub(e.startDate);let r=0,i=e.recurrenceUnit||"days";if("days"===i)return r=Math.floor((t.getTime()-n.getTime())/864e5),r%e.recurrenceInterval===0;if("weeks"===i)return r=Math.floor((t.getTime()-n.getTime())/6048e5),r%e.recurrenceInterval===0&&sb(n,"eee").toLowerCase()===sb(t,"eee").toLowerCase();if("months"===i){if(t.getDate()!==n.getDate()){const e=iw(t),r=iw(n);if(!e||!r)return!1}const r=t.getFullYear()-n.getFullYear();return(t.getMonth()-n.getMonth()+12*r)%e.recurrenceInterval===0}return!1}(e,t):function(e,t){var n,r;const i=sb(t,"eee").toLowerCase();return null!==(n=null===(r=e.weekdays)||void 0===r?void 0:r.includes(i))&&void 0!==n&&n}(e,t))))}function vN(e,t){if("oneTime"===e.type)return e.isCompleted;if(!e.completedDates||0===e.completedDates.length)return!1;const n="string"===typeof t?t:sb(t,"yyyy-MM-dd");return e.completedDates.includes(n)}const bN=e=>{let{task:t,onComplete:n,onDelete:i,onDeleteSingleOccurrence:o,currentDate:a}=e;const[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),f="oneTime"===t.type?t.isCompleted:vN(t,a),p=t.description&&t.description.trim().length>0,m="routine"===t.type;return(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsxs)(Yj.div,{className:`\n          card backdrop-blur-sm p-5 transition-all relative overflow-hidden\n          ${f?"bg-background-light/90":"bg-background-card/90"}\n          ${d?"border-primary-300 bg-primary-50/80":""}\n        `,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-4},children:[(0,iv.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-100/30 via-secondary-100/20 to-primary-100/30 blur-xl opacity-50"}),(0,iv.jsxs)("div",{className:"flex items-start relative z-10",children:[(0,iv.jsx)("div",{className:"mr-4 mt-1",children:(0,iv.jsx)(Yj.button,{className:`w-6 h-6 rounded-full flex items-center justify-center border-2 transition-colors shadow-sm\n                ${f?"bg-primary-500 border-primary-500":"bg-white border-gray-300 hover:border-primary-400"}\n              `,onClick:()=>{f||(h(!0),setTimeout((()=>{h(!1)}),700)),"routine"===t.type?n(t.id,a):n(t.id)},"aria-label":f?"Segna come non completato":"Segna come completato",whileTap:{scale:.85},whileHover:{scale:1.1},children:f&&(0,iv.jsx)(Xb,{className:"h-4 w-4 text-white"})})}),(0,iv.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,iv.jsxs)("div",{className:"flex items-start justify-between",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("h3",{className:"font-medium text-base "+(f?"text-gray-500 line-through":"text-gray-800"),children:t.title}),(0,iv.jsxs)("div",{className:"flex flex-wrap items-center text-xs text-gray-500 mt-2 gap-x-4 gap-y-2",children:[t.time&&(0,iv.jsxs)("div",{className:"flex items-center px-2 py-1 bg-white/60 rounded-full shadow-sm",children:[(0,iv.jsx)(dN,{className:"h-3.5 w-3.5 mr-1.5 text-primary-500"}),(0,iv.jsx)("span",{children:t.time})]}),!m&&t.date&&(0,iv.jsxs)("div",{className:"flex items-center px-2 py-1 bg-white/60 rounded-full shadow-sm",children:[(0,iv.jsx)(hN,{className:"h-3.5 w-3.5 mr-1.5 text-secondary-500"}),(0,iv.jsx)("span",{children:(e=>{try{return sb(new Date(e),"d MMMM",{locale:xw})}catch(xY){return e}})(t.date)})]}),m&&(0,iv.jsxs)("div",{className:"flex items-center px-2 py-1 bg-white/60 rounded-full shadow-sm",children:[(0,iv.jsx)(fN,{className:"h-3.5 w-3.5 mr-1.5 text-tertiary-500"}),(0,iv.jsx)("span",{children:"weekly"===t.recurrenceType?"Ogni settimana":"biweekly"===t.recurrenceType?"Ogni 2 settimane":"monthly"===t.recurrenceType?"Ogni mese":"custom"===t.recurrenceType&&t.recurrenceInterval?`Ogni ${t.recurrenceInterval} giorni`:""})]}),t.notifyBefore&&(0,iv.jsxs)("div",{className:"flex items-center px-2 py-1 bg-white/60 rounded-full shadow-sm",children:[(0,iv.jsx)(Gb,{className:"h-3.5 w-3.5 mr-1.5 text-amber-500"}),(0,iv.jsxs)("span",{children:[t.notifyInAdvance," ","minutes"===t.notifyTimeUnit?"min":"ore"," prima"]})]})]})]}),(0,iv.jsx)(qb,{variant:"glass",size:"icon-sm",rounded:"full",className:"text-gray-400 hover:text-tertiary-500 -mt-1 -mr-1",onClick:()=>{l(!0)},"aria-label":"Elimina impegno",hasAnimation:!0,children:(0,iv.jsx)(pN,{className:"h-4 w-4"})})]}),p&&(0,iv.jsxs)("div",{className:"mt-4",children:[(0,iv.jsxs)("button",{className:"flex items-center text-xs text-primary-600 hover:text-primary-700 focus:outline-none bg-white/70 py-1.5 px-3 rounded-full shadow-sm",onClick:()=>{u(!c)},"aria-expanded":c,"aria-controls":`description-${t.id}`,children:[(0,iv.jsx)("span",{className:"mr-1",children:c?"Nascondi dettagli":"Mostra dettagli"}),c?(0,iv.jsx)(cN,{className:"h-3 w-3"}):(0,iv.jsx)(uN,{className:"h-3 w-3"})]}),c&&(0,iv.jsx)(Yj.div,{id:`description-${t.id}`,className:"text-sm text-gray-700 mt-3 p-3.5 glass-effect rounded-xl",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:t.description})]})]})]})]}),(0,iv.jsx)(mN,{isOpen:s,isRoutine:"routine"===t.type,onClose:()=>l(!1),onDeleteSingle:()=>{"routine"===t.type?o(t.id,a):i(t.id),l(!1)},onDeleteAll:()=>{i(t.id),l(!1)}})]})},wN=Ib("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),xN=Ib("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),SN=Ib("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),kN=e=>{let{counter:t,onIncrement:n,onDecrement:i,onDelete:o,isReadOnly:a=!1}=e;const[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),d=(()=>{switch(t.type){case"daily":return{icon:(0,iv.jsx)(Hb,{className:"h-full w-full"}),label:"Giornaliero",color:{text:"text-primary-500",bg:"bg-primary-500",bgLight:"bg-primary-50",border:"border-primary-100",badgeBg:"bg-primary-50",badgeText:"text-primary-700"}};case"weekly":return{icon:(0,iv.jsx)(wN,{className:"h-full w-full"}),label:"Settimanale",color:{text:"text-secondary-500",bg:"bg-secondary-500",bgLight:"bg-secondary-50",border:"border-secondary-100",badgeBg:"bg-secondary-50",badgeText:"text-secondary-700"}};case"monthly":return{icon:(0,iv.jsx)(Hb,{className:"h-full w-full"}),label:"Mensile",color:{text:"text-tertiary-500",bg:"bg-tertiary-500",bgLight:"bg-tertiary-50",border:"border-tertiary-100",badgeBg:"bg-tertiary-50",badgeText:"text-tertiary-700"}};case"cumulative":return{icon:(0,iv.jsx)(Zj,{className:"h-full w-full"}),label:"Cumulativo",color:{text:"text-amber-500",bg:"bg-amber-500",bgLight:"bg-amber-50",border:"border-amber-100",badgeBg:"bg-amber-50",badgeText:"text-amber-700"}};default:return{icon:(0,iv.jsx)(Hb,{className:"h-full w-full"}),label:"Contatore",color:{text:"text-primary-500",bg:"bg-primary-500",bgLight:"bg-primary-50",border:"border-primary-100",badgeBg:"bg-primary-50",badgeText:"text-primary-700"}}}})(),h=t.goal?Math.min(100,t.currentValue/t.goal*100):0,f=t.goal&&t.currentValue>=t.goal;return(0,iv.jsxs)(Yj.div,{className:`card card-hover p-6 transition-all relative rounded-2xl ${d.color.border} shadow-md`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,iv.jsx)("div",{className:`absolute inset-0 ${d.color.bgLight} rounded-2xl opacity-40`}),(0,iv.jsx)(Ye,{children:s&&(0,iv.jsx)(Yj.div,{className:`absolute inset-0 ${d.color.bgLight} opacity-60`,initial:{scale:0,borderRadius:"50%"},animate:{scale:2,borderRadius:"0%"},exit:{opacity:0},transition:{duration:.4}})}),(0,iv.jsx)(Ye,{children:f&&(0,iv.jsx)(Yj.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:8},className:"absolute -top-2 -right-2 bg-green-500 text-white p-2 rounded-full shadow-colored z-20",children:(0,iv.jsx)(xN,{className:"h-4 w-4"})})}),(0,iv.jsxs)("div",{className:"relative z-10",children:[(0,iv.jsxs)("div",{className:"flex items-start",children:[(0,iv.jsx)("div",{className:`w-12 h-12 rounded-xl flex-shrink-0 ${d.color.bgLight} flex items-center justify-center p-3 mr-4 ${d.color.text}`,children:d.icon}),(0,iv.jsxs)("div",{className:"flex-1",children:[(0,iv.jsxs)("div",{className:"flex items-start justify-between",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("h3",{className:"font-display font-semibold text-base text-gray-800",children:t.name}),(0,iv.jsx)("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-1 ${d.color.badgeBg} ${d.color.badgeText}`,children:d.label})]}),!a&&!c&&(0,iv.jsx)(qb,{variant:"ghost",size:"icon-sm",rounded:"full",className:"text-gray-400 hover:text-tertiary-500 -mt-1 -mr-1",onClick:()=>u(!0),"aria-label":"Elimina contatore",hasAnimation:!0,children:(0,iv.jsx)(pN,{className:"h-4 w-4"})}),c&&(0,iv.jsxs)("div",{className:"flex space-x-1",children:[(0,iv.jsx)(qb,{variant:"ghost",size:"sm",rounded:"full",className:"text-gray-500",onClick:()=>u(!1),children:"Annulla"}),(0,iv.jsx)(qb,{variant:"destructive",size:"sm",rounded:"full",className:"bg-red-500",onClick:()=>o(t.id),children:"Elimina"})]})]}),t.description&&(0,iv.jsx)("p",{className:"text-sm text-gray-600 mt-1.5 mb-2",children:t.description})]})]}),t.goal&&(0,iv.jsxs)("div",{className:"mt-4 mb-3",children:[(0,iv.jsxs)("div",{className:"relative",children:[(0,iv.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2.5 overflow-hidden",children:(0,iv.jsx)(Yj.div,{className:(h>=100?"bg-green-500":h>=75?"bg-primary-500":h>=50?"bg-blue-500":h>=25?"bg-amber-500":"bg-gray-400")+" h-full rounded-full relative",initial:{width:"0%"},animate:{width:`${h}%`},transition:{duration:.6,ease:"easeOut"},children:(0,iv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-white/20 to-transparent"})})}),f&&(0,iv.jsx)(Yj.div,{className:"absolute right-0 -top-6 text-green-600 text-xs font-semibold",initial:{opacity:0,y:5},animate:{opacity:1,y:0},children:"Obiettivo raggiunto!"})]}),(0,iv.jsxs)("div",{className:"flex justify-between items-center mt-1.5",children:[(0,iv.jsx)("p",{className:"text-xs font-medium text-gray-600",children:"Progresso:"}),(0,iv.jsxs)("p",{className:"text-xs font-semibold text-gray-800",children:[t.currentValue,"/",t.goal," (",Math.round(h),"%)"]})]})]}),(0,iv.jsxs)("div",{className:"flex items-center justify-between mt-4 border-t border-gray-100 pt-4",children:[(0,iv.jsx)("div",{className:"text-sm text-gray-700 font-medium",children:t.currentValue>0?"Valore corrente":"Inizia a contare!"}),(0,iv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,iv.jsx)(Yj.button,{whileHover:{scale:1.05},whileTap:{scale:.95},disabled:a||t.currentValue<=0,onClick:()=>{!a&&t.currentValue>0&&i(t.id)},"aria-label":"Decrementa",className:`h-10 w-10 rounded-full flex items-center justify-center shadow-sm transition-all\n                ${a||t.currentValue<=0?"bg-gray-100 cursor-not-allowed":"bg-white hover:bg-red-50 border border-gray-200 hover:border-red-200 hover:shadow"}\n              `,children:(0,iv.jsx)(SN,{className:"h-5 w-5 "+(a||t.currentValue<=0?"text-gray-400":"text-red-500")})}),(0,iv.jsx)("div",{className:"w-20 h-12 bg-white/95 rounded-xl border border-gray-200 flex items-center justify-center shadow-inner overflow-hidden",children:(0,iv.jsx)(Yj.span,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,type:"spring",stiffness:300},className:"font-bold text-2xl "+(f?"text-green-600":"text-gray-800"),children:t.currentValue},t.currentValue)}),(0,iv.jsx)(Yj.button,{whileHover:{scale:1.05},whileTap:{scale:.95},disabled:a,onClick:()=>{a||(l(!0),n(t.id),setTimeout((()=>l(!1)),300))},"aria-label":"Incrementa",className:`h-10 w-10 rounded-full flex items-center justify-center shadow-sm transition-all\n                ${a?"bg-gray-100 cursor-not-allowed":"bg-white hover:bg-green-50 border border-gray-200 hover:border-green-200 hover:shadow"}\n              `,children:(0,iv.jsx)(tN,{className:"h-5 w-5 "+(a?"text-gray-400":"text-green-500")})})]})]})]})]})};function EN(e,t){cv(2,arguments);var n=uv(e).getTime(),r=uv(t.start).getTime(),i=uv(t.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return n>=r&&n<=i}const TN=()=>{const e=J(),{tasks:t,counters:n,toggleTaskComplete:i,deleteTask:o,deleteRoutineOccurrence:a,incrementCounter:s,decrementCounter:l,deleteCounter:c}=Cb(),[u,d]=(0,r.useState)({tasks:!0,counters:!0}),[h,f]=(0,r.useState)(null),p=sb(new Date,"yyyy-MM-dd"),m=new Date,g=n.filter((e=>{if("cumulative"===e.type){if(!e.startDate)return!0;try{const t=ub(e.startDate),n=e.endDate?ub(e.endDate):null;return m>=t&&(!n||m<=n)}catch(t){return console.error("Errore nella validazione delle date del contatore:",t),!1}}if("daily"===e.type||"weekly"===e.type||"monthly"===e.type){if(!e.startDate)return!0;try{const t=ub(e.startDate),n=e.endDate?ub(e.endDate):null;return n?EN(m,{start:t,end:n}):m>=t}catch(t){return console.error("Errore nella validazione delle date del contatore:",t),!1}}return!1})),y=t.filter((e=>"oneTime"===e.type?e.date===p:"routine"===e.type&&yN(e,m))),v=[...y].sort(((e,t)=>{const n="oneTime"===e.type?e.isCompleted:vN(e,p),r="oneTime"===t.type?t.isCompleted:vN(t,p);return Number(n)-Number(r)})),b=y.filter((e=>"oneTime"===e.type?e.isCompleted:vN(e,p))),w=y.length>0?Math.round(b.length/y.length*100):0,x=(e,t)=>{i(e,t),f(e),setTimeout((()=>{f(null)}),2e3)};(0,r.useEffect)((()=>{h&&window.scrollTo({top:0,behavior:"smooth"})}),[h]);const S=e=>{d((t=>({...t,[e]:!t[e]})))};return(0,iv.jsxs)("div",{className:"space-y-8 pb-24",children:[(0,iv.jsx)(Ye,{children:h&&(0,iv.jsx)(Yj.div,{className:"fixed top-6 inset-x-0 z-50 flex justify-center",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},transition:{type:"spring",damping:12},children:(0,iv.jsxs)("div",{className:"bg-green-50 border border-green-200 p-3 px-5 rounded-full shadow-xl flex items-center max-w-xs mx-auto",children:[(0,iv.jsx)("div",{className:"w-7 h-7 bg-green-100 rounded-full flex items-center justify-center mr-3",children:(0,iv.jsx)(lN,{className:"text-green-600 h-4 w-4"})}),(0,iv.jsx)("p",{className:"text-green-800 text-sm font-medium",children:"Impegno completato!"})]})})}),(0,iv.jsxs)(Yj.div,{className:"card p-6 rounded-2xl bg-gradient-card shadow-md relative overflow-hidden border border-gray-100/70",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,iv.jsx)("div",{className:"absolute -right-20 -top-20 w-60 h-60 bg-gradient-accent-soft rounded-full opacity-30 blur-3xl"}),(0,iv.jsx)("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-secondary-100/30 rounded-full opacity-50 blur-2xl"}),(0,iv.jsxs)("div",{className:"relative z-10",children:[(0,iv.jsxs)("div",{className:"flex items-start justify-between mb-5",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsxs)("h2",{className:"text-2xl font-display font-bold gradient-text",children:["Buon ",sb(new Date,"EEEE",{locale:xw}),"!"]}),(0,iv.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:sb(new Date,"d MMMM yyyy",{locale:xw})})]}),(0,iv.jsx)("div",{className:"h-14 w-14 relative",children:(0,iv.jsxs)("div",{className:"absolute inset-0 rounded-full flex items-center justify-center bg-gray-50",children:[(0,iv.jsxs)("svg",{className:"h-12 w-12",children:[(0,iv.jsx)("circle",{className:"text-gray-100",strokeWidth:"5",stroke:"currentColor",fill:"transparent",r:"20",cx:"24",cy:"24"}),(0,iv.jsx)(Yj.circle,{initial:{strokeDashoffset:125},animate:{strokeDashoffset:125-125*w/100},transition:{duration:1,delay:.5,ease:"easeOut"},className:"text-primary-500",strokeWidth:"5",strokeDasharray:125,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"20",cx:"24",cy:"24"})]}),(0,iv.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,iv.jsxs)("span",{className:"text-sm font-bold text-gray-800",children:[w,"%"]})})]})})]}),(0,iv.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,iv.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-3 border border-gray-100 shadow-sm",children:(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-50 flex items-center justify-center mr-3",children:(0,iv.jsx)(lN,{className:"h-4 w-4 text-primary-500"})}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"text-xs text-gray-500 mb-0.5",children:"Impegni"}),(0,iv.jsxs)("p",{className:"font-medium text-gray-900",children:[b.length,"/",y.length]})]})]})}),(0,iv.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-3 border border-gray-100 shadow-sm",children:(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)("div",{className:"w-8 h-8 rounded-full bg-secondary-50 flex items-center justify-center mr-3",children:(0,iv.jsx)(nN,{className:"h-4 w-4 text-secondary-500"})}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"text-xs text-gray-500 mb-0.5",children:"Contatori"}),(0,iv.jsxs)("p",{className:"font-medium text-gray-900",children:[g.length," attivi"]})]})]})})]})]})]}),(0,iv.jsxs)(Yj.div,{className:"card card-hover shadow-card rounded-2xl overflow-hidden border border-gray-200/80",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[(0,iv.jsxs)("div",{className:"p-5 flex justify-between items-center cursor-pointer bg-gradient-to-r from-white to-secondary-50/20",onClick:()=>S("counters"),children:[(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)("div",{className:"w-10 h-10 rounded-xl bg-secondary-50 flex items-center justify-center mr-3 shadow-sm",children:(0,iv.jsx)(nN,{className:"h-5 w-5 text-secondary-600"})}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("h2",{className:"text-lg font-display font-semibold text-gray-800",children:"I tuoi contatori"}),(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Tieni traccia delle tue attivit\xe0 quotidiane"})]}),(0,iv.jsx)("div",{className:"ml-3 badge badge-secondary flex items-center",children:(0,iv.jsx)("span",{children:g.length})})]}),(0,iv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,iv.jsx)(Yj.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-9 h-9 rounded-full flex items-center justify-center bg-white shadow-sm hover:shadow border border-gray-200 text-gray-500",onClick:t=>{t.stopPropagation(),e("/create-counter")},children:(0,iv.jsx)(tN,{className:"h-5 w-5"})}),(0,iv.jsx)(Yj.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-9 h-9 rounded-full flex items-center justify-center bg-white shadow-sm hover:shadow border border-gray-200 text-gray-500",children:u.counters?(0,iv.jsx)(cN,{className:"h-5 w-5"}):(0,iv.jsx)(uN,{className:"h-5 w-5"})})]})]}),(0,iv.jsx)(Ye,{children:u.counters&&(0,iv.jsx)(Yj.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"overflow-hidden border-t border-gray-100",children:(0,iv.jsx)("div",{className:"p-5 space-y-4",children:g.length>0?g.map(((e,t)=>(0,iv.jsx)(Yj.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*t},children:(0,iv.jsx)(kN,{counter:e,onIncrement:s,onDecrement:l,onDelete:c})},e.id))):(0,iv.jsxs)("div",{className:"py-10 text-center",children:[(0,iv.jsx)("div",{className:"w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center mb-4",children:(0,iv.jsx)(nN,{className:"h-8 w-8 text-gray-300"})}),(0,iv.jsx)("h3",{className:"text-base font-medium text-gray-700 mb-2",children:"Nessun contatore attivo"}),(0,iv.jsx)("p",{className:"text-sm text-gray-500 mb-5 max-w-xs mx-auto",children:"Crea contatori per tenere traccia delle tue attivit\xe0 quotidiane"}),(0,iv.jsx)(Yj.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:(0,iv.jsxs)(qb,{variant:"default",className:"bg-gradient-accent shadow-colored rounded-xl",onClick:()=>e("/create-counter"),children:[(0,iv.jsx)(tN,{className:"h-4 w-4 mr-2"}),"Aggiungi contatore"]})})]})})})})]}),(0,iv.jsxs)(Yj.div,{className:"card card-hover shadow-card rounded-2xl overflow-hidden border border-gray-200/80",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[(0,iv.jsxs)("div",{className:"p-5 flex justify-between items-center cursor-pointer bg-gradient-to-r from-white to-primary-50/20",onClick:()=>S("tasks"),children:[(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary-50 flex items-center justify-center mr-3 shadow-sm",children:(0,iv.jsx)(lN,{className:"h-5 w-5 text-primary-600"})}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("h2",{className:"text-lg font-display font-semibold text-gray-800",children:"I tuoi impegni oggi"}),(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Le attivit\xe0 della tua giornata"})]}),(0,iv.jsx)("div",{className:"ml-3 badge badge-primary flex items-center",children:(0,iv.jsxs)("span",{children:[b.length,"/",y.length]})})]}),(0,iv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,iv.jsx)(Yj.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-9 h-9 rounded-full flex items-center justify-center bg-white shadow-sm hover:shadow border border-gray-200 text-gray-500",onClick:t=>{t.stopPropagation(),e("/create-task")},children:(0,iv.jsx)(tN,{className:"h-5 w-5"})}),(0,iv.jsx)(Yj.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-9 h-9 rounded-full flex items-center justify-center bg-white shadow-sm hover:shadow border border-gray-200 text-gray-500",children:u.tasks?(0,iv.jsx)(cN,{className:"h-5 w-5"}):(0,iv.jsx)(uN,{className:"h-5 w-5"})})]})]}),(0,iv.jsx)(Ye,{children:u.tasks&&(0,iv.jsx)(Yj.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"overflow-hidden border-t border-gray-100",children:(0,iv.jsx)("div",{className:"p-5 space-y-4",children:v.length>0?v.map(((e,t)=>(0,iv.jsx)(Yj.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*t},children:(0,iv.jsx)(bN,{task:e,onComplete:x,onDelete:o,onDeleteSingleOccurrence:a,currentDate:p})},e.id))):(0,iv.jsxs)("div",{className:"py-10 text-center",children:[(0,iv.jsx)("div",{className:"w-16 h-16 mx-auto bg-gray-50 rounded-full flex items-center justify-center mb-4",children:(0,iv.jsx)(lN,{className:"h-8 w-8 text-gray-300"})}),(0,iv.jsx)("h3",{className:"text-base font-medium text-gray-700 mb-2",children:"Nessun impegno per oggi"}),(0,iv.jsx)("p",{className:"text-sm text-gray-500 mb-5 max-w-xs mx-auto",children:"Sembra che tu abbia del tempo libero oggi!"}),(0,iv.jsx)(Yj.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:(0,iv.jsxs)(qb,{variant:"default",className:"bg-gradient-accent shadow-colored rounded-xl",onClick:()=>e("/create-task"),children:[(0,iv.jsx)(tN,{className:"h-4 w-4 mr-2"}),"Aggiungi impegno"]})})]})})})})]})]})};function jN(e,t){var n,r,i,o,a,s,l,c;cv(1,arguments);var u=vv(),d=hv(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=uv(e),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function NN(e){cv(1,arguments);var t=uv(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ON(e,t){var n,r,i,o,a,s,l,c;cv(1,arguments);var u=vv(),d=hv(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=uv(e),f=h.getDay(),p=6+(f<d?-7:0)-(f-d);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function CN(e,t){cv(2,arguments);var n=uv(e),r=hv(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());return o.setMonth(n.getMonth()+r+1,0),i>=o.getDate()?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}const _N=Ib("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),AN=Ib("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),PN=()=>{const{tasks:e,counters:t,toggleTaskComplete:n,deleteTask:i,deleteRoutineOccurrence:o,incrementCounter:a,decrementCounter:s,deleteCounter:l}=Cb(),[c,u]=(0,r.useState)(new Date),[d,h]=(0,r.useState)(new Date),f=(e=>function(e,t){var n;cv(1,arguments);var r=e||{},i=uv(r.start),o=uv(r.end).getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],s=i;s.setHours(0,0,0,0);var l=Number(null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;s.getTime()<=o;)a.push(uv(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return a}({start:jN(NN(e),{weekStartsOn:1}),end:ON(rw(e),{weekStartsOn:1})}))(c),p=sb(d,"yyyy-MM-dd"),m=ew(d),g=e.filter((e=>"oneTime"===e.type?e.date===p:"routine"===e.type&&yN(e,d))),y=(e,t)=>{if(!e.startDate)return!1;try{const n=ub(e.startDate);if(e.endDate){if(!EN(t,{start:n,end:ub(e.endDate)}))return!1}else if(t<n)return!1;if("daily"===e.type)return!0;if("weekly"===e.type){const e=n.getDay();return e===t.getDay()}if("monthly"===e.type){const e=n.getDate();return e===t.getDate()}return!0}catch(n){return console.error("Errore nel parsing delle date:",n),!1}},v=t.filter((e=>y(e,d))).map((e=>m?{...e,displayValue:e.currentValue}:{...e,displayValue:0})),b=g.length>0||v.length>0;return(0,iv.jsxs)("div",{className:"space-y-6",children:[(0,iv.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[(0,iv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,iv.jsx)("h1",{className:"text-2xl font-bold text-gray-900 capitalize",children:sb(c,"MMMM yyyy",{locale:xw})}),(0,iv.jsxs)("div",{className:"flex space-x-2",children:[(0,iv.jsx)(qb,{variant:"outline",size:"icon",className:"rounded-full",onClick:()=>u(function(e,t){return cv(2,arguments),CN(e,-hv(t))}(c,1)),children:(0,iv.jsx)(_N,{className:"h-5 w-5"})}),(0,iv.jsx)(qb,{variant:"outline",size:"icon",className:"rounded-full",onClick:()=>u(CN(c,1)),children:(0,iv.jsx)(AN,{className:"h-5 w-5"})})]})]}),(0,iv.jsx)("div",{className:"grid grid-cols-7 mb-2",children:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map((e=>(0,iv.jsx)("div",{className:"text-center text-sm font-medium text-gray-500 py-2",children:e},e)))}),(0,iv.jsx)("div",{className:"grid grid-cols-7 gap-1",children:f.map((n=>{const r=Zb(n,d),i=function(e,t){cv(2,arguments);var n=uv(e),r=uv(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(n,c),o=(t=>e.some((e=>{if("oneTime"===e.type){const n=sb(t,"yyyy-MM-dd");return e.date===n}return"routine"===e.type&&yN(e,t)})))(n),a=((e=>{t.some((t=>y(t,e)))})(n),ew(n));return(0,iv.jsxs)("button",{onClick:()=>h(n),className:`\n                  aspect-square p-1 relative flex flex-col items-center justify-center\n                  rounded-lg transition-colors\n                  ${!i&&"text-gray-400"}\n                  ${r?"bg-primary-100 text-primary-700":"hover:bg-gray-50"}\n                  ${a&&!r&&"border-2 border-primary-500"}\n                `,children:[(0,iv.jsx)("span",{className:`\n                  text-sm font-medium\n                  ${r&&"font-bold"}\n                `,children:sb(n,"d")}),(0,iv.jsx)("div",{className:"flex space-x-1 mt-1",children:o&&(0,iv.jsx)("span",{className:`\n                      w-1.5 h-1.5 rounded-full\n                      ${r?"bg-primary-600":"bg-primary-400"}\n                    `})})]},n.toString())}))})]}),(0,iv.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[(0,iv.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:sb(d,"d MMMM yyyy",{locale:xw})}),!b&&(0,iv.jsx)("div",{className:"text-center py-8",children:(0,iv.jsx)("p",{className:"text-gray-500",children:"Nessun impegno o contatore per questa data"})}),g.length>0&&(0,iv.jsxs)("div",{className:"mb-6",children:[(0,iv.jsx)("h3",{className:"text-md font-medium text-gray-700 mb-3",children:"Impegni"}),(0,iv.jsx)("div",{className:"space-y-3",children:g.map((e=>(0,iv.jsx)(bN,{task:e,onComplete:n,onDelete:i,onDeleteSingleOccurrence:o,currentDate:p},e.id)))})]}),v.length>0&&(0,iv.jsxs)("div",{children:[(0,iv.jsx)("h3",{className:"text-md font-medium text-gray-700 mb-3",children:"Contatori"}),(0,iv.jsxs)("div",{className:"space-y-3",children:[v.map((e=>(0,iv.jsx)(kN,{counter:{...e,currentValue:void 0!==e.displayValue?e.displayValue:e.currentValue},onIncrement:m?a:()=>{},onDecrement:m?s:()=>{},onDelete:m?l:()=>{},isReadOnly:!m},e.id))),!m&&(0,iv.jsx)("p",{className:"text-xs text-amber-600 mt-2 p-2 bg-amber-50 rounded-lg",children:d>new Date?"I contatori per i giorni futuri partiranno da zero":"I contatori possono essere modificati solo per la data odierna"})]})]})]})]})};function IN(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=IN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const DN=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=IN(e))&&(r&&(r+=" "),r+=t);return r};var MN=n(9889),RN=n.n(MN),LN=n(9062),FN=n(620),UN=n.n(FN),zN=n(5268),VN=n.n(zN),BN=n(3097),$N=n.n(BN),qN=n(9160),WN=n.n(qN),HN=function(e){return 0===e?0:e>0?1:-1},KN=function(e){return UN()(e)&&e.indexOf("%")===e.length-1},GN=function(e){return WN()(e)&&!VN()(e)},YN=function(e){return GN(e)||UN()(e)},XN=0,QN=function(e){var t=++XN;return"".concat(e||"").concat(t)},JN=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!GN(e)&&!UN()(e))return r;if(KN(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return VN()(n)&&(n=r),i&&n>t&&(n=t),n},ZN=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},eO=function(e,t){return GN(e)&&GN(t)?function(n){return e+n*(t-e)}:function(){return t}};function tO(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):$N()(e,t))===n})):null}var nO=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},rO=n(9686),iO=n.n(rO),oO=n(1629),aO=n.n(oO),sO=n(6686),lO=n.n(sO);function cO(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function uO(e){return uO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uO(e)}var dO=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hO=["points","pathLength"],fO={svg:["viewBox","children"],polygon:hO,polyline:hO},pO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mO=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),!lO()(n))return null;var i={};return Object.keys(n).forEach((function(e){pO.includes(e)&&(i[e]=t||function(t){return n[e](n,t)})})),i},gO=function(e,t,n){if(!lO()(e)||"object"!==uO(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];pO.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},yO=["children"],vO=["children"];function bO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wO(e){return wO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wO(e)}var xO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},SO=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},kO=null,EO=null,TO=function e(t){if(t===kO&&Array.isArray(EO))return EO;var n=[];return r.Children.forEach(t,(function(t){iO()(t)||((0,LN.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),EO=n,kO=t,n};function jO(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return SO(e)})):[SO(t)],TO(e).forEach((function(e){var t=$N()(e,"type.displayName")||$N()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function NO(e,t){var n=jO(e,t);return n&&n[0]}var OO=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!GN(n)||n<=0||!GN(r)||r<=0)},CO=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_O=function(e){return e&&e.type&&UN()(e.type)&&CO.indexOf(e.type)>=0},AO=function(e){return e&&"object"===wO(e)&&"cx"in e&&"cy"in e&&"r"in e},PO=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,r.isValidElement)(e)&&(i=e.props),!lO()(i))return null;var o={};return Object.keys(i).forEach((function(e){var r;(function(e,t,n,r){var i,o=null!==(i=null===fO||void 0===fO?void 0:fO[r])&&void 0!==i?i:[];return!aO()(e)&&(r&&o.includes(t)||dO.includes(t))||n&&pO.includes(t)})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(o[e]=i[e])})),o},IO=function e(t,n){if(t===n)return!0;var i=r.Children.count(t);if(i!==r.Children.count(n))return!1;if(0===i)return!0;if(1===i)return DO(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<i;o++){var a=t[o],s=n[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!DO(a,s))return!1}return!0},DO=function(e,t){if(iO()(e)&&iO()(t))return!0;if(!iO()(e)&&!iO()(t)){var n=e.props||{},r=n.children,i=bO(n,yO),o=t.props||{},a=o.children,s=bO(o,vO);return r&&a?cO(i,s)&&IO(r,a):!r&&!a&&cO(i,s)}return!1},MO=function(e,t){var n=[],r={};return TO(e).forEach((function(e,i){if(_O(e))n.push(e);else if(e){var o=SO(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}})),n};function RO(e){return RO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RO(e)}function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LO(Object(n),!0).forEach((function(t){UO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RO(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return VO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BO=(0,r.forwardRef)((function(e,t){var n=e.aspect,i=e.initialDimension,o=void 0===i?{width:-1,height:-1}:i,a=e.width,s=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,w=e.style,x=void 0===w?{}:w,S=(0,r.useRef)(null),k=(0,r.useRef)();k.current=b,(0,r.useImperativeHandle)(t,(function(){return Object.assign(S.current,{get current(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current}})}));var E=zO((0,r.useState)({containerWidth:o.width,containerHeight:o.height}),2),T=E[0],j=E[1],N=(0,r.useCallback)((function(e,t){j((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,r.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;N(r,i),null===(t=k.current)||void 0===t||t.call(k,r,i)};g>0&&(e=RN()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,i=n.height;return N(r,i),t.observe(S.current),function(){t.disconnect()}}),[N,g]);var O=(0,r.useMemo)((function(){var e=T.containerWidth,t=T.containerHeight;if(e<0||t<0)return null;nO(KN(s)||KN(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),nO(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=KN(s)?e:s,o=KN(c)?t:c;n&&n>0&&(i?o=i/n:o&&(i=o*n),f&&o>f&&(o=f)),nO(i>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,o,s,c,d,h,n);var a=!Array.isArray(p)&&(0,LN.isElement)(p)&&SO(p.type).endsWith("Chart");return r.Children.map(p,(function(e){return(0,LN.isElement)(e)?(0,r.cloneElement)(e,FO({width:i,height:o},a?{style:FO({height:"100%",width:"100%",maxHeight:o,maxWidth:i},e.props.style)}:{})):e}))}),[n,p,c,f,h,d,T,s]);return r.createElement("div",{id:y?"".concat(y):void 0,className:DN("recharts-responsive-container",v),style:FO(FO({},x),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:S},O)})),$O=n(6604),qO=n.n($O),WO=n(7424),HO=n.n(WO),KO="Invariant failed";function GO(e,t){if(!e)throw new Error(KO)}var YO=["children","width","height","viewBox","className","style","title","desc"];function XO(){return XO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XO.apply(this,arguments)}function QO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JO(e){var t=e.children,n=e.width,i=e.height,o=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=QO(e,YO),d=o||{width:n,height:i,x:0,y:0},h=DN("recharts-surface",a);return r.createElement("svg",XO({},PO(u,!0,"svg"),{className:h,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),r.createElement("title",null,l),r.createElement("desc",null,c),t)}var ZO=["children","className"];function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eC.apply(this,arguments)}function tC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var nC=r.forwardRef((function(e,t){var n=e.children,i=e.className,o=tC(e,ZO),a=DN("recharts-layer",i);return r.createElement("g",eC({className:a},PO(o,!0),{ref:t}),n)}));function rC(e){return rC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rC(e)}function iC(){return iC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iC.apply(this,arguments)}function oC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return aC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sC(Object(n),!0).forEach((function(t){cC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rC(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uC(e){return Array.isArray(e)&&YN(e[0])&&YN(e[1])?e.join(" ~ "):e}var dC=function(e){var t=e.separator,n=void 0===t?" : ":t,i=e.contentStyle,o=void 0===i?{}:i,a=e.itemStyle,s=void 0===a?{}:a,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=lC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),w=lC({margin:0},c),x=!iO()(m),S=x?m:"",k=DN("recharts-default-tooltip",f),E=DN("recharts-tooltip-label",p);x&&g&&void 0!==u&&null!==u&&(S=g(m,u));var T=v?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",iC({className:k,style:b},T),r.createElement("p",{className:E,style:w},r.isValidElement(S)?S:"".concat(S)),function(){if(u&&u.length){var e=(h?HO()(u,h):u).map((function(e,t){if("none"===e.type)return null;var i=lC({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||d||uC,a=e.value,l=e.name,c=a,h=l;if(o&&null!=c&&null!=h){var f=o(a,l,e,t,u);if(Array.isArray(f)){var p=oC(f,2);c=p[0],h=p[1]}else c=f}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:i},YN(h)?r.createElement("span",{className:"recharts-tooltip-item-name"},h):null,YN(h)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},c),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function hC(e){return hC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hC(e)}function fC(e,t,n){return t=function(e){var t=function(e,t){if("object"!=hC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hC(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pC="recharts-tooltip-wrapper",mC={visibility:"hidden"};function gC(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return DN(pC,fC(fC(fC(fC({},"".concat(pC,"-right"),GN(n)&&t&&GN(t.x)&&n>=t.x),"".concat(pC,"-left"),GN(n)&&t&&GN(t.x)&&n<t.x),"".concat(pC,"-bottom"),GN(r)&&t&&GN(t.y)&&r>=t.y),"".concat(pC,"-top"),GN(r)&&t&&GN(t.y)&&r<t.y))}function yC(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&GN(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function vC(e){return vC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vC(e)}function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bC(Object(n),!0).forEach((function(t){NC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OC(r.key),r)}}function SC(e,t,n){return t=EC(t),function(e,t){if(t&&("object"===vC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return TC(e)}(e,kC()?Reflect.construct(t,n||[],EC(e).constructor):t.apply(e,n))}function kC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kC=function(){return!!e})()}function EC(e){return EC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EC(e)}function TC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jC(e,t){return jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jC(e,t)}function NC(e,t,n){return(t=OC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OC(e){var t=function(e,t){if("object"!=vC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vC(t)?t:String(t)}var CC=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return NC(TC(e=SC(this,t,[].concat(r))),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),NC(TC(e),"lastBoundingBox",{width:-1,height:-1}),NC(TC(e),"handleKeyDown",(function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),e}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jC(e,t)}(t,e),n=t,(i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.lastBoundingBox.width)>1||Math.abs(e.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=e.width,this.lastBoundingBox.height=e.height)}else-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=yC({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=yC({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):mC,cssClasses:gC({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,w=wC(wC({transition:u&&n?"transform ".concat(o,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return r.createElement("div",{tabIndex:-1,className:v,style:w,ref:function(t){e.wrapperNode=t}},s)}}])&&xC(n.prototype,i),o&&xC(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.PureComponent),_C={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return _C[e]},set:function(e,t){if("string"===typeof e)_C[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){_C[t]=e[t]}))}}},AC=n(977),PC=n.n(AC);function IC(e,t,n){return!0===t?PC()(e,n):aO()(t)?PC()(e,t):e}function DC(e){return DC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DC(e)}function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MC(Object(n),!0).forEach((function(t){BC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$C(r.key),r)}}function FC(e,t,n){return t=zC(t),function(e,t){if(t&&("object"===DC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UC()?Reflect.construct(t,n||[],zC(e).constructor):t.apply(e,n))}function UC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UC=function(){return!!e})()}function zC(e){return zC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zC(e)}function VC(e,t){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},VC(e,t)}function BC(e,t,n){return(t=$C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $C(e){var t=function(e,t){if("object"!=DC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DC(t)?t:String(t)}function qC(e){return e.dataKey}var WC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),FC(this,t,arguments)}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VC(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=IC(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,qC));var w=b.length>0;return r.createElement(CC,{allowEscapeViewBox:i,animationDuration:o,animationEasing:a,isAnimationActive:u,active:n,coordinate:l,hasPayload:w,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(dC,t)}(s,RC(RC({},this.props),{},{payload:b})))}}])&&LC(n.prototype,i),o&&LC(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.PureComponent);BC(WC,"displayName","Tooltip"),BC(WC,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_C.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HC=n(643),KC=n.n(HC);Math.abs,Math.atan2;const GC=Math.cos,YC=(Math.max,Math.min,Math.sin),XC=Math.sqrt,QC=Math.PI,JC=2*QC;const ZC={draw(e,t){const n=XC(t/QC);e.moveTo(n,0),e.arc(0,0,n,0,JC)}},e_={draw(e,t){const n=XC(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},t_=XC(1/3),n_=2*t_,r_={draw(e,t){const n=XC(t/n_),r=n*t_;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},i_={draw(e,t){const n=XC(t),r=-n/2;e.rect(r,r,n,n)}},o_=YC(QC/10)/YC(7*QC/10),a_=YC(JC/10)*o_,s_=-GC(JC/10)*o_,l_={draw(e,t){const n=XC(.8908130915292852*t),r=a_*n,i=s_*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=JC*o/5,a=GC(t),s=YC(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},c_=XC(3),u_={draw(e,t){const n=-XC(t/(3*c_));e.moveTo(0,2*n),e.lineTo(-c_*n,-n),e.lineTo(c_*n,-n),e.closePath()}},d_=-.5,h_=XC(3)/2,f_=1/XC(12),p_=3*(f_/2+1),m_={draw(e,t){const n=XC(t/p_),r=n/2,i=n*f_,o=r,a=n*f_+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(d_*r-h_*i,h_*r+d_*i),e.lineTo(d_*o-h_*a,h_*o+d_*a),e.lineTo(d_*s-h_*l,h_*s+d_*l),e.lineTo(d_*r+h_*i,d_*i-h_*r),e.lineTo(d_*o+h_*a,d_*a-h_*o),e.lineTo(d_*s+h_*l,d_*l-h_*s),e.closePath()}};function g_(e){return function(){return e}}const y_=Math.PI,v_=2*y_,b_=1e-6,w_=v_-b_;function x_(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class S_{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?x_:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return x_;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>b_)if(Math.abs(u*s-l*c)>b_&&i){let h=n-o,f=r-a,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((y_-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,w=v/g;Math.abs(b-1)>b_&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+w*s},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>b_||Math.abs(this._y1-c)>b_)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%v_+v_),d>w_?this._append`A${n},${n},0,1,${u},${e-a},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>b_&&this._append`A${n},${n},0,${+(d>=y_)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function k_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new S_(t)}XC(3),XC(3);function E_(e){return E_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E_(e)}var T_=["type","size","sizeType"];function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j_.apply(this,arguments)}function N_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N_(Object(n),!0).forEach((function(t){C_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=E_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E_(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function __(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var A_={symbolCircle:ZC,symbolCross:e_,symbolDiamond:r_,symbolSquare:i_,symbolStar:l_,symbolTriangle:u_,symbolWye:m_},P_=Math.PI/180,I_=function(e){var t=e.type,n=void 0===t?"circle":t,i=e.size,o=void 0===i?64:i,a=e.sizeType,s=void 0===a?"area":a,l=O_(O_({},__(e,T_)),{},{type:n,size:o,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=PO(l,!0);return u===+u&&d===+d&&o===+o?r.createElement("path",j_({},h,{className:DN("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(KC()(e));return A_[t]||ZC}(n),t=function(e,t){let n=null,r=k_(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:g_(e||ZC),t="function"===typeof t?t:g_(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:g_(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:g_(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*P_;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,n));return t()}()})):null};function D_(e){return D_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D_(e)}function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M_.apply(this,arguments)}function R_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$_(r.key),r)}}function F_(e,t,n){return t=z_(t),function(e,t){if(t&&("object"===D_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,U_()?Reflect.construct(t,n||[],z_(e).constructor):t.apply(e,n))}function U_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(U_=function(){return!!e})()}function z_(e){return z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z_(e)}function V_(e,t){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V_(e,t)}function B_(e,t,n){return(t=$_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $_(e){var t=function(e,t){if("object"!=D_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D_(t)?t:String(t)}I_.registerSymbol=function(e,t){A_["symbol".concat(KC()(e))]=t};var q_=32,W_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F_(this,t,arguments)}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V_(e,t)}(t,e),n=t,i=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,i=q_/6,o=q_/3,a=e.inactive?t:e.color;if("plainline"===e.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:q_,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(q_,"M").concat(2*o,",").concat(n,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return r.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(q_,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R_(Object(n),!0).forEach((function(t){B_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,r.cloneElement(e.legendIcon,s)}return r.createElement(I_,{fill:a,cx:n,cy:n,size:q_,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,i=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:q_,height:q_},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o=t.formatter||a,d=DN(B_(B_({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=aO()(t.value)?null:t.value;nO(!aO()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?s:t.color;return r.createElement("li",M_({className:d,style:c,key:"legend-item-".concat(n)},gO(e.props,t,n)),r.createElement(JO,{width:i,height:i,viewBox:l,style:u},e.renderIcon(t)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},o?o(h,t,n):h))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,i=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?i:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],i&&L_(n.prototype,i),o&&L_(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.PureComponent);function H_(e){return H_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H_(e)}B_(W_,"displayName","Legend"),B_(W_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var K_=["ref"];function G_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G_(Object(n),!0).forEach((function(t){nA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rA(r.key),r)}}function Q_(e,t,n){return t=Z_(t),function(e,t){if(t&&("object"===H_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eA(e)}(e,J_()?Reflect.construct(t,n||[],Z_(e).constructor):t.apply(e,n))}function J_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(J_=function(){return!!e})()}function Z_(e){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z_(e)}function eA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tA(e,t){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tA(e,t)}function nA(e,t,n){return(t=rA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rA(e){var t=function(e,t){if("object"!=H_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=H_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H_(t)?t:String(t)}function iA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oA(e){return e.value}var aA=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nA(eA(e=Q_(this,t,[].concat(r))),"lastBoundingBox",{width:-1,height:-1}),e}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tA(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var t=this.wrapperNode.getBoundingClientRect();(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t))}else-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Y_({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Y_(Y_({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,i=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=Y_(Y_({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return r.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return r.createElement(e,t);t.ref;var n=iA(t,K_);return r.createElement(W_,n)}(n,Y_(Y_({},this.props),{},{payload:IC(l,s,oA)})))}}],o=[{key:"getWithHeight",value:function(e,t){var n=e.props.layout;return"vertical"===n&&GN(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],i&&X_(n.prototype,i),o&&X_(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.PureComponent);function sA(){return sA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sA.apply(this,arguments)}nA(aA,"displayName","Legend"),nA(aA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lA=function(e){var t=e.cx,n=e.cy,i=e.r,o=e.className,a=DN("recharts-dot",o);return t===+t&&n===+n&&i===+i?r.createElement("circle",sA({},PO(e,!1),mO(e),{className:a,cx:t,cy:n,r:i})):null},cA=n(5173),uA=n.n(cA),dA=Object.getOwnPropertyNames,hA=Object.getOwnPropertySymbols,fA=Object.prototype.hasOwnProperty;function pA(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function mA(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function gA(e){return dA(e).concat(hA(e))}var yA=Object.hasOwn||function(e,t){return fA.call(e,t)};function vA(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var bA=Object.getOwnPropertyDescriptor,wA=Object.keys;function xA(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function SA(e,t){return vA(e.getTime(),t.getTime())}function kA(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function EA(e,t){return e===t}function TA(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(a[d])d++;else{var h=i.value,f=o.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var jA=vA;function NA(e,t,n){var r=wA(e),i=r.length;if(wA(t).length!==i)return!1;for(;i-- >0;)if(!DA(e,t,n,r[i]))return!1;return!0}function OA(e,t,n){var r,i,o,a=gA(e),s=a.length;if(gA(t).length!==s)return!1;for(;s-- >0;){if(!DA(e,t,n,r=a[s]))return!1;if(i=bA(e,r),o=bA(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function CA(e,t){return vA(e.valueOf(),t.valueOf())}function _A(e,t){return e.source===t.source&&e.flags===t.flags}function AA(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function PA(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function IA(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function DA(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||yA(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var MA=Array.isArray,RA="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,LA=Object.assign,FA=Object.prototype.toString.call.bind(Object.prototype.toString);var UA=zA();zA({strict:!0}),zA({circular:!0}),zA({circular:!0,strict:!0}),zA({createInternalComparator:function(){return vA}}),zA({strict:!0,createInternalComparator:function(){return vA}}),zA({circular:!0,createInternalComparator:function(){return vA}}),zA({circular:!0,createInternalComparator:function(){return vA},strict:!0});function zA(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?OA:xA,areDatesEqual:SA,areErrorsEqual:kA,areFunctionsEqual:EA,areMapsEqual:r?pA(TA,OA):TA,areNumbersEqual:jA,areObjectsEqual:r?OA:NA,arePrimitiveWrappersEqual:CA,areRegExpsEqual:_A,areSetsEqual:r?pA(AA,OA):AA,areTypedArraysEqual:r?OA:PA,areUrlsEqual:IA};if(n&&(i=LA({},i,n(i))),t){var o=mA(i.areArraysEqual),a=mA(i.areMapsEqual),s=mA(i.areObjectsEqual),l=mA(i.areSetsEqual);i=LA({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?a(e,f,p):"function"===m&&i(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,p);if(MA(e))return t(e,f,p);if(null!=RA&&RA(e))return d(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return o(e,f,p);if(g===Set)return u(e,f,p);var y=FA(e);return"[object Date]"===y?n(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?o(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?r(e,f,p):"[object Arguments]"===y?s(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:u,strict:s})}function VA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function BA(e){return BA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BA(e)}function $A(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WA(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=$A(r),o=i[0],a=i.slice(1);return"number"===typeof o?void VA(n.bind(null,a),o):(n(o),void VA(n.bind(null,a)))}"object"===BA(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function HA(e){return HA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HA(e)}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KA(Object(n),!0).forEach((function(t){YA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==HA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==HA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===HA(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XA=function(e){return e},QA=function(e,t){return Object.keys(t).reduce((function(n,r){return GA(GA({},n),{},YA({},r,e(r,t[r])))}),{})},JA=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function ZA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||tP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eP(e){return function(e){if(Array.isArray(e))return nP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tP(e,t){if(e){if("string"===typeof e)return nP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nP(e,t):void 0}}function nP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rP=1e-4,iP=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},oP=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},aP=function(e,t){return function(n){var r=iP(e,t);return oP(r,n)}},sP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=ZA(l,4);r=c[0],i=c[1],o=c[2],a=c[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u,d,h=aP(r,o),f=aP(i,a),p=(u=r,d=o,function(e){var t=iP(u,d),n=[].concat(eP(t.map((function(e,t){return e*t})).slice(1)),[0]);return oP(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,o=p(n);if(Math.abs(i-t)<rP||o<rP)return f(n);n=m(n-i/o)}return f(n)};return g.isStepper=!1,g},lP=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sP(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<rP&&Math.abs(o)<rP?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return sP(r)}return"function"===typeof r?r:null};function cP(e){return cP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cP(e)}function uP(e){return function(e){if(Array.isArray(e))return gP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dP(Object(n),!0).forEach((function(t){fP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==cP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cP(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||mP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mP(e,t){if(e){if("string"===typeof e)return gP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gP(e,t):void 0}}function gP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yP=function(e,t,n){return e+(t-e)*n},vP=function(e){return e.from!==e.to},bP=function e(t,n,r){var i=QA((function(e,n){if(vP(n)){var r=pP(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return hP(hP({},n),{},{from:i,velocity:o})}return n}),n);return r<1?QA((function(e,t){return vP(t)?hP(hP({},t),{},{velocity:yP(t.velocity,i[e].velocity,r),from:yP(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const wP=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return hP(hP({},n),{},fP({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return hP(hP({},n),{},fP({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=bP(n,d,o),i(hP(hP(hP({},e),t),QA((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(vP).length&&(h=requestAnimationFrame(f))}:function(o){l||(l=o);var a=(o-l)/r,s=QA((function(e,t){return yP.apply(void 0,uP(t).concat([n(a)]))}),u);if(i(hP(hP(hP({},e),t),s)),a<1)h=requestAnimationFrame(f);else{var c=QA((function(e,t){return yP.apply(void 0,uP(t).concat([n(1)]))}),u);i(hP(hP(hP({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function xP(e){return xP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xP(e)}var SP=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EP(e){return function(e){if(Array.isArray(e))return TP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return TP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jP(Object(n),!0).forEach((function(t){OP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OP(e,t,n){return(t=_P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_P(r.key),r)}}function _P(e){var t=function(e,t){if("object"!==xP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xP(t)?t:String(t)}function AP(e,t){return AP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AP(e,t)}function PP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(xY){return!1}}();return function(){var n,r=MP(e);if(t){var i=MP(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return IP(this,n)}}function IP(e,t){if(t&&("object"===xP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return DP(e)}function DP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MP(e){return MP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},MP(e)}var RP=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AP(e,t)}(a,e);var t,n,i,o=PP(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(DP(n)),n.changeStyle=n.changeStyle.bind(DP(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),IP(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},IP(n);n.state={style:s?OP({},s,l):l}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(UA(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:i?OP({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(NP(NP({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?OP({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=wP(n,r,lP(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(EP(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(EP(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var f=JA(h,o,s),p=NP(NP(NP({},d.style),l),{},{transition:f});return[].concat(EP(e),[p,o,u]).filter(XA)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=WA());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?OP({},r,i):i,h=JA(Object.keys(d),n,o);u.start([a,t,NP(NP({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,kP(e,SP)),a=r.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!i||0===a||n<=0)return t;var l=function(e){var t=e.props,n=t.style,i=void 0===n?{}:n,a=t.className;return(0,r.cloneElement)(e,NP(NP({},o),{},{style:NP(NP({},i),s),className:a}))};return 1===a?l(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,(function(e){return l(e)})))}}],n&&CP(t.prototype,n),i&&CP(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent);RP.displayName="Animate",RP.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},RP.propTypes={from:uA().oneOfType([uA().object,uA().string]),to:uA().oneOfType([uA().object,uA().string]),attributeName:uA().string,duration:uA().number,begin:uA().number,easing:uA().oneOfType([uA().string,uA().func]),steps:uA().arrayOf(uA().shape({duration:uA().number.isRequired,style:uA().object.isRequired,easing:uA().oneOfType([uA().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),uA().func]),properties:uA().arrayOf("string"),onAnimationEnd:uA().func})),children:uA().oneOfType([uA().node,uA().func]),isActive:uA().bool,canBegin:uA().bool,onAnimationEnd:uA().func,shouldReAnimate:uA().bool,onAnimationStart:uA().func,onAnimationReStart:uA().func};const LP=RP;function FP(e){return FP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FP(e)}function UP(){return UP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UP.apply(this,arguments)}function zP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return VP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BP(Object(n),!0).forEach((function(t){qP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=FP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FP(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WP=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},HP=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},KP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GP=function(e){var t=$P($P({},KP),e),n=(0,r.useRef)(),i=zP((0,r.useState)(-1),2),o=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=DN("recharts-rectangle",h);return y?r.createElement(LP,{canBegin:o>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:y},(function(e){var i=e.width,a=e.height,s=e.x,l=e.y;return r.createElement(LP,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},r.createElement("path",UP({},PO(t,!0),{className:v,d:WP(s,l,i,a,d),ref:n})))})):r.createElement("path",UP({},PO(t,!0),{className:v,d:WP(s,l,c,u,d)}))};function YP(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function XP(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class QP extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tI;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(JP(this,e))}has(e){return super.has(JP(this,e))}set(e,t){return super.set(ZP(this,e),t)}delete(e){return super.delete(eI(this,e))}}Set;function JP(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function ZP(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function eI(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function tI(e){return null!==e&&"object"===typeof e?e.valueOf():e}const nI=Symbol("implicit");function rI(){var e=new QP,t=[],n=[],r=nI;function i(i){let o=e.get(i);if(void 0===o){if(r!==nI)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new QP;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return rI(t,n).unknown(r)},YP.apply(i,arguments),i}function iI(){var e,t,n=rI().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<o,h=d?a:o,f=d?o:a;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return h+e*t}));return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return iI(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},YP.apply(d(),arguments)}function oI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oI(t())},e}function aI(){return oI(iI.apply(null,arguments).paddingInner(1))}function sI(e){return sI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sI(e)}function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lI(Object(n),!0).forEach((function(t){uI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=sI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sI(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dI={widthCache:{},cacheCount:0},hI={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fI="recharts_measurement_span";var pI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||_C.isSsr)return{width:0,height:0};var n=function(e){var t=cI({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(dI.widthCache[r])return dI.widthCache[r];try{var i=document.getElementById(fI);i||((i=document.createElement("span")).setAttribute("id",fI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=cI(cI({},hI),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return dI.widthCache[r]=s,++dI.cacheCount>2e3&&(dI.cacheCount=0,dI.widthCache={}),s}catch(xY){return{width:0,height:0}}};function mI(e){return mI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mI(e)}function gI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bI(r.key),r)}}function bI(e){var t=function(e,t){if("object"!=mI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mI(t)?t:String(t)}var wI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SI=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kI=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},TI=Object.keys(EI),jI="NaN";var NI=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||SI.test(n)||(this.num=NaN,this.unit=""),TI.includes(n)&&(this.num=function(e,t){return e*EI[t]}(t,n),this.unit="px")}var t,n,r;return t=e,r=[{key:"parse",value:function(t){var n,r=gI(null!==(n=kI.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&vI(t.prototype,n),r&&vI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function OI(e){if(e.includes(jI))return jI;for(var t=e;t.includes("*")||t.includes("/");){var n,r=gI(null!==(n=wI.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=NI.parse(null!==i&&void 0!==i?i:""),l=NI.parse(null!==a&&void 0!==a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return jI;t=t.replace(wI,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=gI(null!==(u=xI.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=NI.parse(null!==h&&void 0!==h?h:""),g=NI.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return jI;t=t.replace(xI,y.toString())}return t}var CI=/\(([^()]*)\)/;function _I(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=gI(CI.exec(t),2)[1];t=t.replace(CI,OI(n))}return t}(t),t=OI(t)}function AI(e){var t=function(e){try{return _I(e)}catch(xY){return jI}}(e.slice(5,-1));return t===jI?"":t}var PI=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],II=["dx","dy","angle","className","breakAll"];function DI(){return DI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DI.apply(this,arguments)}function MI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return LI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var FI=/[ \f\n\r\t\v\u2028\u2029]+/,UI=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return iO()(t)||(i=n?t.toString().split(""):t.toString().split(FI)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:pI(e,r).width}})),spaceWidth:n?0:pI("\xa0",r).width}}catch(xY){return null}},zI=function(e){return[{words:iO()(e)?[]:e.toString().split(FI)}]},VI=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!_C.isSsr){var s=UI({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=GN(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e}),[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=UI({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=RI(p(v-1),2),w=b[0],x=b[1],S=RI(p(v),1)[0];if(w||S||(m=v+1),w&&S&&(g=v-1),!w&&S){f=x;break}y++}return f||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):zI(r)}return zI(r)},BI="#808080",$I=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,a=e.lineHeight,s=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?BI:g,v=MI(e,PI),b=(0,r.useMemo)((function(){return VI({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),w=v.dx,x=v.dy,S=v.angle,k=v.className,E=v.breakAll,T=MI(v,II);if(!YN(n)||!YN(o))return null;var j,N=n+(GN(w)?w:0),O=o+(GN(x)?x:0);switch(m){case"start":j=AI("calc(".concat(c,")"));break;case"middle":j=AI("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:j=AI("calc(".concat(b.length-1," * -").concat(s,")"))}var C=[];if(d){var _=b[0].width,A=v.width;C.push("scale(".concat((GN(A)?A/_:1)/_,")"))}return S&&C.push("rotate(".concat(S,", ").concat(N,", ").concat(O,")")),C.length&&(T.transform=C.join(" ")),r.createElement("text",DI({},PO(T,!0),{x:N,y:O,className:DN("recharts-text",k),textAnchor:f,fill:y.includes("url")?BI:y}),b.map((function(e,t){var n=e.words.join(E?"":" ");return r.createElement("tspan",{x:N,dy:0===t?j:s,key:n},n)})))};const qI=Math.sqrt(50),WI=Math.sqrt(10),HI=Math.sqrt(2);function KI(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=qI?10:o>=WI?5:o>=HI?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?KI(e,t,2*n):[s,l,c]}function GI(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?KI(t,e,n):KI(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function YI(e,t,n){return KI(e=+e,t=+t,n=+n)[2]}function XI(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?YI(t,e,n):YI(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function QI(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JI(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZI(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=QI,n=(t,n)=>QI(e(t),n),r=(t,n)=>e(t)-n):(t=e===QI||e===JI?e:eD,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function eD(){return 0}function tD(e){return null===e?NaN:+e}const nD=ZI(QI),rD=nD.right,iD=(nD.left,ZI(tD).center,rD);function oD(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function aD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function sD(){}var lD=.7,cD=1/lD,uD="\\s*([+-]?\\d+)\\s*",dD="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hD="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fD=/^#([0-9a-f]{3,8})$/,pD=new RegExp(`^rgb\\(${uD},${uD},${uD}\\)$`),mD=new RegExp(`^rgb\\(${hD},${hD},${hD}\\)$`),gD=new RegExp(`^rgba\\(${uD},${uD},${uD},${dD}\\)$`),yD=new RegExp(`^rgba\\(${hD},${hD},${hD},${dD}\\)$`),vD=new RegExp(`^hsl\\(${dD},${hD},${hD}\\)$`),bD=new RegExp(`^hsla\\(${dD},${hD},${hD},${dD}\\)$`),wD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xD(){return this.rgb().formatHex()}function SD(){return this.rgb().formatRgb()}function kD(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fD.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ED(t):3===n?new ND(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?TD(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?TD(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=pD.exec(e))?new ND(t[1],t[2],t[3],1):(t=mD.exec(e))?new ND(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=gD.exec(e))?TD(t[1],t[2],t[3],t[4]):(t=yD.exec(e))?TD(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=vD.exec(e))?ID(t[1],t[2]/100,t[3]/100,1):(t=bD.exec(e))?ID(t[1],t[2]/100,t[3]/100,t[4]):wD.hasOwnProperty(e)?ED(wD[e]):"transparent"===e?new ND(NaN,NaN,NaN,0):null}function ED(e){return new ND(e>>16&255,e>>8&255,255&e,1)}function TD(e,t,n,r){return r<=0&&(e=t=n=NaN),new ND(e,t,n,r)}function jD(e,t,n,r){return 1===arguments.length?((i=e)instanceof sD||(i=kD(i)),i?new ND((i=i.rgb()).r,i.g,i.b,i.opacity):new ND):new ND(e,t,n,null==r?1:r);var i}function ND(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function OD(){return`#${PD(this.r)}${PD(this.g)}${PD(this.b)}`}function CD(){const e=_D(this.opacity);return`${1===e?"rgb(":"rgba("}${AD(this.r)}, ${AD(this.g)}, ${AD(this.b)}${1===e?")":`, ${e})`}`}function _D(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function AD(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function PD(e){return((e=AD(e))<16?"0":"")+e.toString(16)}function ID(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new MD(e,t,n,r)}function DD(e){if(e instanceof MD)return new MD(e.h,e.s,e.l,e.opacity);if(e instanceof sD||(e=kD(e)),!e)return new MD;if(e instanceof MD)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new MD(a,s,l,e.opacity)}function MD(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function RD(e){return(e=(e||0)%360)<0?e+360:e}function LD(e){return Math.max(0,Math.min(1,e||0))}function FD(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function UD(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}oD(sD,kD,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xD,formatHex:xD,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return DD(this).formatHsl()},formatRgb:SD,toString:SD}),oD(ND,jD,aD(sD,{brighter(e){return e=null==e?cD:Math.pow(cD,e),new ND(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?lD:Math.pow(lD,e),new ND(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ND(AD(this.r),AD(this.g),AD(this.b),_D(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OD,formatHex:OD,formatHex8:function(){return`#${PD(this.r)}${PD(this.g)}${PD(this.b)}${PD(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:CD,toString:CD})),oD(MD,(function(e,t,n,r){return 1===arguments.length?DD(e):new MD(e,t,n,null==r?1:r)}),aD(sD,{brighter(e){return e=null==e?cD:Math.pow(cD,e),new MD(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?lD:Math.pow(lD,e),new MD(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ND(FD(e>=240?e-240:e+120,i,r),FD(e,i,r),FD(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new MD(RD(this.h),LD(this.s),LD(this.l),_D(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_D(this.opacity);return`${1===e?"hsl(":"hsla("}${RD(this.h)}, ${100*LD(this.s)}%, ${100*LD(this.l)}%${1===e?")":`, ${e})`}`}}));const zD=e=>()=>e;function VD(e,t){return function(n){return e+n*t}}function BD(e){return 1===(e=+e)?$D:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):zD(isNaN(t)?n:t)}}function $D(e,t){var n=t-e;return n?VD(e,n):zD(isNaN(e)?t:e)}const qD=function e(t){var n=BD(t);function r(e,t){var r=n((e=jD(e)).r,(t=jD(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=$D(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function WD(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=jD(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}WD((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return UD((n-r/t)*t,a,i,o,s)}})),WD((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return UD((n-r/t)*t,i,o,a,s)}}));function HD(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=eM(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function KD(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function GD(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function YD(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=eM(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var XD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,QD=new RegExp(XD.source,"g");function JD(e,t){var n,r,i,o=XD.lastIndex=QD.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=XD.exec(e))&&(r=QD.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:GD(n,r)})),o=QD.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function ZD(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function eM(e,t){var n,r=typeof t;return null==t||"boolean"===r?zD(t):("number"===r?GD:"string"===r?(n=kD(t))?(t=n,qD):JD:t instanceof kD?qD:t instanceof Date?KD:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?ZD:Array.isArray(t)?HD:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?YD:GD)(e,t)}function tM(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function nM(e){return+e}var rM=[0,1];function iM(e){return e}function oM(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function aM(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=oM(i,r),o=n(a,o)):(r=oM(r,i),o=n(o,a)),function(e){return o(r(e))}}function sM(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=oM(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=iD(e,t,1,r)-1;return o[n](i[n](t))}}function lM(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cM(){var e,t,n,r,i,o,a=rM,s=rM,l=eM,c=iM;function u(){var e=Math.min(a.length,s.length);return c!==iM&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?sM:aM,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),GD)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,nM),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=tM,u()},d.clamp=function(e){return arguments.length?(c=!!e||iM,u()):c!==iM},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function uM(){return cM()(iM,iM)}var dM,hM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fM(e){if(!(t=hM.exec(e)))throw new Error("invalid format: "+e);var t;return new pM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function pM(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function mM(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function gM(e){return(e=mM(Math.abs(e)))?e[1]:NaN}function yM(e,t){var n=mM(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}fM.prototype=pM.prototype,pM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const vM={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yM(100*e,t),r:yM,s:function(e,t){var n=mM(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(dM=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mM(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bM(e){return e}var wM,xM,SM,kM=Array.prototype.map,EM=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function TM(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?bM:(t=kM.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?bM:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(kM.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=fM(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):vM[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?o:/[%p]/.test(v)?l:"",x=vM[v],S=/[defgprs%]/.test(v);function k(e){var i,o,l,h=b,k=w;if("c"===v)k=x(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===v?EM[8+dM/3]:"")+k+(E&&"("===d?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?a+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var T=h.length+e.length+k.length,j=T<p?new Array(p-T+1).join(t):"";switch(m&&f&&(e=r(j+e,j.length?p-k.length:1/0),j=""),n){case"<":e=h+e+k+j;break;case"=":e=h+j+e+k;break;case"^":e=j.slice(0,T=j.length>>1)+h+e+k+j.slice(T);break;default:e=j+h+e+k}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=fM(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(gM(t)/3))),i=Math.pow(10,-r),o=EM[8+r/3];return function(e){return n(i*e)+o}}}}function jM(e,t,n,r){var i,o=XI(e,t,n);switch((r=fM(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(gM(t)/3)))-gM(Math.abs(e)))}(o,a))||(r.precision=i),SM(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gM(t)-gM(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-gM(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return xM(r)}function NM(e){var t=e.domain;return e.ticks=function(e){var n=t();return GI(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return jM(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=YI(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function OM(){var e=uM();return e.copy=function(){return lM(e,OM())},YP.apply(e,arguments),NM(e)}function CM(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,nM),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return CM(e).unknown(t)},e=arguments.length?Array.from(e,nM):[0,1],NM(n)}function _M(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function AM(e){return Math.log(e)}function PM(e){return Math.exp(e)}function IM(e){return-Math.log(-e)}function DM(e){return-Math.exp(-e)}function MM(e){return isFinite(e)?+("1e"+e):e<0?0:e}function RM(e){return(t,n)=>-e(-t,n)}function LM(e){const t=e(AM,PM),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?MM:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=RM(r),i=RM(i),e(IM,DM)):e(AM,PM),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=GI(a,s,f))}else p=GI(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=fM(n)).precision||(n.trim=!0),n=xM(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(_M(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function FM(){const e=LM(cM()).domain([1,10]);return e.copy=()=>lM(e,FM()).base(e.base()),YP.apply(e,arguments),e}function UM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function zM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function VM(e){var t=1,n=e(UM(t),zM(t));return n.constant=function(n){return arguments.length?e(UM(t=+n),zM(t)):t},NM(n)}function BM(){var e=VM(cM());return e.copy=function(){return lM(e,BM()).constant(e.constant())},YP.apply(e,arguments)}function $M(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qM(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WM(e){return e<0?-e*e:e*e}function HM(e){var t=e(iM,iM),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(iM,iM):.5===n?e(qM,WM):e($M(n),$M(1/n)):n},NM(t)}function KM(){var e=HM(cM());return e.copy=function(){return lM(e,KM()).exponent(e.exponent())},YP.apply(e,arguments),e}function GM(){return KM.apply(null,arguments).exponent(.5)}function YM(e){return Math.sign(e)*e*e}function XM(){var e,t=uM(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(YM(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,nM)).map(YM)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return XM(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},YP.apply(i,arguments),NM(i)}function QM(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function JM(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function ZM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QI;if(e===QI)return eR;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function eR(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function tR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?eR:ZM(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);tR(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(nR(e,n,t),i(e[r],o)>0&&nR(e,n,r);a<s;){for(nR(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?nR(e,n,s):(++s,nR(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function nR(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function rR(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return JM(e);if(t>=1)return QM(e);var r,i=(r-1)*t,o=Math.floor(i),a=QM(tR(e,o).subarray(0,o+1));return a+(JM(e.subarray(o+1))-a)*(i-o)}}function iR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tD;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function oR(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=iR(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[iD(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(QI),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return oR().domain(t).range(n).unknown(e)},YP.apply(o,arguments)}function aR(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[iD(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return aR().domain([t,n]).range(o).unknown(e)},YP.apply(NM(a),arguments)}function sR(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[iD(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return sR().domain(t).range(n).unknown(e)},YP.apply(i,arguments)}wM=TM({thousands:",",grouping:[3],currency:["$",""]}),xM=wM.format,SM=wM.formatPrefix;const lR=1e3,cR=6e4,uR=36e5,dR=864e5,hR=6048e5,fR=2592e6,pR=31536e6,mR=new Date,gR=new Date;function yR(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>yR((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(mR.setTime(+t),gR.setTime(+r),e(mR),e(gR),Math.floor(n(mR,gR))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const vR=yR((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));vR.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?yR((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):vR:null);vR.range;const bR=yR((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*lR)}),((e,t)=>(t-e)/lR),(e=>e.getUTCSeconds())),wR=(bR.range,yR((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lR)}),((e,t)=>{e.setTime(+e+t*cR)}),((e,t)=>(t-e)/cR),(e=>e.getMinutes()))),xR=(wR.range,yR((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*cR)}),((e,t)=>(t-e)/cR),(e=>e.getUTCMinutes()))),SR=(xR.range,yR((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lR-e.getMinutes()*cR)}),((e,t)=>{e.setTime(+e+t*uR)}),((e,t)=>(t-e)/uR),(e=>e.getHours()))),kR=(SR.range,yR((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*uR)}),((e,t)=>(t-e)/uR),(e=>e.getUTCHours()))),ER=(kR.range,yR((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cR)/dR),(e=>e.getDate()-1))),TR=(ER.range,yR((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/dR),(e=>e.getUTCDate()-1))),jR=(TR.range,yR((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/dR),(e=>Math.floor(e/dR))));jR.range;function NR(e){return yR((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cR)/hR))}const OR=NR(0),CR=NR(1),_R=NR(2),AR=NR(3),PR=NR(4),IR=NR(5),DR=NR(6);OR.range,CR.range,_R.range,AR.range,PR.range,IR.range,DR.range;function MR(e){return yR((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/hR))}const RR=MR(0),LR=MR(1),FR=MR(2),UR=MR(3),zR=MR(4),VR=MR(5),BR=MR(6),$R=(RR.range,LR.range,FR.range,UR.range,zR.range,VR.range,BR.range,yR((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),qR=($R.range,yR((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),WR=(qR.range,yR((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));WR.every=e=>isFinite(e=Math.floor(e))&&e>0?yR((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;WR.range;const HR=yR((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));HR.every=e=>isFinite(e=Math.floor(e))&&e>0?yR((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;HR.range;function KR(e,t,n,r,i,o){const a=[[bR,1,lR],[bR,5,5e3],[bR,15,15e3],[bR,30,3e4],[o,1,cR],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,uR],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,dR],[r,2,1728e5],[n,1,hR],[t,1,fR],[t,3,7776e6],[e,1,pR]];function s(t,n,r){const i=Math.abs(n-t)/r,o=ZI((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every(XI(t/pR,n/pR,r));if(0===o)return vR.every(Math.max(XI(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[GR,YR]=KR(HR,qR,RR,jR,kR,xR),[XR,QR]=KR(WR,$R,OR,ER,SR,wR);function JR(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ZR(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function eL(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var tL,nL,rL,iL={"-":"",_:" ",0:"0"},oL=/^\s*\d+/,aL=/^%/,sL=/[\\^$*+?|[\]().{}]/g;function lL(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function cL(e){return e.replace(sL,"\\$&")}function uL(e){return new RegExp("^(?:"+e.map(cL).join("|")+")","i")}function dL(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function hL(e,t,n){var r=oL.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function fL(e,t,n){var r=oL.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function pL(e,t,n){var r=oL.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function mL(e,t,n){var r=oL.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function gL(e,t,n){var r=oL.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function yL(e,t,n){var r=oL.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vL(e,t,n){var r=oL.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bL(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wL(e,t,n){var r=oL.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function xL(e,t,n){var r=oL.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function SL(e,t,n){var r=oL.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function kL(e,t,n){var r=oL.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function EL(e,t,n){var r=oL.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function TL(e,t,n){var r=oL.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function jL(e,t,n){var r=oL.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function NL(e,t,n){var r=oL.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function OL(e,t,n){var r=oL.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function CL(e,t,n){var r=aL.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _L(e,t,n){var r=oL.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function AL(e,t,n){var r=oL.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function PL(e,t){return lL(e.getDate(),t,2)}function IL(e,t){return lL(e.getHours(),t,2)}function DL(e,t){return lL(e.getHours()%12||12,t,2)}function ML(e,t){return lL(1+ER.count(WR(e),e),t,3)}function RL(e,t){return lL(e.getMilliseconds(),t,3)}function LL(e,t){return RL(e,t)+"000"}function FL(e,t){return lL(e.getMonth()+1,t,2)}function UL(e,t){return lL(e.getMinutes(),t,2)}function zL(e,t){return lL(e.getSeconds(),t,2)}function VL(e){var t=e.getDay();return 0===t?7:t}function BL(e,t){return lL(OR.count(WR(e)-1,e),t,2)}function $L(e){var t=e.getDay();return t>=4||0===t?PR(e):PR.ceil(e)}function qL(e,t){return e=$L(e),lL(PR.count(WR(e),e)+(4===WR(e).getDay()),t,2)}function WL(e){return e.getDay()}function HL(e,t){return lL(CR.count(WR(e)-1,e),t,2)}function KL(e,t){return lL(e.getFullYear()%100,t,2)}function GL(e,t){return lL((e=$L(e)).getFullYear()%100,t,2)}function YL(e,t){return lL(e.getFullYear()%1e4,t,4)}function XL(e,t){var n=e.getDay();return lL((e=n>=4||0===n?PR(e):PR.ceil(e)).getFullYear()%1e4,t,4)}function QL(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lL(t/60|0,"0",2)+lL(t%60,"0",2)}function JL(e,t){return lL(e.getUTCDate(),t,2)}function ZL(e,t){return lL(e.getUTCHours(),t,2)}function eF(e,t){return lL(e.getUTCHours()%12||12,t,2)}function tF(e,t){return lL(1+TR.count(HR(e),e),t,3)}function nF(e,t){return lL(e.getUTCMilliseconds(),t,3)}function rF(e,t){return nF(e,t)+"000"}function iF(e,t){return lL(e.getUTCMonth()+1,t,2)}function oF(e,t){return lL(e.getUTCMinutes(),t,2)}function aF(e,t){return lL(e.getUTCSeconds(),t,2)}function sF(e){var t=e.getUTCDay();return 0===t?7:t}function lF(e,t){return lL(RR.count(HR(e)-1,e),t,2)}function cF(e){var t=e.getUTCDay();return t>=4||0===t?zR(e):zR.ceil(e)}function uF(e,t){return e=cF(e),lL(zR.count(HR(e),e)+(4===HR(e).getUTCDay()),t,2)}function dF(e){return e.getUTCDay()}function hF(e,t){return lL(LR.count(HR(e)-1,e),t,2)}function fF(e,t){return lL(e.getUTCFullYear()%100,t,2)}function pF(e,t){return lL((e=cF(e)).getUTCFullYear()%100,t,2)}function mF(e,t){return lL(e.getUTCFullYear()%1e4,t,4)}function gF(e,t){var n=e.getUTCDay();return lL((e=n>=4||0===n?zR(e):zR.ceil(e)).getUTCFullYear()%1e4,t,4)}function yF(){return"+0000"}function vF(){return"%"}function bF(e){return+e}function wF(e){return Math.floor(+e/1e3)}function xF(e){return new Date(e)}function SF(e){return e instanceof Date?+e:+new Date(+e)}function kF(e,t,n,r,i,o,a,s,l,c){var u=uM(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,SF)):h().map(xF)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(_M(n,e)):u},u.copy=function(){return lM(u,kF(e,t,n,r,i,o,a,s,l,c))},u}function EF(){return YP.apply(kF(XR,QR,WR,$R,OR,ER,SR,wR,bR,nL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TF(){return YP.apply(kF(GR,YR,HR,qR,RR,TR,kR,xR,bR,rL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jF(){var e,t,n,r,i,o=0,a=1,s=iM,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(eM),c.rangeRound=u(tM),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function NF(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OF(){var e=NM(jF()(iM));return e.copy=function(){return NF(e,OF())},XP.apply(e,arguments)}function CF(){var e=LM(jF()).domain([1,10]);return e.copy=function(){return NF(e,CF()).base(e.base())},XP.apply(e,arguments)}function _F(){var e=VM(jF());return e.copy=function(){return NF(e,_F()).constant(e.constant())},XP.apply(e,arguments)}function AF(){var e=HM(jF());return e.copy=function(){return NF(e,AF()).exponent(e.exponent())},XP.apply(e,arguments)}function PF(){return AF.apply(null,arguments).exponent(.5)}function IF(){var e=[],t=iM;function n(n){if(null!=n&&!isNaN(n=+n))return t((iD(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(QI),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>rR(e,r/t)))},n.copy=function(){return IF(t).domain(e)},XP.apply(n,arguments)}function DF(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,d=iM,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=eM);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(eM),f.rangeRound=p(tM),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function MF(){var e=NM(DF()(iM));return e.copy=function(){return NF(e,MF())},XP.apply(e,arguments)}function RF(){var e=LM(DF()).domain([.1,1,10]);return e.copy=function(){return NF(e,RF()).base(e.base())},XP.apply(e,arguments)}function LF(){var e=VM(DF());return e.copy=function(){return NF(e,LF()).constant(e.constant())},XP.apply(e,arguments)}function FF(){var e=HM(DF());return e.copy=function(){return NF(e,FF()).exponent(e.exponent())},XP.apply(e,arguments)}function UF(){return FF.apply(null,arguments).exponent(.5)}function zF(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){tL=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=uL(i),u=dL(i),d=uL(o),h=dL(o),f=uL(a),p=dL(a),m=uL(s),g=dL(s),y=uL(l),v=dL(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:PL,e:PL,f:LL,g:GL,G:XL,H:IL,I:DL,j:ML,L:RL,m:FL,M:UL,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:bF,s:wF,S:zL,u:VL,U:BL,V:qL,w:WL,W:HL,x:null,X:null,y:KL,Y:YL,Z:QL,"%":vF},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:JL,e:JL,f:rF,g:pF,G:gF,H:ZL,I:eF,j:tF,L:nF,m:iF,M:oF,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:bF,s:wF,S:aF,u:sF,U:lF,V:uF,w:dF,W:hF,x:null,X:null,y:fF,Y:mF,Z:yF,"%":vF},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:SL,e:SL,f:OL,g:vL,G:yL,H:EL,I:EL,j:kL,L:NL,m:xL,M:TL,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:wL,Q:_L,s:AL,S:jL,u:fL,U:pL,V:mL,w:hL,W:gL,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:vL,Y:yL,Z:bL,"%":CL};function S(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=iL[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function k(e,t){return function(n){var r,i,o=eL(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ZR(eL(o.y,0,1))).getUTCDay(),r=i>4||0===i?LR.ceil(r):LR(r),r=TR.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=JR(eL(o.y,0,1))).getDay(),r=i>4||0===i?CR.ceil(r):CR(r),r=ER.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ZR(eL(o.y,0,1)).getUTCDay():JR(eL(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ZR(o)):JR(o)}}function E(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in iL?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),nL=tL.format,tL.parse,rL=tL.utcFormat,tL.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function VF(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function BF(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function $F(e,t){return e[t]}function qF(e){const t=[];return t.key=e,t}var WF=n(539),HF=n.n(WF),KF=n(6745),GF=n.n(KF),YF=n(3538),XF=n.n(YF),QF=n(9853),JF=n.n(QF),ZF=n(8210),eU=n.n(ZF);function tU(e){return function(e){if(Array.isArray(e))return nU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return nU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rU=function(e){return e},iU={"@@functional/placeholder":!0},oU=function(e){return e===iU},aU=function(e){return function t(){return 0===arguments.length||1===arguments.length&&oU(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},sU=function e(t,n){return 1===t?n:aU((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==iU})).length;return a>=t?n.apply(void 0,i):e(t-a,aU((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return oU(e)?t.shift():e}));return n.apply(void 0,tU(o).concat(t))})))}))},lU=function(e){return sU(e.length,e)},cU=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},uU=lU((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),dU=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return rU;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},hU=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},fU=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var pU=lU((function(e,t,n){var r=+e;return r+n*(+t-r)})),mU=lU((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),gU=lU((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const yU={rangeStep:function(e,t,n){for(var r=new(eU())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(eU())(e).abs().log(10).toNumber())+1},interpolateNumber:pU,uninterpolateNumber:mU,uninterpolateTruncation:gU};function vU(e){return function(e){if(Array.isArray(e))return xU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||wU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||wU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wU(e,t){if(e){if("string"===typeof e)return xU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xU(e,t):void 0}}function xU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SU(e){var t=bU(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function kU(e,t,n){if(e.lte(0))return new(eU())(0);var r=yU.getDigitCount(e.toNumber()),i=new(eU())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(eU())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(eU())(Math.ceil(s))}function EU(e,t,n){var r=1,i=new(eU())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(eU())(10).pow(yU.getDigitCount(e)-1),i=new(eU())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(eU())(Math.floor(e)))}else 0===e?i=new(eU())(Math.floor((t-1)/2)):n||(i=new(eU())(Math.floor(e)));var a=Math.floor((t-1)/2);return dU(uU((function(e){return i.add(new(eU())(e-a).mul(r)).toNumber()})),cU)(0,t)}function TU(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(eU())(0),tickMin:new(eU())(0),tickMax:new(eU())(0)};var o,a=kU(new(eU())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(eU())(0):(o=new(eU())(e).add(t).div(2)).sub(new(eU())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(eU())(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?TU(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(eU())(s).mul(a)),tickMax:o.add(new(eU())(l).mul(a))})}var jU=fU((function(e){var t=bU(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=bU(SU([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(vU(cU(0,i-1).map((function(){return 1/0})))):[].concat(vU(cU(0,i-1).map((function(){return-1/0}))),[c]);return n>r?hU(u):u}if(l===c)return EU(l,i,o);var d=TU(l,c,a,o),h=d.step,f=d.tickMin,p=d.tickMax,m=yU.rangeStep(f,p.add(new(eU())(.1).mul(h)),h);return n>r?hU(m):m})),NU=(fU((function(e){var t=bU(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=bU(SU([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return EU(l,i,o);var u=kU(new(eU())(c).sub(l).div(a-1),o,0),d=dU(uU((function(e){return new(eU())(l).add(new(eU())(e).mul(u)).toNumber()})),cU)(0,a).filter((function(e){return e>=l&&e<=c}));return n>r?hU(d):d})),fU((function(e,t){var n=bU(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=bU(SU([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=kU(new(eU())(l).sub(s).div(c-1),o,0),d=[].concat(vU(yU.rangeStep(new(eU())(s),new(eU())(l).sub(new(eU())(.99).mul(u)),u)),[l]);return r>i?hU(d):d}))),OU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function CU(){return CU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CU.apply(this,arguments)}function _U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return AU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IU(e){var t=e.offset,n=e.layout,i=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=PU(e,OU),d=PO(u,!1);"x"===e.direction&&"number"!==l.type&&GO(!1);var h=a.map((function(e){var a=s(e,o),u=a.x,h=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=_U(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===n){var b=l.scale,w=h+t,x=w+i,S=w-i,k=b(f-m),E=b(f+g);y.push({x1:E,y1:x,x2:E,y2:S}),y.push({x1:k,y1:w,x2:E,y2:w}),y.push({x1:k,y1:x,x2:k,y2:S})}else if("horizontal"===n){var T=c.scale,j=u+t,N=j-i,O=j+i,C=T(f-m),_=T(f+g);y.push({x1:N,y1:_,x2:O,y2:_}),y.push({x1:j,y1:C,x2:j,y2:_}),y.push({x1:N,y1:C,x2:O,y2:C})}return r.createElement(nC,CU({className:"recharts-errorBar",key:"bar-".concat(y.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),y.map((function(e){return r.createElement("line",CU({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return r.createElement(nC,{className:"recharts-errorBars"},h)}function DU(e){return DU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DU(e)}function MU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MU(Object(n),!0).forEach((function(t){LU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=DU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DU(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}IU.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},IU.displayName="ErrorBar";var FU=function(e){var t,n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=NO(n,aA);return a?(t=a.props&&a.props.payload?a.props&&a.props.payload:"children"===o?(r||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,n=t.props,r=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:r,type:a.props.iconType||o||"square",color:KU(t),value:i||r,payload:t.props}})),RU(RU(RU({},a.props),aA.getWithHeight(a,i)),{},{payload:t,item:a})):null};function UU(e){return UU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UU(e)}function zU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zU(Object(n),!0).forEach((function(t){BU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=UU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UU(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $U(e){return function(e){if(Array.isArray(e))return qU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WU(e,t,n){return iO()(e)||iO()(t)?n:YN(t)?$N()(e,t,n):aO()(t)?t(e):n}function HU(e,t,n,r){var i=XF()(e,(function(e){return WU(e,t)}));if("number"===n){var o=i.filter((function(e){return GN(e)||parseFloat(e)}));return o.length?[GF()(o),HF()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!iO()(e)})):i).map((function(e){return YN(e)||e instanceof Date?e:""}))}var KU=function(e){var t,n=e.type.displayName,r=e.props,i=r.stroke,o=r.fill;switch(n){case"Line":t=i;break;case"Area":case"Radar":t=i&&"none"!==i?i:o;break;default:t=o}return t},GU=function(e,t,n,r,i){var o=jO(t.props.children,IU).filter((function(e){return function(e,t,n){return!!iO()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=WU(t,n,0),i=Array.isArray(r)?[GF()(r),HF()(r)]:[r,r],o=a.reduce((function(e,n){var r=WU(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},YU=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&GU(e,t,o,r)||HU(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},XU=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},QU=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},JU=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*HN(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!VN()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},ZU=new WeakMap,ez=function(e,t){if("function"!==typeof t)return e;ZU.has(e)||ZU.set(e,new WeakMap);var n=ZU.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},tz=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:iI(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:OM(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:aI(),realScaleType:"point"}:"category"===o?{scale:iI(),realScaleType:"band"}:{scale:OM(),realScaleType:"linear"};if(UN()(i)){var l="scale".concat(KC()(i));return{scale:(e[l]||aI)(),realScaleType:e[l]?l:"point"}}return aO()(i)?{scale:i}:{scale:aI(),realScaleType:"point"}},nz=1e-4,rz=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-nz,o=Math.max(r[0],r[1])+nz,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}},iz={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=VN()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}zF(e,t)}},none:zF,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}zF(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,zF(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=VN()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},oz=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=iz[n],o=function(){var e=g_([]),t=BF,n=zF,r=$F;function i(i){var o,a,s=Array.from(e.apply(this,arguments),qF),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=VF(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:g_(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:g_(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?BF:"function"===typeof e?e:g_(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?zF:e,i):n},i}().keys(r).value((function(e,t){return+WU(e,t,0)})).order(BF).offset(i);return o(e)},az=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=jU(l,i,a);return e.domain([GF()(c),HF()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:NU(u,i,a)}}return null};function sz(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!iO()(i[t.dataKey])){var s=tO(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=WU(i,iO()(a)?t.dataKey:a);return iO()(l)?null:t.scale(l)}var lz=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=WU(o,t.dataKey,t.domain[a]);return iO()(s)?null:t.scale(s)-i/2+r},cz=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[GF()(t.concat([e[0]]).filter(GN)),HF()(t.concat([e[1]]).filter(GN))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},uz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hz=function(e,t,n){if(aO()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(GN(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(uz.test(e[0])){var i=+uz.exec(e[0])[1];r[0]=t[0]-i}else aO()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(GN(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(dz.test(e[1])){var o=+dz.exec(e[1])[1];r[1]=t[1]+o}else aO()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},fz=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=HO()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},pz=function(e,t,n){return e&&e.length?JF()(e,$N()(n,"type.defaultProps.domain"))?t:e:t},mz=function(e,t){var n=e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return VU(VU({},PO(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:KU(e),value:WU(t,r),type:s,payload:t,chartType:l,hide:c})};function gz(e){return gz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gz(e)}function yz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yz(Object(n),!0).forEach((function(t){bz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=gz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gz(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wz=["Webkit","Moz","O","ms"];function xz(e){return xz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xz(e)}function Sz(){return Sz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sz.apply(this,arguments)}function kz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ez(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kz(Object(n),!0).forEach((function(t){Az(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pz(r.key),r)}}function jz(e,t,n){return t=Oz(t),function(e,t){if(t&&("object"===xz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cz(e)}(e,Nz()?Reflect.construct(t,n||[],Oz(e).constructor):t.apply(e,n))}function Nz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Nz=function(){return!!e})()}function Oz(e){return Oz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oz(e)}function Cz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _z(e,t){return _z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_z(e,t)}function Az(e,t,n){return(t=Pz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pz(e){var t=function(e,t){if("object"!=xz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xz(t)?t:String(t)}var Iz=function(e){return e.changedTouches&&!!e.changedTouches.length},Dz=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Az(Cz(n=jz(this,t,[e])),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),Az(Cz(n),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),Az(Cz(n),"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),Az(Cz(n),"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),Az(Cz(n),"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),Az(Cz(n),"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),Az(Cz(n),"handleSlideDragStart",(function(e){var t=Iz(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(Cz(n),"startX"),endX:n.handleTravellerDragStart.bind(Cz(n),"endX")},n.state={},n}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_z(e,t)}(t,e),n=t,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(i,l),d=t.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=WU(n[e],i,e);return aO()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-l-i,a+s-l-r):h<0&&(h=Math.max(h,a-r,a-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Iz(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(Az(Az({},r,a+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=f.length-1;return"startX"===r&&(i>o?y%h===0:v%h===0)||i<o&&v===e||"endX"===r&&(i>o?v%h===0:y%h===0)||i>o&&v===e}()&&d(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(Az({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.fill,s=e.stroke;return r.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:i,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,c=r.Children.only(s);return c?r.cloneElement(c,{x:t,y:n,width:i,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var i=this,o=this.props,a=o.y,s=o.travellerWidth,l=o.height,c=o.traveller,u=o.ariaLabel,d=o.data,h=o.startIndex,f=o.endIndex,p=Math.max(e,this.props.x),m=Ez(Ez({},PO(this.props,!1)),{},{x:p,y:a,width:s,height:l}),g=u||"Min value: ".concat(d[h].name,", Max value: ").concat(d[f].name);return r.createElement(nC,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(c,m))}},{key:"renderSlide",value:function(e,t){var n=this.props,i=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:i,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,i=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return r.createElement(nC,{className:"recharts-brush-texts"},r.createElement($I,Sz({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:i+o/2},d),this.getTextOfTick(t)),r.createElement($I,Sz({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:i+o/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,i=e.children,o=e.x,a=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!GN(o)||!GN(a)||!GN(s)||!GN(l)||s<=0||l<=0)return null;var y=DN("recharts-brush",n),v=1===r.Children.count(i),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=wz.reduce((function(e,r){return vz(vz({},e),{},bz({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return r.createElement(nC,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,i=e.width,o=e.height,a=e.stroke,s=Math.floor(n+o/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:t,y:n,width:i,height:o,fill:a,stroke:"none"}),r.createElement("line",{x1:t+1,y1:s,x2:t+i-1,y2:s,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:t+1,y1:s+2,x2:t+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return r.isValidElement(e)?r.cloneElement(e,n):aO()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return Ez({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=aI().domain(qO()(0,s)).range([i,i+o-a]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],i&&Tz(n.prototype,i),o&&Tz(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.PureComponent);function Mz(e){return Mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mz(e)}function Rz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rz(Object(n),!0).forEach((function(t){Fz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Mz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mz(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zz(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Az(Dz,"displayName","Brush"),Az(Dz,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vz=Math.PI/180,Bz=function(e){return 180*e/Math.PI},$z=function(e,t,n,r){return{x:e+Math.cos(-Vz*r)*n,y:t+Math.sin(-Vz*r)*n}},qz=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Wz=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:Bz(l),angleInRadian:l}},Hz=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},Kz=function(e,t){var n=e.x,r=e.y,i=Wz({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,f=a;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?Lz(Lz({},t),{},{radius:o,angle:Hz(f,t)}):null};function Gz(e){return Gz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gz(e)}var Yz=["offset"];function Xz(e){return function(e){if(Array.isArray(e))return Qz(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Qz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qz(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zz(Object(n),!0).forEach((function(t){tV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Gz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gz(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nV(){return nV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nV.apply(this,arguments)}var rV=function(e,t,n){var i,o,a=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,b=function(e,t){return HN(t-e)*Math.min(Math.abs(t-e),360)}(m,g),w=b>=0?1:-1;"insideStart"===a?(i=m+w*l,o=y):"insideEnd"===a?(i=g-w*l,o=!y):"end"===a&&(i=g+w*l,o=y),o=b<=0?o:!o;var x=$z(d,h,v,i),S=$z(d,h,v,i+359*(o?1:-1)),k="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(S.x,",").concat(S.y),E=iO()(e.id)?QN("recharts-radial-line-"):e.id;return r.createElement("text",nV({},n,{dominantBaseline:"central",className:DN("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:E,d:k})),r.createElement("textPath",{xlinkHref:"#".concat(E)},t))};function iV(e){var t,n=e.offset,i=eV({offset:void 0===n?5:n},Jz(e,Yz)),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=void 0===u?"":u,h=i.textBreakAll;if(!o||iO()(s)&&iO()(l)&&!(0,r.isValidElement)(c)&&!aO()(c))return null;if((0,r.isValidElement)(c))return(0,r.cloneElement)(c,i);if(aO()(c)){if(t=(0,r.createElement)(c,i),(0,r.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=iO()(e.children)?t:e.children;return aO()(n)?n(r):r}(i);var f=function(e){return"cx"in e&&GN(e.cx)}(o),p=PO(i,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return rV(i,t,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=$z(o,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=$z(o,a,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return eV(eV({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return eV(eV({},{x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return eV(eV({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return eV(eV({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var w=n?{width:l,height:c}:{};return"insideLeft"===i?eV({x:a+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},w):"insideRight"===i?eV({x:a+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},w):"insideTop"===i?eV({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===i?eV({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},w):"insideTopLeft"===i?eV({x:a+m,y:s+d,textAnchor:y,verticalAnchor:f},w):"insideTopRight"===i?eV({x:a+l-m,y:s+d,textAnchor:g,verticalAnchor:f},w):"insideBottomLeft"===i?eV({x:a+m,y:s+c-d,textAnchor:y,verticalAnchor:h},w):"insideBottomRight"===i?eV({x:a+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},w):lO()(i)&&(GN(i.x)||KN(i.x))&&(GN(i.y)||KN(i.y))?eV({x:a+JN(i.x,l),y:s+JN(i.y,c),textAnchor:"end",verticalAnchor:"end"},w):eV({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)}(i);return r.createElement($I,nV({className:DN("recharts-label",d)},p,m,{breakAll:h}),t)}iV.displayName="Label";var oV=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(GN(p)&&GN(m)){if(GN(u)&&GN(d))return{x:u,y:d,width:p,height:m};if(GN(h)&&GN(f))return{x:h,y:f,width:p,height:m}}return GN(u)&&GN(d)?{x:u,y:d,width:0,height:0}:GN(t)&&GN(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};iV.parseViewBox=oV,iV.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=oV(e),a=jO(i,iV).map((function(e,n){return(0,r.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return a;var s=function(e,t){return e?!0===e?r.createElement(iV,{key:"label-implicit",viewBox:t}):YN(e)?r.createElement(iV,{key:"label-implicit",viewBox:t,value:e}):(0,r.isValidElement)(e)?e.type===iV?(0,r.cloneElement)(e,{key:"label-implicit",viewBox:t}):r.createElement(iV,{key:"label-implicit",content:e,viewBox:t}):aO()(e)?r.createElement(iV,{key:"label-implicit",content:e,viewBox:t}):lO()(e)?r.createElement(iV,nV({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[s].concat(Xz(a))};var aV=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},sV=n(1733),lV=n.n(sV),cV=n(7002),uV=n.n(cV),dV=function(e){return null};dV.displayName="Cell";var hV=n(4065),fV=n.n(hV);function pV(e){return pV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pV(e)}var mV=["valueAccessor"],gV=["data","dataKey","clockWise","id","textBreakAll"];function yV(e){return function(e){if(Array.isArray(e))return vV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bV(){return bV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bV.apply(this,arguments)}function wV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wV(Object(n),!0).forEach((function(t){SV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=pV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pV(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var EV=function(e){return Array.isArray(e.value)?fV()(e.value):e.value};function TV(e){var t=e.valueAccessor,n=void 0===t?EV:t,i=kV(e,mV),o=i.data,a=i.dataKey,s=i.clockWise,l=i.id,c=i.textBreakAll,u=kV(i,gV);return o&&o.length?r.createElement(nC,{className:"recharts-label-list"},o.map((function(e,t){var i=iO()(a)?n(e,t):WU(e&&e.payload,a),o=iO()(l)?{}:{id:"".concat(l,"-").concat(t)};return r.createElement(iV,bV({},PO(e,!0),u,o,{parentViewBox:e.parentViewBox,value:i,textBreakAll:c,viewBox:iV.parseViewBox(iO()(s)?e:xV(xV({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}TV.displayName="LabelList",TV.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=jO(e.children,TV).map((function(e,n){return(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));return n?[function(e,t){return e?!0===e?r.createElement(TV,{key:"labelList-implicit",data:t}):r.isValidElement(e)||aO()(e)?r.createElement(TV,{key:"labelList-implicit",data:t,content:e}):lO()(e)?r.createElement(TV,bV({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(yV(i)):i};var jV=n(2322),NV=n.n(jV),OV=n(6361),CV=n.n(OV);function _V(e){return _V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_V(e)}function AV(){return AV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AV.apply(this,arguments)}function PV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return IV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DV(Object(n),!0).forEach((function(t){RV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_V(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LV=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},FV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UV=function(e){var t=MV(MV({},FV),e),n=(0,r.useRef)(),i=PV((0,r.useState)(-1),2),o=i[0],a=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=DN("recharts-trapezoid",h);return g?r.createElement(LP,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:f,isActive:g},(function(e){var i=e.upperWidth,a=e.lowerWidth,s=e.height,l=e.x,c=e.y;return r.createElement(LP,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},r.createElement("path",AV({},PO(t,!0),{className:y,d:LV(l,c,i,a,s),ref:n})))})):r.createElement("g",null,r.createElement("path",AV({},PO(t,!0),{className:y,d:LV(s,l,c,u,d)})))};function zV(e){return zV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zV(e)}function VV(){return VV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VV.apply(this,arguments)}function BV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BV(Object(n),!0).forEach((function(t){qV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zV(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WV=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/Vz,d=l?i:i+o*u,h=l?i-o*u:i;return{center:$z(t,n,c,d),circleTangency:$z(t,n,r,d),lineTangency:$z(t,n,c*Math.cos(u*Vz),h),theta:u}},HV=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return HN(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=$z(t,n,i,o),c=$z(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=$z(t,n,r,o),h=$z(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},KV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GV=function(e){var t=$V($V({},KV),e),n=t.cx,i=t.cy,o=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(a<o||u===d)return null;var f,p=DN("recharts-sector",h),m=a-o,g=JN(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=HN(c-l),d=WV({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=WV({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):HV({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var x=WV({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),S=x.circleTangency,k=x.lineTangency,E=x.theta,T=WV({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),j=T.circleTangency,N=T.lineTangency,O=T.theta,C=s?Math.abs(l-c):Math.abs(l-c)-E-O;if(C<0&&0===o)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(N.x,",").concat(N.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:n,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):HV({cx:n,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),r.createElement("path",VV({},PO(t,!0),{className:p,d:f,role:"img"}))},YV=["option","shapeType","propTransformer","activeClassName","isActive"];function XV(e){return XV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XV(e)}function QV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JV(Object(n),!0).forEach((function(t){eB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eB(e,t,n){return t=function(e){var t=function(e,t){if("object"!=XV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XV(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tB(e,t){return ZV(ZV({},t),e)}function nB(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return r.createElement(GP,n);case"trapezoid":return r.createElement(UV,n);case"sector":return r.createElement(GV,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(I_,n);break;default:return null}}function rB(e){var t,n=e.option,i=e.shapeType,o=e.propTransformer,a=void 0===o?tB:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=QV(e,YV);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,ZV(ZV({},u),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if(aO()(n))t=n(u);else if(NV()(n)&&!CV()(n)){var d=a(n,u);t=r.createElement(nB,{shapeType:i,elementProps:d})}else{var h=u;t=r.createElement(nB,{shapeType:i,elementProps:h})}return c?r.createElement(nC,{className:l},t):t}function iB(e,t){return null!=t&&"trapezoids"in e.props}function oB(e,t){return null!=t&&"sectors"in e.props}function aB(e,t){return null!=t&&"points"in e.props}function sB(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function lB(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function cB(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function uB(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return iB(e,t)?n="trapezoids":oB(e,t)?n="sectors":aB(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return iB(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:oB(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:aB(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=JF()(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return iB(e,t)?n=sB:oB(e,t)?n=lB:aB(e,t)&&(n=cB),n}(n,t);return r(e,t)})),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}var dB=["x","y"];function hB(e){return hB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hB(e)}function fB(){return fB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fB.apply(this,arguments)}function pB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pB(Object(n),!0).forEach((function(t){gB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gB(e,t,n){return t=function(e){var t=function(e,t){if("object"!=hB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hB(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vB(e,t){var n=e.x,r=e.y,i=yB(e,dB),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return mB(mB(mB(mB(mB({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function bB(e){return r.createElement(rB,fB({shapeType:"rectangle",propTransformer:vB,activeClassName:"recharts-active-bar"},e))}var wB,xB=["value","background"];function SB(e){return SB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SB(e)}function kB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EB(){return EB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EB.apply(this,arguments)}function TB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TB(Object(n),!0).forEach((function(t){IB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DB(r.key),r)}}function OB(e,t,n){return t=_B(t),function(e,t){if(t&&("object"===SB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return AB(e)}(e,CB()?Reflect.construct(t,n||[],_B(e).constructor):t.apply(e,n))}function CB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CB=function(){return!!e})()}function _B(e){return _B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_B(e)}function AB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PB(e,t){return PB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PB(e,t)}function IB(e,t,n){return(t=DB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DB(e){var t=function(e,t){if("object"!=SB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SB(t)?t:String(t)}var MB=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return IB(AB(e=OB(this,t,[].concat(r))),"state",{isAnimationFinished:!1}),IB(AB(e),"id",QN("recharts-bar-")),IB(AB(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),IB(AB(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PB(e,t)}(t,e),n=t,i=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,i=n.shape,o=n.dataKey,a=n.activeIndex,s=n.activeBar,l=PO(this.props,!1);return e&&e.map((function(e,n){var c=n===a,u=c?s:i,d=jB(jB(jB({},l),e),{},{isActive:c,option:u,index:n,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return r.createElement(nC,EB({className:"recharts-bar-rectangle"},gO(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),r.createElement(bB,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,i=t.layout,o=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return r.createElement(LP,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,a=n.map((function(e,t){var n=u&&u[t];if(n){var r=eO(n.x,e.x),a=eO(n.y,e.y),s=eO(n.width,e.width),l=eO(n.height,e.height);return jB(jB({},e),{},{x:r(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===i){var c=eO(0,e.height)(o);return jB(jB({},e),{},{y:e.y+e.height-c,height:c})}var d=eO(0,e.width)(o);return jB(jB({},e),{},{width:d})}));return r.createElement(nC,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&JF()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,i=t.dataKey,o=t.activeIndex,a=PO(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,l=kB(t,xB);if(!s)return null;var c=jB(jB(jB(jB(jB({},l),{},{fill:"#eee"},s),a),gO(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:i,index:n,key:"background-bar-".concat(n),className:"recharts-bar-background-rectangle"});return r.createElement(bB,EB({option:e.props.background,isActive:n===o},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.data,o=n.xAxis,a=n.yAxis,s=n.layout,l=jO(n.children,IU);if(!l)return null;var c="vertical"===s?i[0].height/2:i[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:WU(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(nC,d,l.map((function(e){return r.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,i=e.className,o=e.xAxis,a=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=DN("recharts-bar",i),g=o&&o.allowDataOverflow,y=a&&a.allowDataOverflow,v=g||y,b=iO()(f)?this.id:f;return r.createElement(nC,{className:m},g||y?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(b)},r.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,r.createElement(nC,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||p)&&TV.renderCallByParent(this.props,n))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],i&&NB(n.prototype,i),o&&NB(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.PureComponent);function RB(e){return RB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RB(e)}function LB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VB(r.key),r)}}function FB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FB(Object(n),!0).forEach((function(t){zB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zB(e,t,n){return(t=VB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VB(e){var t=function(e,t){if("object"!=RB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RB(t)?t:String(t)}wB=MB,IB(MB,"displayName","Bar"),IB(MB,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_C.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),IB(MB,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.props,g=m.dataKey,y=m.children,v=m.minPointSize,b="horizontal"===p?a:o,w=c?b.scale.domain():null,x=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:b}),S=jO(y,dV),k=d.map((function(e,t){var r,d,h,m,y,b;c?r=function(e,t){if(!t||2!==t.length||!GN(t[0])||!GN(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!GN(e[0])||e[0]<n)&&(i[0]=n),(!GN(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],w):(r=WU(e,g),Array.isArray(r)||(r=[x,r]));var k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i="number"===typeof n;return i?e(n,r):(i||GO(!1),t)}}(v,wB.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var E,T=[a.scale(r[0]),a.scale(r[1])],j=T[0],N=T[1];d=lz({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(E=null!==N&&void 0!==N?N:j)&&void 0!==E?E:void 0,m=f.size;var O=j-N;if(y=Number.isNaN(O)?0:O,b={x:d,y:a.y,width:m,height:a.height},Math.abs(k)>0&&Math.abs(y)<Math.abs(k)){var C=HN(y||k)*(Math.abs(k)-Math.abs(y));h-=C,y+=C}}else{var _=[o.scale(r[0]),o.scale(r[1])],A=_[0],P=_[1];if(d=A,h=lz({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=P-A,y=f.size,b={x:o.x,y:h,width:o.width,height:y},Math.abs(k)>0&&Math.abs(m)<Math.abs(k))m+=HN(m||k)*(Math.abs(k)-Math.abs(m))}return jB(jB(jB({},e),{},{x:d,y:h,width:m,height:y,value:c?r:r[1],payload:e,background:b},S&&S[t]&&S[t].props),{},{tooltipPayload:[mz(n,e)],tooltipPosition:{x:d+m/2,y:h+y/2}})}));return jB({data:k,layout:p},h)}));var BB=function(e,t,n,r,i){var o=e.width,a=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},d=!!NO(l,MB);return c.reduce((function(o,a){var l,c,h,f,p,m=t[a],g=m.orientation,y=m.domain,v=m.padding,b=void 0===v?{}:v,w=m.mirror,x=m.reversed,S="".concat(g).concat(w?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var k=y[1]-y[0],E=1/0,T=m.categoricalDomain.sort();T.forEach((function(e,t){t>0&&(E=Math.min((e||0)-(T[t-1]||0),E))}));var j=E/k,N="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=j*N/2),"no-gap"===m.padding){var O=JN(e.barCategoryGap,j*N),C=j*N/2;l=C-O-(C-O)/N*O}}c="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:m.range,x&&(c=[c[1],c[0]]);var _=tz(m,i,d),A=_.scale,P=_.realScaleType;A.domain(y).range(c),rz(A);var I=az(A,UB(UB({},m),{},{realScaleType:P}));"xAxis"===r?(p="top"===g&&!w||"bottom"===g&&w,h=n.left,f=u[S]-p*m.height):"yAxis"===r&&(p="left"===g&&!w||"right"===g&&w,h=u[S]-p*m.width,f=n.top);var D=UB(UB(UB({},m),I),{},{realScaleType:P,x:h,y:f,scale:A,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return D.bandSize=fz(D,I),m.hide||"xAxis"!==r?m.hide||(u[S]+=(p?-1:1)*D.width):u[S]+=(p?-1:1)*D.height,UB(UB({},o),{},zB({},a,D))}),{})},$B=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},qB=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}var t,n,r;return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&LB(t.prototype,n),r&&LB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();zB(qB,"EPS",1e-4);var WB=function(e){var t=Object.keys(e).reduce((function(t,n){return UB(UB({},t),{},zB({},n,qB.create(e[n])))}),{});return UB(UB({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return lV()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return uV()(e,(function(e,n){return t[n].isInRange(e)}))}})};function HB(e){return HB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HB(e)}function KB(){return KB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KB.apply(this,arguments)}function GB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GB(Object(n),!0).forEach((function(t){XB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XB(e,t,n){return t=function(e){var t=function(e,t){if("object"!=HB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HB(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QB(e){var t=e.x,n=e.y,i=e.r,o=e.alwaysShow,a=e.clipPathId,s=YN(t),l=YN(n);if(nO(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=WB({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return aV(e,"discard")&&!o.isInRange(a)?null:a}(e);if(!c)return null;var u=c.x,d=c.y,h=e.shape,f=e.className,p=YB(YB({clipPath:aV(e,"hidden")?"url(#".concat(a,")"):void 0},PO(e,!0)),{},{cx:u,cy:d});return r.createElement(nC,{className:DN("recharts-reference-dot",f)},QB.renderDot(h,p),iV.renderCallByParent(e,{x:u-i,y:d-i,width:2*i,height:2*i}))}QB.displayName="ReferenceDot",QB.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},QB.renderDot=function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):aO()(e)?e(t):r.createElement(lA,KB({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))};var JB=n(4597),ZB=n.n(JB),e$=n(8990),t$=n.n(e$),n$=n(5797),r$=n.n(n$)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var i$=(0,r.createContext)(void 0),o$=(0,r.createContext)(void 0),a$=(0,r.createContext)(void 0),s$=(0,r.createContext)({}),l$=(0,r.createContext)(void 0),c$=(0,r.createContext)(0),u$=(0,r.createContext)(0),d$=function(e){var t=e.state,n=t.xAxisMap,i=t.yAxisMap,o=t.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=r$(o);return r.createElement(i$.Provider,{value:n},r.createElement(o$.Provider,{value:i},r.createElement(s$.Provider,{value:o},r.createElement(a$.Provider,{value:u},r.createElement(l$.Provider,{value:a},r.createElement(c$.Provider,{value:c},r.createElement(u$.Provider,{value:l},s)))))))};var h$=function(e){var t=(0,r.useContext)(i$);null==t&&GO(!1);var n=t[e];return null==n&&GO(!1),n},f$=function(e){var t=(0,r.useContext)(o$);null==t&&GO(!1);var n=t[e];return null==n&&GO(!1),n},p$=function(){return(0,r.useContext)(u$)},m$=function(){return(0,r.useContext)(c$)};function g$(e){return g$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g$(e)}function y$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y$(Object(n),!0).forEach((function(t){b$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b$(e,t,n){return t=function(e){var t=function(e,t){if("object"!=g$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g$(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S$(){return S$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S$.apply(this,arguments)}function k$(e){var t=e.x,n=e.y,i=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,r.useContext)(l$),d=h$(o),h=f$(a),f=(0,r.useContext)(a$);if(!u||!f)return null;nO(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,o,a,s,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:o});if(aV(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:o});if(aV(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:o})}));return aV(l,"discard")&&ZB()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(WB({x:d.scale,y:h.scale}),YN(t),YN(n),i&&2===i.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=w$(p,2),g=m[0],y=g.x,v=g.y,b=m[1],w=b.x,x=b.y,S=v$(v$({clipPath:aV(e,"hidden")?"url(#".concat(u,")"):void 0},PO(e,!0)),{},{x1:y,y1:v,x2:w,y2:x});return r.createElement(nC,{className:DN("recharts-reference-line",l)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):aO()(e)?e(t):r.createElement("line",S$({},t,{className:"recharts-reference-line-line"}))}(s,S),iV.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return $B({x:t,y:n},{x:r,y:i})}({x1:y,y1:v,x2:w,y2:x})))}function E$(e){return E$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E$(e)}function T$(){return T$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T$.apply(this,arguments)}function j$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j$(Object(n),!0).forEach((function(t){O$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O$(e,t,n){return t=function(e){var t=function(e,t){if("object"!=E$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E$(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}k$.displayName="ReferenceLine",k$.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function C$(e){var t=e.x1,n=e.x2,i=e.y1,o=e.y2,a=e.className,s=e.alwaysShow,l=e.clipPathId;nO(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=YN(t),u=YN(n),d=YN(i),h=YN(o),f=e.shape;if(!c&&!u&&!d&&!h&&!f)return null;var p=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=WB({x:c.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!aV(i,"discard")||d.isInRange(h)&&d.isInRange(f)?$B(h,f):null}(c,u,d,h,e);if(!p&&!f)return null;var m=aV(e,"hidden")?"url(#".concat(l,")"):void 0;return r.createElement(nC,{className:DN("recharts-reference-area",a)},C$.renderRect(f,N$(N$({clipPath:m},PO(e,!0)),p)),iV.renderCallByParent(e,p))}function _$(e){return function(e){if(Array.isArray(e))return A$(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return A$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}C$.displayName="ReferenceArea",C$.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},C$.renderRect=function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):aO()(e)?e(t):r.createElement(GP,T$({},t,{className:"recharts-reference-area-rect"}))};var P$=function(e,t,n,r,i){var o=jO(e,k$),a=jO(e,QB),s=[].concat(_$(o),_$(a)),l=jO(e,C$),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[c]===n&&aV(t.props,"extendDomain")&&GN(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===n&&aV(t.props,"extendDomain")&&GN(t.props[h])&&GN(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),d)}return i&&i.length&&(d=i.reduce((function(e,t){return GN(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},I$=n(7283),D$=new(n.n(I$)()),M$="recharts.syncMouseEvents";function R$(e){return R$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R$(e)}function L$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U$(r.key),r)}}function F$(e,t,n){return(t=U$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U$(e){var t=function(e,t){if("object"!=R$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=R$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R$(t)?t:String(t)}var z$=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),F$(this,"activeIndex",0),F$(this,"coordinateList",[]),F$(this,"layout","horizontal")}var t,n,r;return t=e,n=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],n&&L$(t.prototype,n),r&&L$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function V$(){}function B$(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function $$(e){this._context=e}function q$(e){this._context=e}function W$(e){this._context=e}$$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:B$(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:B$(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},q$.prototype={areaStart:V$,areaEnd:V$,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:B$(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},W$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:B$(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class H${constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function K$(e){this._context=e}function G$(e){this._context=e}function Y$(e){return new G$(e)}function X$(e){return e<0?-1:1}function Q$(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(X$(o)+X$(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function J$(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Z$(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function eq(e){this._context=e}function tq(e){this._context=new nq(e)}function nq(e){this._context=e}function rq(e){this._context=e}function iq(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function oq(e,t){this._context=e,this._t=t}function aq(e){return e[0]}function sq(e){return e[1]}function lq(e,t){var n=g_(!0),r=null,i=Y$,o=null,a=k_(s);function s(s){var l,c,u,d=(s=VF(s)).length,h=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?aq:g_(e),t="function"===typeof t?t:void 0===t?sq:g_(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:g_(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:g_(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:g_(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function cq(e,t,n){var r=null,i=g_(!0),o=null,a=Y$,s=null,l=k_(c);function c(c){var u,d,h,f,p,m=(c=VF(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return lq().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?aq:g_(+e),t="function"===typeof t?t:g_(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?sq:g_(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:g_(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:g_(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:g_(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:g_(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:g_(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:g_(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:g_(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}function uq(e){return uq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uq(e)}function dq(){return dq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dq.apply(this,arguments)}function hq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hq(Object(n),!0).forEach((function(t){pq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=uq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uq(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}K$.prototype={areaStart:V$,areaEnd:V$,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},G$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},eq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z$(this,this._t0,J$(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Z$(this,J$(this,n=Q$(this,e,t)),n);break;default:Z$(this,this._t0,n=Q$(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(tq.prototype=Object.create(eq.prototype)).point=function(e,t){eq.prototype.point.call(this,t,e)},nq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},rq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=iq(e),i=iq(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},oq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var mq={curveBasisClosed:function(e){return new q$(e)},curveBasisOpen:function(e){return new W$(e)},curveBasis:function(e){return new $$(e)},curveBumpX:function(e){return new H$(e,!0)},curveBumpY:function(e){return new H$(e,!1)},curveLinearClosed:function(e){return new K$(e)},curveLinear:Y$,curveMonotoneX:function(e){return new eq(e)},curveMonotoneY:function(e){return new tq(e)},curveNatural:function(e){return new rq(e)},curveStep:function(e){return new oq(e,.5)},curveStepAfter:function(e){return new oq(e,1)},curveStepBefore:function(e){return new oq(e,0)}},gq=function(e){return e.x===+e.x&&e.y===+e.y},yq=function(e){return e.x},vq=function(e){return e.y},bq=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(aO()(e))return e;var n="curve".concat(KC()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?mq[n]||Y$:mq["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter((function(e){return gq(e)})):o;if(Array.isArray(a)){var h=c?a.filter((function(e){return gq(e)})):a,f=d.map((function(e,t){return fq(fq({},e),{},{base:h[t]})}));return(t="vertical"===s?cq().y(vq).x1(yq).x0((function(e){return e.base.x})):cq().x(yq).y1(vq).y0((function(e){return e.base.y}))).defined(gq).curve(u),t(f)}return(t="vertical"===s&&GN(a)?cq().y(vq).x1(yq).x0(a):GN(a)?cq().x(yq).y1(vq).y0(a):lq().x(yq).y(vq)).defined(gq).curve(u),t(d)},wq=function(e){var t=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?bq(e):i;return r.createElement("path",dq({},PO(e,!1),mO(e),{className:DN("recharts-curve",t),d:a,ref:o}))};function xq(e){return xq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xq(e)}var Sq=["x","y","top","left","width","height","className"];function kq(){return kq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kq.apply(this,arguments)}function Eq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xq(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Nq=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},Oq=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,a=e.top,s=void 0===a?0:a,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eq(Object(n),!0).forEach((function(t){Tq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:o,top:s,left:c,width:d,height:f},jq(e,Sq));return GN(n)&&GN(o)&&GN(d)&&GN(f)&&GN(s)&&GN(c)?r.createElement("path",kq({},PO(m,!0),{className:DN("recharts-cross",p),d:Nq(n,o,d,f,s,c)})):null};function Cq(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[$z(t,n,r,i),$z(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function _q(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Cq(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=$z(s,l,c,d),f=$z(s,l,u,d);r=h.x,i=h.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function Aq(e){return Aq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aq(e)}function Pq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pq(Object(n),!0).forEach((function(t){Dq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Aq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Aq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Aq(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mq(e){var t,n=e.element,i=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,h=e.chartName;if(!n||!n.props.cursor||!o||!a||"ScatterChart"!==h&&"axis"!==i)return null;var f=wq;if("ScatterChart"===h)t=a,f=Oq;else if("BarChart"===h)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(d,a,l,u),f=GP;else if("radial"===d){var p=Cq(a),m=p.cx,g=p.cy,y=p.radius;t={cx:m,cy:g,startAngle:p.startAngle,endAngle:p.endAngle,innerRadius:y,outerRadius:y},f=GV}else t={points:_q(d,a,l)},f=wq;var v=Iq(Iq(Iq(Iq({stroke:"#ccc",pointerEvents:"none"},l),t),PO(n.props.cursor,!1)),{},{payload:s,payloadIndex:c,className:"recharts-tooltip-cursor"});return(0,r.isValidElement)(n.props.cursor)?(0,r.cloneElement)(n.props.cursor,v):(0,r.createElement)(f,v)}var Rq=["item"],Lq=["children","className","width","height","style","compact","title","desc"];function Fq(e){return Fq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fq(e)}function Uq(){return Uq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uq.apply(this,arguments)}function zq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||Yq(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eW(r.key),r)}}function $q(e,t,n){return t=Wq(t),function(e,t){if(t&&("object"===Fq(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hq(e)}(e,qq()?Reflect.construct(t,n||[],Wq(e).constructor):t.apply(e,n))}function qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qq=function(){return!!e})()}function Wq(e){return Wq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wq(e)}function Hq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kq(e,t){return Kq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kq(e,t)}function Gq(e){return function(e){if(Array.isArray(e))return Xq(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yq(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yq(e,t){if(e){if("string"===typeof e)return Xq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xq(e,t):void 0}}function Xq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qq(Object(n),!0).forEach((function(t){Zq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zq(e,t,n){return(t=eW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eW(e){var t=function(e,t){if("object"!=Fq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fq(t)?t:String(t)}var tW={xAxis:["bottom","top"],yAxis:["left","right"]},nW={width:"100%",height:"100%"},rW={x:0,y:0};function iW(e){return e}var oW=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(Gq(e),Gq(n)):e}),[]);return o.length>0?o:e&&e.length&&GN(r)&&GN(i)?e.slice(r,i+1):[]};function aW(e){return"number"===e?[0,"auto"]:void 0}var sW=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=oW(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=tO(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(Gq(i),[mz(s,c)]):i}),[])},lW=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(HN(u-c)!==HN(d-u)){var f=[];if(HN(d-u)===HN(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=sW(e,t,c,u),h=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return Jq(Jq(Jq({},r),$z(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return Jq(Jq(Jq({},r),$z(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return rW}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},cW=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=XU(c,i);return n.reduce((function(t,n){var f,p=n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,w=p.ticks,x=p.includeHidden,S=n.props[o];if(t[S])return t;var k,E,T,j=oW(e.data,{graphicalItems:r.filter((function(e){return e.props[o]===S})),dataStartIndex:s,dataEndIndex:l}),N=j.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&GN(r)&&GN(i))return!0}return!1})(n.props.domain,y,m)&&(k=hz(n.props.domain,null,y),!h||"number"!==m&&"auto"===b||(T=HU(j,g,"category")));var O=aW(m);if(!k||0===k.length){var C,_=null!==(C=n.props.domain)&&void 0!==C?C:O;if(g){if(k=HU(j,g,m),"category"===m&&h){var A=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(k);v&&A?(E=k,k=qO()(0,N)):v||(k=pz(_,k,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(Gq(e),[t])}),[]))}else if("category"===m)k=v?k.filter((function(e){return""!==e&&!iO()(e)})):pz(_,k,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||iO()(t)?e:[].concat(Gq(e),[t])}),[]);else if("number"===m){var P=function(e,t,n,r,i){var o=t.map((function(t){return GU(e,t,n,i,r)})).filter((function(e){return!iO()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(j,r.filter((function(e){return e.props[o]===S&&(x||!e.props.hide)})),g,i,c);P&&(k=P)}!h||"number"!==m&&"auto"===b||(T=HU(j,g,"category"))}else k=h?qO()(0,N):a&&a[S]&&a[S].hasStack&&"number"===m?"expand"===d?[0,1]:cz(a[S].stackGroups,s,l):YU(j,r.filter((function(e){return e.props[o]===S&&(x||!e.props.hide)})),m,c,!0);if("number"===m)k=P$(u,k,S,i,w),_&&(k=hz(_,k,y));else if("category"===m&&_){var I=_;k.every((function(e){return I.indexOf(e)>=0}))&&(k=I)}}return Jq(Jq({},t),{},Zq({},S,Jq(Jq({},n.props),{},{axisType:i,domain:k,categoricalDomain:T,duplicateDomain:E,originalDomain:null!==(f=n.props.domain)&&void 0!==f?f:O,isCategorical:h,layout:c})))}),{})},uW=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=jO(c,i),h={};return d&&d.length?h=cW(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=oW(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=XU(c,i),p=-1;return n.reduce((function(e,t){var m,g=t.props[o],y=aW("number");return e[g]?e:(p++,f?m=qO()(0,h):a&&a[g]&&a[g].hasStack?(m=cz(a[g].stackGroups,s,l),m=P$(u,m,g,i)):(m=hz(y,YU(d,n.filter((function(e){return e.props[o]===g&&!e.props.hide})),"number",c),r.defaultProps.allowDataOverflow),m=P$(u,m,g,i)),Jq(Jq({},e),{},Zq({},g,Jq(Jq({axisType:i},r.defaultProps),{},{hide:!0,orientation:$N()(tW,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},dW=function(e){var t=e.children,n=e.defaultShowTooltip,r=NO(t,Dz),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},hW=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fW=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=NO(c,Dz),h=NO(c,aA),f=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:Jq(Jq({},e),{},Zq({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:Jq(Jq({},e),{},Zq({},r,$N()(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=Jq(Jq({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||Dz.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=FU({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&GN(e[h]))return VU(VU({},e),{},BU({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&GN(e[f]))return VU(VU({},e),{},BU({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return Jq(Jq({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},pW=function(e){var t,n=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,a=void 0===o?"axis":o,s=e.validateTooltipEventTypes,l=void 0===s?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,l=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=hW(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=SO(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),v=y&&function(e){var t=e.barSize,n=e.stackGroups,r=void 0===n?{}:n;if(!r)return{};for(var i={},o=Object.keys(r),a=0,s=o.length;a<s;a++)for(var l=r[o[a]].stackGroups,c=Object.keys(l),u=0,d=c.length;u<d;u++){var h=l[c[u]],f=h.items,p=h.cateAxisId,m=f.filter((function(e){return SO(e.type).indexOf("Bar")>=0}));if(m&&m.length){var g=m[0].props.barSize,y=m[0].props[p];i[y]||(i[y]=[]),i[y].push({item:m[0],stackList:m.slice(1),barSize:iO()(g)?t:g})}}return i}({barSize:l,stackGroups:r}),b=[];return n.forEach((function(n,l){var p=oW(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),y=n.props,w=y.dataKey,x=y.maxBarSize,S=n.props["".concat(m,"Id")],k=n.props["".concat(g,"Id")],E=c.reduce((function(e,r){var i=t["".concat(r.axisType,"Map")],o=n.props["".concat(r.axisType,"Id")];i&&i[o]||"zAxis"===r.axisType||GO(!1);var a=i[o];return Jq(Jq({},e),{},Zq(Zq({},r.axisType,a),"".concat(r.axisType,"Ticks"),JU(a)))}),{}),T=E[g],j=E["".concat(g,"Ticks")],N=r&&r[S]&&r[S].hasStack&&function(e,t){var n=e.props.stackId;if(YN(n)){var r=t[n];if(r){var i=r.items.indexOf(e);return i>=0?r.stackedData[i]:null}}return null}(n,r[S].stackGroups),O=SO(n.type).indexOf("Bar")>=0,C=fz(T,j),_=[];if(O){var A,P,I=iO()(x)?f:x,D=null!==(A=null!==(P=fz(T,j,!0))&&void 0!==P?P:I)&&void 0!==A?A:0;_=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=JN(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,f=o.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=o.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat($U(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),u)}else{var m=JN(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;l=o.reduce((function(e,t,n){var r=[].concat($U(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return l}({barGap:d,barCategoryGap:h,bandSize:D!==C?D:C,sizeList:v[k],maxBarSize:I}),D!==C&&(_=_.map((function(e){return Jq(Jq({},e),{},{position:Jq(Jq({},e.position),{},{offset:e.position.offset-D/2})})})))}var M,R,L=n&&n.type&&n.type.getComposedData;L&&b.push({props:Jq(Jq({},L(Jq(Jq({},E),{},{displayedData:p,props:e,dataKey:w,item:n,bandSize:C,barPosition:_,offset:i,stackedData:N,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},Zq(Zq(Zq({key:n.key||"item-".concat(l)},m,E[m]),g,E[g]),"animationId",o)),childIndex:(M=n,R=e.children,TO(R).indexOf(M)),item:n})})),b},p=function(e,t){var r=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!OO({props:r}))return null;var l=r.children,u=r.layout,h=r.stackOffset,p=r.data,m=r.reverseStackOrder,g=hW(u),y=g.numericAxisName,v=g.cateAxisName,b=jO(l,i),w=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i=t.props,o=i.stackId;if(i.hide)return e;var a=t.props[n],s=e[a]||{hasStack:!1,stackGroups:{}};if(YN(o)){var l=s.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};l.items.push(t),s.hasStack=!0,s.stackGroups[o]=l}else s.stackGroups[QN("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return VU(VU({},e),{},BU({},a,s))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return VU(VU({},t),{},BU({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:oz(e,a.items,i)}))}),{})),VU(VU({},t),{},BU({},o,s))}),{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),h,m),x=c.reduce((function(e,t){var n="".concat(t.axisType,"Map");return Jq(Jq({},e),{},Zq({},n,uW(r,Jq(Jq({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&w,dataStartIndex:o,dataEndIndex:a}))))}),{}),S=fW(Jq(Jq({},x),{},{props:r,graphicalItems:b}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(x).forEach((function(e){x[e]=d(r,x[e],S,e.replace("Map",""),n)}));var k=function(e){var t=ZN(e),n=JU(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:HO()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:fz(t,n)}}(x["".concat(v,"Map")]),E=f(r,Jq(Jq({},x),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:w,offset:S}));return Jq(Jq({formattedGraphicalItems:E,graphicalItems:b,offset:S,stackGroups:w},k),x)};return t=function(e){function t(e){var i,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zq(Hq(a=$q(this,t,[e])),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Zq(Hq(a),"accessibilityManager",new z$),Zq(Hq(a),"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(Jq({legendBBox:e},p({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},Jq(Jq({},a.state),{},{legendBBox:e}))))}})),Zq(Hq(a),"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),Zq(Hq(a),"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return Jq({dataStartIndex:t,dataEndIndex:n},p({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),Zq(Hq(a),"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=Jq(Jq({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;aO()(r)&&r(n,e)}})),Zq(Hq(a),"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?Jq(Jq({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;aO()(r)&&r(n,e)})),Zq(Hq(a),"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),Zq(Hq(a),"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),Zq(Hq(a),"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),Zq(Hq(a),"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;aO()(n)&&n(t,e)})),Zq(Hq(a),"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&xO[t]?xO[t]:null}(e),r=$N()(a.props,"".concat(n));n&&aO()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),Zq(Hq(a),"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=Jq(Jq({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;aO()(r)&&r(n,e)}})),Zq(Hq(a),"handleMouseDown",(function(e){var t=a.props.onMouseDown;aO()(t)&&t(a.getMouseInfo(e),e)})),Zq(Hq(a),"handleMouseUp",(function(e){var t=a.props.onMouseUp;aO()(t)&&t(a.getMouseInfo(e),e)})),Zq(Hq(a),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),Zq(Hq(a),"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),Zq(Hq(a),"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),Zq(Hq(a),"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&D$.emit(M$,a.props.syncId,e,a.eventEmitterSymbol)})),Zq(Hq(a),"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(Jq({dataStartIndex:o,dataEndIndex:s},p({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,f=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(f,e);else if("value"===r){u=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){u=m;break}}var g=Jq(Jq({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=f[u]&&f[u].value,w=sW(a.state,a.props.data,u),x=f[u]?{x:"horizontal"===n?f[u].coordinate:y,y:"horizontal"===n?v:f[u].coordinate}:rW;a.setState(Jq(Jq({},e),{},{activeLabel:b,activeCoordinate:x,activePayload:w,activeTooltipIndex:u}))}else a.setState(e)})),Zq(Hq(a),"renderCursor",(function(e){var t,i=a.state,o=i.isTooltipActive,s=i.activeCoordinate,l=i.activePayload,c=i.offset,u=i.activeTooltipIndex,d=i.tooltipAxisBandSize,h=a.getTooltipEventType(),f=null!==(t=e.props.active)&&void 0!==t?t:o,p=a.props.layout,m=e.key||"_recharts-cursor";return r.createElement(Mq,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:n,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})})),Zq(Hq(a),"renderPolarAxis",(function(e,t,n){var i=$N()(e,"type.axisType"),o=$N()(a.state,"".concat(i,"Map")),s=o&&o[e.props["".concat(i,"Id")]];return(0,r.cloneElement)(e,Jq(Jq({},s),{},{className:i,key:e.key||"".concat(t,"-").concat(n),ticks:JU(s,!0)}))})),Zq(Hq(a),"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,i=t.polarAngles,o=t.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=ZN(l),d=ZN(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,r.cloneElement)(e,{polarAngles:Array.isArray(i)?i:JU(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:JU(u,!0).map((function(e){return e.coordinate})),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),Zq(Hq(a),"renderLegend",(function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,i=t.width,o=t.height,s=a.props.margin||{},l=i-(s.left||0)-(s.right||0),c=FU({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:u});if(!c)return null;var d=c.item,h=Vq(c,Rq);return(0,r.cloneElement)(d,Jq(Jq({},h),{},{chartWidth:i,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),Zq(Hq(a),"renderTooltip",(function(){var e,t=a.props,n=t.children,i=t.accessibilityLayer,o=NO(n,WC);if(!o)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=o.props.active)&&void 0!==e?e:l;return(0,r.cloneElement)(o,{viewBox:Jq(Jq({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:i})})),Zq(Hq(a),"renderBrush",(function(e){var t=a.props,n=t.margin,i=t.data,o=a.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,u=o.updateId;return(0,r.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:ez(a.handleBrushChange,e.props.onChange),data:i,x:GN(e.props.x)?e.props.x:s.left,y:GN(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:GN(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),Zq(Hq(a),"renderReferenceElement",(function(e,t,n){if(!e)return null;var i=Hq(a).clipPathId,o=a.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,u=e.props,d=u.xAxisId,h=u.yAxisId;return(0,r.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[d],yAxis:l[h],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})})),Zq(Hq(a),"renderActivePoints",(function(e){var n=e.item,r=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],l=n.props.key,c=n.item.props,u=c.activeDot,d=Jq(Jq({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:KU(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value,key:"".concat(l,"-activePoint-").concat(o)},PO(u,!1)),mO(u));return s.push(t.renderActiveDot(u,d)),i?s.push(t.renderActiveDot(u,Jq(Jq({},d),{},{cx:i.x,cy:i.y,key:"".concat(l,"-basePoint-").concat(o)}))):a&&s.push(null),s})),Zq(Hq(a),"renderGraphicChild",(function(e,t,n){var i=a.filterFormatItem(e,t,n);if(!i)return null;var o=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=NO(a.props.children,WC),f=i.props,p=f.points,m=f.isRange,g=f.baseLine,y=i.item.props,v=y.activeDot,b=y.hide,w=y.activeBar,x=y.activeShape,S=Boolean(!b&&l&&h&&(v||w||x)),k={};"axis"!==o&&h&&"click"===h.props.trigger?k={onClick:ez(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(k={onMouseLeave:ez(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:ez(a.handleItemMouseEnter,e.props.onMouseEnter)});var E=(0,r.cloneElement)(e,Jq(Jq({},i.props),k));if(S){if(!(u>=0)){var T,j=(null!==(T=a.getItemByXY(a.state.activeCoordinate))&&void 0!==T?T:{graphicalItem:E}).graphicalItem,N=j.item,O=void 0===N?e:N,C=j.childIndex,_=Jq(Jq(Jq({},i.props),k),{},{activeIndex:C});return[(0,r.cloneElement)(O,_),null,null]}var A,P;if(c.dataKey&&!c.allowDuplicatedCategory){var I="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());A=tO(p,I,d),P=m&&g&&tO(g,I,d)}else A=null===p||void 0===p?void 0:p[u],P=m&&g&&g[u];if(x||w){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,r.cloneElement)(e,Jq(Jq(Jq({},i.props),k),{},{activeIndex:D})),null,null]}if(!iO()(A))return[E].concat(Gq(a.renderActivePoints({item:i,activePoint:A,basePoint:P,childIndex:u,isRange:m})))}return m?[E,null,null]:[E,null]})),Zq(Hq(a),"renderCustomized",(function(e,t,n){return(0,r.cloneElement)(e,Jq(Jq({key:"recharts-customized-".concat(n)},a.props),a.state))})),Zq(Hq(a),"renderMap",{CartesianGrid:{handler:iW,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:iW},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:iW},YAxis:{handler:iW},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(i=e.id)&&void 0!==i?i:QN("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=RN()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}var i,o,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kq(e,t)}(t,e),i=t,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=NO(t,WC);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=sW(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=Jq(Jq({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){IO([NO(e.children,WC)],[NO(this.props.children,WC)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=NO(this.props.children,WC);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return l.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&u){var d=ZN(c).scale,h=ZN(u).scale,f=d&&d.invert?d.invert(o.chartX):null,p=h&&h.invert?h.invert(o.chartY):null;return Jq(Jq({},o),{},{xValue:f,yValue:p})}var m=lW(this.state,this.props.data,this.props.layout,s);return m?Jq(Jq({},o),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=ZN(l);return Kz({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=NO(e,WC),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),Jq(Jq({},mO(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){D$.on(M$,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){D$.removeListener(M$,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===SO(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,i=t.top,o=t.height,a=t.width;return r.createElement("defs",null,r.createElement("clipPath",{id:e},r.createElement("rect",{x:n,y:i,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=zq(t,2),r=n[0],i=n[1];return Jq(Jq({},e),{},Zq({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=zq(t,2),r=n[0],i=n[1];return Jq(Jq({},e),{},Zq({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=SO(l.type);if("Bar"===c){var u=(s.data||[]).find((function(t){return HP(e,t)}));if(u)return{graphicalItem:a,payload:u}}else if("RadialBar"===c){var d=(s.data||[]).find((function(t){return Kz(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if(iB(a,r)||oB(a,r)||aB(a,r)){var h=uB({graphicalItem:a,activeTooltipItem:r,itemData:l.props.data}),f=void 0===l.props.activeIndex?h:l.props.activeIndex;return{graphicalItem:Jq(Jq({},a),{},{childIndex:f}),payload:aB(a,r)?l.props.data[h]:a.props.data[h]}}}return null}},{key:"render",value:function(){var e,t=this;if(!OO(this))return null;var n,i,o=this.props,a=o.children,s=o.className,l=o.width,c=o.height,u=o.style,d=o.compact,h=o.title,f=o.desc,p=Vq(o,Lq),m=PO(p,!1);if(d)return r.createElement(JO,Uq({},m,{width:l,height:c,title:h,desc:f}),this.renderClipPath(),MO(a,this.renderMap));this.props.accessibilityLayer&&(m.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,m.role=null!==(i=this.props.role)&&void 0!==i?i:"application",m.onKeyDown=function(e){t.accessibilityManager.keyboardEvent(e)},m.onFocus=function(){t.accessibilityManager.focus()});var g=this.parseEventsOfWrapper();return r.createElement(d$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",Uq({className:DN("recharts-wrapper",s),style:Jq({position:"relative",cursor:"default",width:l,height:c},u)},g,{ref:function(e){t.container=e},role:null!==(e=m.role)&&void 0!==e?e:"region"}),r.createElement(JO,Uq({},m,{width:l,height:c,title:h,desc:f,style:nW}),this.renderClipPath(),MO(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&Bq(i.prototype,o),s&&Bq(i,s),Object.defineProperty(i,"prototype",{writable:!1}),t}(r.Component),Zq(t,"displayName",n),Zq(t,"defaultProps",Jq({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Zq(t,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=dW(e);return Jq(Jq(Jq({},h),{},{updateId:0},p(Jq(Jq({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!cO(c,t.prevMargin)){var f=dW(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=Jq(Jq({},lW(t,r,s)),{},{updateId:t.updateId+1}),y=Jq(Jq(Jq({},f),m),g);return Jq(Jq(Jq({},y),p(Jq({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!IO(i,t.prevChildren)){var v,b,w,x,S=NO(i,Dz),k=S&&null!==(v=null===(b=S.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,E=S&&null!==(w=null===(x=S.props)||void 0===x?void 0:x.endIndex)&&void 0!==w?w:d,T=k!==u||E!==d,j=!iO()(r)&&!T?t.updateId:t.updateId+1;return Jq(Jq({updateId:j},p(Jq(Jq({props:e},t),{},{updateId:j,dataStartIndex:k,dataEndIndex:E}),t)),{},{prevChildren:i,dataStartIndex:k,dataEndIndex:E})}return null})),Zq(t,"renderActiveDot",(function(e,t){var n;return n=(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):aO()(e)?e(t):r.createElement(lA,t),r.createElement(nC,{className:"recharts-active-dot",key:t.key},n)})),t},mW=["points","className","baseLinePoints","connectNulls"];function gW(){return gW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gW.apply(this,arguments)}function yW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vW(e){return function(e){if(Array.isArray(e))return bW(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return bW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wW=function(e){return e&&e.x===+e.x&&e.y===+e.y},xW=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){wW(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),wW(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(vW(e),vW(t))}),[])]);var r=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},SW=function(e){var t=e.points,n=e.className,i=e.baseLinePoints,o=e.connectNulls,a=yW(e,mW);if(!t||!t.length)return null;var s=DN("recharts-polygon",n);if(i&&i.length){var l=a.stroke&&"none"!==a.stroke,c=function(e,t,n){var r=xW(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(xW(t.reverse(),n).slice(1))}(t,i,o);return r.createElement("g",{className:s},r.createElement("path",gW({},PO(a,!0),{fill:"Z"===c.slice(-1)?a.fill:"none",stroke:"none",d:c})),l?r.createElement("path",gW({},PO(a,!0),{fill:"none",d:xW(t,o)})):null,l?r.createElement("path",gW({},PO(a,!0),{fill:"none",d:xW(i,o)})):null)}var u=xW(t,o);return r.createElement("path",gW({},PO(a,!0),{fill:"Z"===u.slice(-1)?a.fill:"none",className:s,d:u}))};function kW(e){return kW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kW(e)}function EW(){return EW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EW.apply(this,arguments)}function TW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TW(Object(n),!0).forEach((function(t){PW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IW(r.key),r)}}function OW(e,t,n){return t=_W(t),function(e,t){if(t&&("object"===kW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CW()?Reflect.construct(t,n||[],_W(e).constructor):t.apply(e,n))}function CW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CW=function(){return!!e})()}function _W(e){return _W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_W(e)}function AW(e,t){return AW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AW(e,t)}function PW(e,t,n){return(t=IW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=function(e,t){if("object"!=kW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kW(t)?t:String(t)}var DW=Math.PI/180,MW=1e-5,RW=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),OW(this,t,arguments)}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AW(e,t)}(t,e),n=t,i=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,o=t.orientation,a=t.tickSize||8,s=$z(n,r,i,e.coordinate),l=$z(n,r,i+("inner"===o?-1:1)*a,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*DW);return n>MW?"outer"===t?"start":"end":n<-MW?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,i=e.radius,o=e.axisLine,a=e.axisLineType,s=jW(jW({},PO(this.props,!1)),{},{fill:"none"},PO(o,!1));if("circle"===a)return r.createElement(lA,EW({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:i}));var l=this.props.ticks.map((function(e){return $z(t,n,i,e.coordinate)}));return r.createElement(SW,EW({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,n=this.props,i=n.ticks,o=n.tick,a=n.tickLine,s=n.tickFormatter,l=n.stroke,c=PO(this.props,!1),u=PO(o,!1),d=jW(jW({},c),{},{fill:"none"},PO(a,!1)),h=i.map((function(n,i){var h=e.getTickLineCoord(n),f=jW(jW(jW({textAnchor:e.getTickTextAnchor(n)},c),{},{stroke:"none",fill:l},u),{},{index:i,payload:n,x:h.x2,y:h.y2});return r.createElement(nC,EW({className:"recharts-polar-angle-axis-tick",key:"tick-".concat(n.coordinate)},gO(e.props,n,i)),a&&r.createElement("line",EW({className:"recharts-polar-angle-axis-tick-line"},d,h)),o&&t.renderTickItem(o,f,s?s(n.value,i):n.value))}));return r.createElement(nC,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,i=e.axisLine;return n<=0||!t||!t.length?null:r.createElement(nC,{className:"recharts-polar-angle-axis"},i&&this.renderAxisLine(),this.renderTicks())}}],o=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):aO()(e)?e(t):r.createElement($I,EW({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],i&&NW(n.prototype,i),o&&NW(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.PureComponent);PW(RW,"displayName","PolarAngleAxis"),PW(RW,"axisType","angleAxis"),PW(RW,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var LW=n(2794),FW=n.n(LW),UW=n(9364),zW=n.n(UW),VW=["cx","cy","angle","ticks","axisLine"],BW=["ticks","tick","angle","tickFormatter","stroke"];function $W(e){return $W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$W(e)}function qW(){return qW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qW.apply(this,arguments)}function WW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WW(Object(n),!0).forEach((function(t){ZW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eH(r.key),r)}}function YW(e,t,n){return t=QW(t),function(e,t){if(t&&("object"===$W(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,XW()?Reflect.construct(t,n||[],QW(e).constructor):t.apply(e,n))}function XW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(XW=function(){return!!e})()}function QW(e){return QW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QW(e)}function JW(e,t){return JW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JW(e,t)}function ZW(e,t,n){return(t=eH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eH(e){var t=function(e,t){if("object"!=$W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$W(t)?t:String(t)}var tH,nH=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),YW(this,t,arguments)}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JW(e,t)}(t,e),n=t,i=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,o=n.cy;return $z(i,o,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,o=FW()(i,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:zW()(i,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:o.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,i=e.angle,o=e.ticks,a=e.axisLine,s=KW(e,VW),l=o.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=$z(t,n,l[0],i),u=$z(t,n,l[1],i),d=HW(HW(HW({},PO(s,!1)),{},{fill:"none"},PO(a,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return r.createElement("line",qW({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,n=this.props,i=n.ticks,o=n.tick,a=n.angle,s=n.tickFormatter,l=n.stroke,c=KW(n,BW),u=this.getTickTextAnchor(),d=PO(c,!1),h=PO(o,!1),f=i.map((function(n,i){var c=e.getTickValueCoord(n),f=HW(HW(HW(HW({textAnchor:u,transform:"rotate(".concat(90-a,", ").concat(c.x,", ").concat(c.y,")")},d),{},{stroke:"none",fill:l},h),{},{index:i},c),{},{payload:n});return r.createElement(nC,qW({className:"recharts-polar-radius-axis-tick",key:"tick-".concat(n.coordinate)},gO(e.props,n,i)),t.renderTickItem(o,f,s?s(n.value,i):n.value))}));return r.createElement(nC,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,i=e.tick;return t&&t.length?r.createElement(nC,{className:"recharts-polar-radius-axis"},n&&this.renderAxisLine(),i&&this.renderTicks(),iV.renderCallByParent(this.props,this.getViewBox())):null}}],o=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):aO()(e)?e(t):r.createElement($I,qW({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],i&&GW(n.prototype,i),o&&GW(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.PureComponent);function rH(e){return rH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rH(e)}function iH(){return iH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iH.apply(this,arguments)}function oH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oH(Object(n),!0).forEach((function(t){fH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pH(r.key),r)}}function lH(e,t,n){return t=uH(t),function(e,t){if(t&&("object"===rH(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dH(e)}(e,cH()?Reflect.construct(t,n||[],uH(e).constructor):t.apply(e,n))}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cH=function(){return!!e})()}function uH(e){return uH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uH(e)}function dH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hH(e,t){return hH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hH(e,t)}function fH(e,t,n){return(t=pH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=function(e,t){if("object"!=rH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rH(t)?t:String(t)}ZW(nH,"displayName","PolarRadiusAxis"),ZW(nH,"axisType","radiusAxis"),ZW(nH,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var mH=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fH(dH(n=lH(this,t,[e])),"pieRef",null),fH(dH(n),"sectorRefs",[]),fH(dH(n),"id",QN("recharts-pie-")),fH(dH(n),"handleAnimationEnd",(function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),aO()(e)&&e()})),fH(dH(n),"handleAnimationStart",(function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),aO()(e)&&e()})),n.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},n}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hH(e,t)}(t,e),n=t,i=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.label,o=n.labelLine,a=n.dataKey,s=n.valueKey,l=PO(this.props,!1),c=PO(i,!1),u=PO(o,!1),d=i&&i.offsetRadius||20,h=e.map((function(e,n){var h=(e.startAngle+e.endAngle)/2,f=$z(e.cx,e.cy,e.outerRadius+d,h),p=aH(aH(aH(aH({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:t.getTextAnchor(f.x,e.cx)},f),m=aH(aH(aH(aH({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[$z(e.cx,e.cy,e.outerRadius,h),f],key:"line"}),g=a;return iO()(a)&&iO()(s)?g="value":iO()(a)&&(g=s),r.createElement(nC,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle)},o&&t.renderLabelLineItem(o,m),t.renderLabelItem(i,p,WU(e,g)))}));return r.createElement(nC,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,i=n.activeShape,o=n.blendStroke,a=n.inactiveShape;return e.map((function(n,s){if(0===(null===n||void 0===n?void 0:n.startAngle)&&0===(null===n||void 0===n?void 0:n.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(s),c=a&&t.hasActiveIndex()?a:null,u=l?i:c,d=aH(aH({},n),{},{stroke:o?n.fill:n.stroke,tabIndex:-1});return r.createElement(nC,iH({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},gO(t.props,n,s),{key:"sector-".concat(null===n||void 0===n?void 0:n.startAngle,"-").concat(null===n||void 0===n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),r.createElement(rB,iH({option:u,isActive:l,shapeType:"sector"},d)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,i=t.isAnimationActive,o=t.animationBegin,a=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state,u=c.prevSectors,d=c.prevIsAnimationActive;return r.createElement(LP,{begin:o,duration:a,isActive:i,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var i=t.t,o=[],a=(n&&n[0]).startAngle;return n.forEach((function(e,t){var n=u&&u[t],r=t>0?$N()(e,"paddingAngle",0):0;if(n){var s=eO(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=aH(aH({},e),{},{startAngle:a+r,endAngle:a+s(i)+r});o.push(l),a=l.endAngle}else{var c=e.endAngle,d=e.startAngle,h=eO(0,c-d)(i),f=aH(aH({},e),{},{startAngle:a+r,endAngle:a+h+r});o.push(f),a=f.endAngle}})),r.createElement(nC,null,e.renderSectorsStatically(o))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&JF()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,i=t.sectors,o=t.className,a=t.label,s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,h=this.state.isAnimationFinished;if(n||!i||!i.length||!GN(s)||!GN(l)||!GN(c)||!GN(u))return null;var f=DN("recharts-pie",o);return r.createElement(nC,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),a&&this.renderLabels(i),iV.renderCallByParent(this.props,null,!1),(!d||h)&&TV.renderCallByParent(this.props,i,!1))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):aO()(e)?e(t):r.createElement(wq,iH({},t,{type:"linear",className:"recharts-pie-label-line"}))}},{key:"renderLabelItem",value:function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);var i=n;return aO()(e)&&(i=e(t),r.isValidElement(i))?i:r.createElement($I,iH({},t,{alignmentBaseline:"middle",className:"recharts-pie-label-text"}),i)}}],i&&sH(n.prototype,i),o&&sH(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.PureComponent);tH=mH,fH(mH,"displayName","Pie"),fH(mH,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!_C.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),fH(mH,"parseDeltaAngle",(function(e,t){return HN(t-e)*Math.min(Math.abs(t-e),360)})),fH(mH,"getRealPieData",(function(e){var t=e.props,n=t.data,r=t.children,i=PO(e.props,!1),o=jO(r,dV);return n&&n.length?n.map((function(e,t){return aH(aH(aH({payload:e},i),e),o&&o[t]&&o[t].props)})):o&&o.length?o.map((function(e){return aH(aH({},i),e.props)})):[]})),fH(mH,"parseCoordinateOfPie",(function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=qz(i,o);return{cx:r+JN(e.props.cx,i,i/2),cy:n+JN(e.props.cy,o,o/2),innerRadius:JN(e.props.innerRadius,a,0),outerRadius:JN(e.props.outerRadius,a,.8*a),maxRadius:e.props.maxRadius||Math.sqrt(i*i+o*o)/2}})),fH(mH,"getComposedData",(function(e){var t=e.item,n=e.offset,r=tH.getRealPieData(t);if(!r||!r.length)return null;var i=t.props,o=i.cornerRadius,a=i.startAngle,s=i.endAngle,l=i.paddingAngle,c=i.dataKey,u=i.nameKey,d=i.valueKey,h=i.tooltipType,f=Math.abs(t.props.minAngle),p=tH.parseCoordinateOfPie(t,n),m=tH.parseDeltaAngle(a,s),g=Math.abs(m),y=c;iO()(c)&&iO()(d)?(nO(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):iO()(c)&&(nO(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=d);var v,b,w=r.filter((function(e){return 0!==WU(e,y,0)})).length,x=g-w*f-(g>=360?w:w-1)*l,S=r.reduce((function(e,t){var n=WU(t,y,0);return e+(GN(n)?n:0)}),0);S>0&&(v=r.map((function(e,t){var n,r=WU(e,y,0),i=WU(e,u,t),s=(GN(r)?r:0)/S,c=(n=t?b.endAngle+HN(m)*l*(0!==r?1:0):a)+HN(m)*((0!==r?f:0)+s*x),d=(n+c)/2,g=(p.innerRadius+p.outerRadius)/2,v=[{name:i,value:r,payload:e,dataKey:y,type:h}],w=$z(p.cx,p.cy,g,d);return b=aH(aH(aH({percent:s,cornerRadius:o,name:i,tooltipPayload:v,midAngle:d,middleRadius:g,tooltipPosition:w},e),p),{},{value:WU(e,y),startAngle:n,endAngle:c,payload:e,paddingAngle:HN(m)*l})})));return aH(aH({},p),{},{sectors:v,data:r})}));var gH,yH=pW({chartName:"PieChart",GraphicalChild:mH,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:RW},{axisType:"radiusAxis",AxisComp:nH}],formatAxisMap:function(e,t,n,r,i){var o=e.width,a=e.height,s=e.startAngle,l=e.endAngle,c=JN(e.cx,o,o/2),u=JN(e.cy,a,a/2),d=qz(o,a,n),h=JN(e.innerRadius,d,0),f=JN(e.outerRadius,d,.8*d);return Object.keys(t).reduce((function(e,n){var o,a=t[n],d=a.domain,p=a.reversed;if(iO()(a.range))"angleAxis"===r?o=[s,l]:"radiusAxis"===r&&(o=[h,f]),p&&(o=[o[1],o[0]]);else{var m=Uz(o=a.range,2);s=m[0],l=m[1]}var g=tz(a,i),y=g.realScaleType,v=g.scale;v.domain(d).range(o),rz(v);var b=az(v,Lz(Lz({},a),{},{realScaleType:y})),w=Lz(Lz(Lz({},a),b),{},{range:o,radius:f,realScaleType:y,scale:v,cx:c,cy:u,innerRadius:h,outerRadius:f,startAngle:s,endAngle:l});return Lz(Lz({},e),{},Fz({},n,w))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),vH=["layout","type","stroke","connectNulls","isRange","ref"];function bH(e){return bH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bH(e)}function wH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xH(){return xH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xH.apply(this,arguments)}function SH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SH(Object(n),!0).forEach((function(t){_H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AH(r.key),r)}}function TH(e,t,n){return t=NH(t),function(e,t){if(t&&("object"===bH(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return OH(e)}(e,jH()?Reflect.construct(t,n||[],NH(e).constructor):t.apply(e,n))}function jH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jH=function(){return!!e})()}function NH(e){return NH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NH(e)}function OH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CH(e,t){return CH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CH(e,t)}function _H(e,t,n){return(t=AH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(e){var t=function(e,t){if("object"!=bH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bH(t)?t:String(t)}var PH=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _H(OH(e=TH(this,t,[].concat(r))),"state",{isAnimationFinished:!0}),_H(OH(e),"id",QN("recharts-area-")),_H(OH(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),aO()(t)&&t()})),_H(OH(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),aO()(t)&&t()})),e}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CH(e,t)}(t,e),n=t,i=[{key:"renderDots",value:function(e,n,i){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=PO(this.props,!1),h=PO(l,!0),f=c.map((function(e,n){var r=kH(kH(kH({key:"dot-".concat(n),r:3},d),h),{},{dataKey:u,cx:e.x,cy:e.y,index:n,value:e.value,payload:e.payload});return t.renderDotItem(l,r)})),p={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return r.createElement(nC,xH({className:"recharts-area-dots"},p),f)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,n=t.baseLine,i=t.points,o=t.strokeWidth,a=i[0].x,s=i[i.length-1].x,l=e*Math.abs(a-s),c=HF()(i.map((function(e){return e.y||0})));return GN(n)&&"number"===typeof n?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(HF()(n.map((function(e){return e.y||0}))),c)),GN(c)?r.createElement("rect",{x:a<s?a:a-l,y:0,width:l,height:Math.floor(c+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,n=t.baseLine,i=t.points,o=t.strokeWidth,a=i[0].y,s=i[i.length-1].y,l=e*Math.abs(a-s),c=HF()(i.map((function(e){return e.x||0})));return GN(n)&&"number"===typeof n?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(HF()(n.map((function(e){return e.x||0}))),c)),GN(c)?r.createElement("rect",{x:0,y:a<s?a:a-l,width:c+(o?parseInt("".concat(o),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,n,i){var o=this.props,a=o.layout,s=o.type,l=o.stroke,c=o.connectNulls,u=o.isRange,d=(o.ref,wH(o,vH));return r.createElement(nC,{clipPath:n?"url(#clipPath-".concat(i,")"):null},r.createElement(wq,xH({},PO(d,!0),{points:e,connectNulls:c,type:s,baseLine:t,layout:a,stroke:"none",className:"recharts-area-area"})),"none"!==l&&r.createElement(wq,xH({},PO(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:c,fill:"none",points:e})),"none"!==l&&u&&r.createElement(wq,xH({},PO(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var n=this,i=this.props,o=i.points,a=i.baseLine,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,f=h.prevPoints,p=h.prevBaseLine;return r.createElement(LP,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(i){var s=i.t;if(f){var l,c=f.length/o.length,u=o.map((function(e,t){var n=Math.floor(t*c);if(f[n]){var r=f[n],i=eO(r.x,e.x),o=eO(r.y,e.y);return kH(kH({},e),{},{x:i(s),y:o(s)})}return e}));return l=GN(a)&&"number"===typeof a?eO(p,a)(s):iO()(a)||VN()(a)?eO(p,0)(s):a.map((function(e,t){var n=Math.floor(t*c);if(p[n]){var r=p[n],i=eO(r.x,e.x),o=eO(r.y,e.y);return kH(kH({},e),{},{x:i(s),y:o(s)})}return e})),n.renderAreaStatically(u,l,e,t)}return r.createElement(nC,null,r.createElement("defs",null,r.createElement("clipPath",{id:"animationClipPath-".concat(t)},n.renderClipRect(s))),r.createElement(nC,{clipPath:"url(#animationClipPath-".concat(t,")")},n.renderAreaStatically(o,a,e,t)))}))}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,i=n.baseLine,o=n.isAnimationActive,a=this.state,s=a.prevPoints,l=a.prevBaseLine,c=a.totalLength;return o&&r&&r.length&&(!s&&c>0||!JF()(s,r)||!JF()(l,i))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,i,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,i=t.dot,o=t.points,a=t.className,s=t.top,l=t.left,c=t.xAxis,u=t.yAxis,d=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(n||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,y=DN("recharts-area",a),v=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,w=v||b,x=iO()(p)?this.id:p,S=null!==(e=PO(i,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=S.r,E=void 0===k?3:k,T=S.strokeWidth,j=void 0===T?2:T,N=(AO(i)?i:{}).clipDot,O=void 0===N||N,C=2*E+j;return r.createElement(nC,{className:y},v||b?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(x)},r.createElement("rect",{x:v?l:l-d/2,y:b?s:s-h/2,width:v?d:2*d,height:b?h:2*h})),!O&&r.createElement("clipPath",{id:"clipPath-dots-".concat(x)},r.createElement("rect",{x:l-C/2,y:s-C/2,width:d+C,height:h+C}))):null,g?null:this.renderArea(w,x),(i||g)&&this.renderDots(w,O,x),(!f||m)&&TV.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],i&&EH(n.prototype,i),o&&EH(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.PureComponent);function IH(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function DH(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function MH(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function RH(e){return RH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RH(e)}function LH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LH(Object(n),!0).forEach((function(t){UH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UH(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RH(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zH(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(GN(l)||_C.isSsr)return function(e,t){return IH(e,t+1)}(i,"number"===typeof l&&GN(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?pI(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=aO()(c)?c(e.value,r):e.value;return"width"===f?DH(pI(i,{fontSize:t,letterSpacing:n}),p,d):pI(i,{fontSize:t,letterSpacing:n})[f]},g=i.length>=2?HN(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:IH(r,u)};var o,a=c,h=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===c||MH(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=a.length;)if(o=h())return o.v;return[]}(g,y,m,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);a[s-1]=u=FH(FH({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),MH(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=FH(FH({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=FH(FH({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=FH(FH({},o),{},{tickCoord:o.coordinate});MH(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=FH(FH({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(g,y,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=FH(FH({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=FH(FH({},c),{},{tickCoord:c.coordinate});MH(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=FH(FH({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(g,y,m,i,a),h.filter((function(e){return e.isShow})))}gH=PH,_H(PH,"displayName","Area"),_H(PH,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!_C.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),_H(PH,"getBaseValue",(function(e,t,n,r){var i=e.layout,o=e.baseValue,a=t.props.baseValue,s=null!==a&&void 0!==a?a:o;if(GN(s)&&"number"===typeof s)return s;var l="horizontal"===i?r:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]})),_H(PH,"getComposedData",(function(e){var t,n=e.props,r=e.item,i=e.xAxis,o=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,f=e.offset,p=n.layout,m=u&&u.length,g=gH.getBaseValue(n,r,i,o),y="horizontal"===p,v=!1,b=h.map((function(e,t){var n;m?n=u[d+t]:(n=WU(e,c),Array.isArray(n)?v=!0:n=[g,n]);var r=null==n[1]||m&&null==WU(e,c);return y?{x:sz({axis:i,ticks:a,bandSize:l,entry:e,index:t}),y:r?null:o.scale(n[1]),value:n,payload:e}:{x:r?null:i.scale(n[1]),y:sz({axis:o,ticks:s,bandSize:l,entry:e,index:t}),value:n,payload:e}}));return t=m||v?b.map((function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?o.scale(t):null}:{x:null!=t?i.scale(t):null,y:e.y}})):y?o.scale(g):i.scale(g),kH({points:b,baseLine:t,layout:p,isRange:v},f)})),_H(PH,"renderDotItem",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):aO()(e)?e(t):r.createElement(lA,xH({},t,{className:"recharts-area-dot"}))}));var VH=["viewBox"],BH=["viewBox"],$H=["ticks"];function qH(e){return qH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qH(e)}function WH(){return WH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WH.apply(this,arguments)}function HH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HH(Object(n),!0).forEach((function(t){eK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tK(r.key),r)}}function XH(e,t,n){return t=JH(t),function(e,t){if(t&&("object"===qH(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QH()?Reflect.construct(t,n||[],JH(e).constructor):t.apply(e,n))}function QH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(QH=function(){return!!e})()}function JH(e){return JH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JH(e)}function ZH(e,t){return ZH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ZH(e,t)}function eK(e,t,n){return(t=tK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tK(e){var t=function(e,t){if("object"!=qH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qH(t)?t:String(t)}var nK=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=XH(this,t,[e])).state={fontSize:"",letterSpacing:""},n}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZH(e,t)}(t,e),n=t,i=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=GH(e,VH),i=this.props,o=i.viewBox,a=GH(i,BH);return!cO(n,o)||!cO(r,a)||!cO(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,v=GN(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=c+ +!p*d)-g*y)-g*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*u)-g*y)-g*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*u)+g*y)+g*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=c+ +p*d)+g*y)+g*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,c=KH(KH(KH({},PO(this.props,!1)),PO(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!s||"bottom"===a&&s);c=KH(KH({},c),{},{x1:t,y1:n+u*o,x2:t+i,y2:n+u*o})}else{var d=+("left"===a&&!s||"right"===a&&s);c=KH(KH({},c),{},{x1:t+d*i,y1:n,x2:t+d*i,y2:n+o})}return r.createElement("line",WH({},c,{className:DN("recharts-cartesian-axis-line",$N()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,i){var o=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,u=a.tickFormatter,d=a.unit,h=zH(KH(KH({},this.props),{},{ticks:e}),n,i),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=PO(this.props,!1),g=PO(c,!1),y=KH(KH({},m),{},{fill:"none"},PO(s,!1)),v=h.map((function(e,n){var i=o.getTickLineCoord(e),a=i.line,v=i.tick,b=KH(KH(KH(KH({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return r.createElement(nC,WH({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},gO(o.props,e,n)),s&&r.createElement("line",WH({},y,a,{className:DN("recharts-cartesian-axis-tick-line",$N()(s,"className"))})),c&&t.renderTickItem(c,b,"".concat(aO()(u)?u(e.value,n):e.value).concat(d||"")))}));return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,i=t.width,o=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=GH(l,$H),d=c;return aO()(a)&&(d=c&&c.length>0?a(this.props):a(u)),i<=0||o<=0||!d||!d.length?null:r.createElement(nC,{className:DN("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),iV.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):aO()(e)?e(t):r.createElement($I,WH({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],i&&YH(n.prototype,i),o&&YH(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);function rK(){return rK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rK.apply(this,arguments)}eK(nK,"displayName","CartesianAxis"),eK(nK,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var iK=function(e){var t=e.xAxisId,n=p$(),i=m$(),o=h$(t);return null==o?null:r.createElement(nK,rK({},o,{className:DN("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return JU(e,!0)}}))};function oK(){return oK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oK.apply(this,arguments)}iK.displayName="XAxis",iK.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var aK=function(e){var t=e.yAxisId,n=p$(),i=m$(),o=f$(t);return null==o?null:r.createElement(nK,oK({},o,{className:DN("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return JU(e,!0)}}))};aK.displayName="YAxis",aK.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var sK=pW({chartName:"AreaChart",GraphicalChild:PH,axisComponents:[{axisType:"xAxis",AxisComp:iK},{axisType:"yAxis",AxisComp:aK}],formatAxisMap:BB}),lK=["x1","y1","x2","y2","key"],cK=["offset"];function uK(e){return uK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uK(e)}function dK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dK(Object(n),!0).forEach((function(t){fK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fK(e,t,n){return t=function(e){var t=function(e,t){if("object"!=uK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uK(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pK(){return pK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pK.apply(this,arguments)}function mK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var gK=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height;return r.createElement("rect",{x:i,y:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function yK(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(aO()(e))n=e(t);else{var i=t.x1,o=t.y1,a=t.x2,s=t.y2,l=t.key,c=mK(t,lK),u=PO(c,!1),d=(u.offset,mK(u,cK));n=r.createElement("line",pK({},d,{x1:i,y1:o,x2:a,y2:s,fill:"none",key:l}))}return n}function vK(e){var t=e.x,n=e.width,i=e.horizontal,o=void 0===i||i,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=hK(hK({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return yK(o,a)}));return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function bK(e){var t=e.y,n=e.height,i=e.vertical,o=void 0===i||i,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=hK(hK({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return yK(o,a)}));return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function wK(e){var t=e.horizontalFill,n=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var d=u.map((function(e,l){var c=!u[l+1]?o+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return r.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:a,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function xK(e){var t=e.vertical,n=void 0===t||t,i=e.verticalFill,o=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!i||!i.length)return null;var d=u.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==d[0]&&d.unshift(0);var h=d.map((function(e,t){var n=!d[t+1]?a+l-e:d[t+1]-e;if(n<=0)return null;var u=t%i.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:c,stroke:"none",fill:i[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var SK=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return QU(zH(hK(hK(hK({},nK.defaultProps),n),{},{ticks:JU(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},kK=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return QU(zH(hK(hK(hK({},nK.defaultProps),n),{},{ticks:JU(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},EK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function TK(e){var t,n,i,o,a,s,l=p$(),c=m$(),u=(0,r.useContext)(s$),d=hK(hK({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:EK.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:EK.fill,horizontal:null!==(i=e.horizontal)&&void 0!==i?i:EK.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:EK.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:EK.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:EK.verticalFill,x:GN(e.x)?e.x:u.left,y:GN(e.y)?e.y:u.top,width:GN(e.width)?e.width:u.width,height:GN(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,b=function(){var e=(0,r.useContext)(i$);return ZN(e)}(),w=function(){var e=(0,r.useContext)(o$);return t$()(e,(function(e){return uV()(e.domain,Number.isFinite)}))||ZN(e)}();if(!GN(p)||p<=0||!GN(m)||m<=0||!GN(h)||h!==+h||!GN(f)||f!==+f)return null;var x=d.verticalCoordinatesGenerator||SK,S=d.horizontalCoordinatesGenerator||kK,k=d.horizontalPoints,E=d.verticalPoints;if((!k||!k.length)&&aO()(S)){var T=y&&y.length,j=S({yAxis:w?hK(hK({},w),{},{ticks:T?y:w.ticks}):void 0,width:l,height:c,offset:u},!!T||g);nO(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(uK(j),"]")),Array.isArray(j)&&(k=j)}if((!E||!E.length)&&aO()(x)){var N=v&&v.length,O=x({xAxis:b?hK(hK({},b),{},{ticks:N?v:b.ticks}):void 0,width:l,height:c,offset:u},!!N||g);nO(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(uK(O),"]")),Array.isArray(O)&&(E=O)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(gK,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height}),r.createElement(vK,pK({},d,{offset:u,horizontalPoints:k,xAxis:b,yAxis:w})),r.createElement(bK,pK({},d,{offset:u,verticalPoints:E,xAxis:b,yAxis:w})),r.createElement(wK,pK({},d,{horizontalPoints:k})),r.createElement(xK,pK({},d,{verticalPoints:E})))}TK.displayName="CartesianGrid";const jK=Ib("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),NK=Ib("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),OK=Ib("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),CK=Ib("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),_K=Ib("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),AK=Ib("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);function PK(e){cv(1,arguments);var t=uv(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function IK(e){cv(1,arguments);var t=uv(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function DK(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function MK(e,t){cv(2,arguments);var n=uv(e),r=uv(t),i=DK(n,r),o=Math.abs(function(e,t){cv(2,arguments);var n=Jb(e),r=Jb(t),i=n.getTime()-zv(n),o=r.getTime()-zv(r);return Math.round((i-o)/864e5)}(n,r));n.setDate(n.getDate()-i*o);var a=i*(o-Number(DK(n,r)===-i));return 0===a?0:a}function RK(e){return cv(1,arguments),uv(e).getDay()}const LK=e=>{let{tasks:t}=e;const n=(0,r.useMemo)((()=>{const e=Array(7).fill(0),n=Array(24).fill(0);t.forEach((t=>{if("oneTime"===t.type&&t.isCompleted&&t.date){const r=RK(ub(t.date));if(e[r]++,t.time){const e=parseInt(t.time.split(":")[0],10);!isNaN(e)&&e>=0&&e<24&&n[e]++}}else"routine"===t.type&&t.completedDates&&t.completedDates.length>0&&t.completedDates.forEach((t=>{const n=RK(ub(t));e[n]++}))}));const r=Math.max(...e);return{weekdayCounts:e,weekdays:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],maxCount:r,hourCounts:n}}),[t]),i=(e,t)=>{if(0===t)return"bg-gray-100";switch(Math.min(Math.round(e/t*5),5)){case 0:default:return"bg-blue-50";case 1:return"bg-blue-100";case 2:return"bg-blue-200";case 3:return"bg-blue-300";case 4:return"bg-blue-400";case 5:return"bg-blue-500"}};return(0,iv.jsxs)("div",{className:"space-y-4",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("h4",{className:"text-sm font-medium mb-2 text-gray-500",children:"Attivit\xe0 completate per giorno"}),(0,iv.jsx)("div",{className:"grid grid-cols-7 gap-2",children:n.weekdays.map(((e,t)=>(0,iv.jsxs)("div",{className:"text-center",children:[(0,iv.jsx)("div",{className:`h-16 rounded-md ${i(n.weekdayCounts[t],n.maxCount)} flex items-center justify-center`,children:(0,iv.jsx)("span",{className:"font-bold text-lg text-gray-700",children:n.weekdayCounts[t]})}),(0,iv.jsx)("div",{className:"mt-1 text-xs font-medium",children:e.substring(0,3)})]},e)))})]}),(0,iv.jsxs)("div",{className:"mt-6",children:[(0,iv.jsx)("h4",{className:"text-sm font-medium mb-2 text-gray-500",children:"Distribuzione per ora del giorno"}),(0,iv.jsx)("div",{className:"h-32 flex items-end gap-1",children:n.hourCounts.map(((e,t)=>{const r=Math.max(...n.hourCounts),i=r>0?Math.max(e/r*100,5):5;return(0,iv.jsxs)("div",{className:"relative flex-1 flex flex-col items-center",children:[(0,iv.jsx)("div",{className:`w-full ${e>0?"bg-primary-400":"bg-gray-200"} rounded-t-sm`,style:{height:`${i}%`}}),t%3===0&&(0,iv.jsx)("div",{className:"absolute -bottom-6 text-xs font-medium text-gray-500",children:t})]},t)}))}),(0,iv.jsx)("div",{className:"h-6"})]}),(0,iv.jsx)("div",{className:"mt-4 text-sm text-gray-500 bg-gray-50 p-3 rounded-md",children:(0,iv.jsx)("p",{children:"I grafici mostrano quando completi pi\xf9 impegni durante la settimana e in quali ore del giorno. I colori pi\xf9 intensi indicano i momenti in cui sei pi\xf9 produttivo."})})]})};var FK=pW({chartName:"BarChart",GraphicalChild:MB,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:iK},{axisType:"yAxis",AxisComp:aK}],formatAxisMap:BB}),UK=["type","layout","connectNulls","ref"];function zK(e){return zK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zK(e)}function VK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BK(){return BK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BK.apply(this,arguments)}function $K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$K(Object(n),!0).forEach((function(t){ZK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WK(e){return function(e){if(Array.isArray(e))return HK(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return HK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HK(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eG(r.key),r)}}function GK(e,t,n){return t=XK(t),function(e,t){if(t&&("object"===zK(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return QK(e)}(e,YK()?Reflect.construct(t,n||[],XK(e).constructor):t.apply(e,n))}function YK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YK=function(){return!!e})()}function XK(e){return XK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},XK(e)}function QK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JK(e,t){return JK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JK(e,t)}function ZK(e,t,n){return(t=eG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eG(e){var t=function(e,t){if("object"!=zK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zK(t)?t:String(t)}var tG=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ZK(QK(e=GK(this,t,[].concat(r))),"state",{isAnimationFinished:!0,totalLength:0}),ZK(QK(e),"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),ZK(QK(e),"getStrokeDasharray",(function(n,r,i){var o=i.reduce((function(e,t){return e+t}));if(!o)return e.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,l=r-n,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){c=[].concat(WK(i.slice(0,u)),[s-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(WK(t.repeat(i,a)),WK(c),h).map((function(e){return"".concat(e,"px")})).join(", ")})),ZK(QK(e),"id",QN("recharts-line-")),ZK(QK(e),"pathRef",(function(t){e.mainCurve=t})),ZK(QK(e),"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),ZK(QK(e),"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JK(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.points,o=n.xAxis,a=n.yAxis,s=n.layout,l=jO(n.children,IU);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:WU(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(nC,u,l.map((function(e){return r.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:i,xAxis:o,yAxis:a,layout:s,dataPointFormatter:c})})))}},{key:"renderDots",value:function(e,n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.dot,s=o.points,l=o.dataKey,c=PO(this.props,!1),u=PO(a,!0),d=s.map((function(e,n){var r=qK(qK(qK({key:"dot-".concat(n),r:3},c),u),{},{value:e.value,dataKey:l,cx:e.x,cy:e.y,index:n,payload:e.payload});return t.renderDotItem(a,r)})),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return r.createElement(nC,BK({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,n,i){var o=this.props,a=o.type,s=o.layout,l=o.connectNulls,c=(o.ref,VK(o,UK)),u=qK(qK(qK({},PO(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},i),{},{type:a,layout:s,connectNulls:l});return r.createElement(wq,BK({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,i=this.props,o=i.points,a=i.strokeDasharray,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=i.animateNewValues,f=i.width,p=i.height,m=this.state,g=m.prevPoints,y=m.totalLength;return r.createElement(LP,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var i=r.t;if(g){var s=g.length/o.length,l=o.map((function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],o=eO(r.x,e.x),a=eO(r.y,e.y);return qK(qK({},e),{},{x:o(i),y:a(i)})}if(h){var l=eO(2*f,e.x),c=eO(p/2,e.y);return qK(qK({},e),{},{x:l(i),y:c(i)})}return qK(qK({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var c,u=eO(0,y)(i);if(a){var d="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=n.getStrokeDasharray(u,y,d)}else c=n.generateSimpleStrokeDasharray(y,u);return n.renderCurveStatically(o,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!JF()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,i=t.dot,o=t.points,a=t.className,s=t.xAxis,l=t.yAxis,c=t.top,u=t.left,d=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(n||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,y=DN("recharts-line",a),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,w=v||b,x=iO()(p)?this.id:p,S=null!==(e=PO(i,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=S.r,E=void 0===k?3:k,T=S.strokeWidth,j=void 0===T?2:T,N=(AO(i)?i:{}).clipDot,O=void 0===N||N,C=2*E+j;return r.createElement(nC,{className:y},v||b?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(x)},r.createElement("rect",{x:v?u:u-d/2,y:b?c:c-h/2,width:v?d:2*d,height:b?h:2*h})),!O&&r.createElement("clipPath",{id:"clipPath-dots-".concat(x)},r.createElement("rect",{x:u-C/2,y:c-C/2,width:d+C,height:h+C}))):null,!g&&this.renderCurve(w,x),this.renderErrorBar(w,x),(g||i)&&this.renderDots(w,O,x),(!f||m)&&TV.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(WK(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(WK(r),WK(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(aO()(e))n=e(t);else{var i=DN("recharts-line-dot",e?e.className:"");n=r.createElement(lA,BK({},t,{className:i}))}return n}}],i&&KK(n.prototype,i),o&&KK(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.PureComponent);ZK(tG,"displayName","Line"),ZK(tG,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!_C.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),ZK(tG,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map((function(e,t){var l=WU(e,a);return"horizontal"===u?{x:sz({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:iO()(l)?null:r.scale(l),value:l,payload:e}:{x:iO()(l)?null:n.scale(l),y:sz({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}}));return qK({points:d,layout:u},c)}));var nG=pW({chartName:"LineChart",GraphicalChild:tG,axisComponents:[{axisType:"xAxis",AxisComp:iK},{axisType:"yAxis",AxisComp:aK}],formatAxisMap:BB});const rG=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,iv.jsx)("div",{ref:t,className:"rounded-lg border bg-white text-gray-950 shadow-sm",...r})}));rG.displayName="Card";const iG=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,iv.jsx)("div",{ref:t,className:"flex flex-col space-y-1.5 p-6",...r})}));iG.displayName="CardHeader";const oG=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,iv.jsx)("h3",{ref:t,className:"text-2xl font-semibold leading-none tracking-tight",...r})}));oG.displayName="CardTitle";r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,iv.jsx)("p",{ref:t,className:"text-sm text-gray-500",...r})})).displayName="CardDescription";const aG=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,iv.jsx)("div",{ref:t,className:"p-6 pt-0",...r})}));aG.displayName="CardContent";r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,iv.jsx)("div",{ref:t,className:"flex items-center p-6 pt-0",...r})})).displayName="CardFooter";const sG=e=>{let{tasks:t,allTasks:n,period:i}=e;const o=(0,r.useMemo)((()=>{const e=new Map;return t.forEach((t=>{if(!t.title)return;const n=t.title.split(" ")[0].toLowerCase();n.length<=2||e.set(n,(e.get(n)||0)+1)})),Array.from(e.entries()).map((e=>{let[t,n]=e;return{name:t,count:n}})).sort(((e,t)=>t.count-e.count)).slice(0,5)}),[t]),a=(0,r.useMemo)((()=>{const e=[{name:"Mattina (6-12)",start:6,end:11,count:0},{name:"Pomeriggio (12-18)",start:12,end:17,count:0},{name:"Sera (18-24)",start:18,end:23,count:0},{name:"Notte (0-6)",start:0,end:5,count:0}];return n.forEach((t=>{if("oneTime"===t.type&&t.isCompleted&&t.time){const n=parseInt(t.time.split(":")[0],10);if(!isNaN(n)){const t=e.find((e=>n>=e.start&&n<=e.end));t&&t.count++}}else if("routine"===t.type&&t.completedDates&&t.completedDates.length>0){const n=t.completedDates.length;e.forEach((e=>{e.count+=Math.round(.25*n)}))}})),e}),[n]),s=(0,r.useMemo)((()=>{const e=n.filter((e=>"routine"===e.type)),t=n.filter((e=>"oneTime"===e.type)),r=e.length>0?e.filter((e=>e.completedDates&&e.completedDates.length>0)).length/e.length:0,i=t.length>0?t.filter((e=>e.isCompleted)).length/t.length:0;return[{name:"Routine",rate:Math.round(100*r)},{name:"Una tantum",rate:Math.round(100*i)}]}),[n]),l=(0,r.useMemo)((()=>n.some((e=>"oneTime"===e.type&&e.time||"routine"===e.type&&e.completedDates&&e.completedDates.length>0))),[n]),c=(0,r.useMemo)((()=>{const e=["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],t=Array(7).fill(0),r=Array(7).fill(0);return n.forEach((n=>{if("oneTime"===n.type){if(n.date){const e=RK(ub(n.date));r[e]++,n.isCompleted&&t[e]++}}else"routine"===n.type&&(n.completedDates&&n.completedDates.length>0&&n.completedDates.forEach((e=>{const n=RK(ub(e));t[n]++})),n.weekdays&&n.weekdays.length>0&&n.weekdays.forEach((t=>{const n=e.findIndex((e=>e.toLowerCase().startsWith(t.toLowerCase())));n>=0&&r[n]++})))})),e.map(((e,n)=>({name:e.substr(0,3),tasso:r[n]?Math.round(t[n]/r[n]*100):0,completati:t[n]})))}),[n]),u=(0,r.useMemo)((()=>0===c.length?null:c.reduce(((e,t)=>t.tasso>e.tasso?t:e))),[c]),d=(0,r.useMemo)((()=>0===o.length?null:o[0]),[o]),h=(0,r.useMemo)((()=>0===a.length?null:a.reduce(((e,t)=>t.count>e.count?t:e))),[a]);return(0,iv.jsxs)("div",{className:"space-y-6",children:[(0,iv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,iv.jsxs)(rG,{children:[(0,iv.jsx)(iG,{className:"pb-2",children:(0,iv.jsxs)(oG,{className:"text-lg flex items-center",children:[(0,iv.jsx)(xN,{className:"h-5 w-5 mr-2 text-primary-500"}),"Categorie pi\xf9 completate"]})}),(0,iv.jsx)(aG,{children:o.length>0?(0,iv.jsx)("div",{className:"h-64",children:(0,iv.jsx)(BO,{width:"100%",height:"100%",children:(0,iv.jsxs)(FK,{data:o,layout:"vertical",children:[(0,iv.jsx)(TK,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,iv.jsx)(iK,{type:"number"}),(0,iv.jsx)(aK,{type:"category",dataKey:"name",tick:{fontSize:12},width:80}),(0,iv.jsx)(WC,{formatter:e=>[`${e} impegni`,"Frequenza"],labelFormatter:e=>`Categoria: ${e}`}),(0,iv.jsx)(MB,{dataKey:"count",name:"Frequenza",fill:"#0d90e5",radius:[0,4,4,0]})]})})}):(0,iv.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-400",children:(0,iv.jsx)("p",{children:"Dati insufficienti per l'analisi"})})})]}),(0,iv.jsxs)(rG,{children:[(0,iv.jsx)(iG,{className:"pb-2",children:(0,iv.jsxs)(oG,{className:"text-lg flex items-center",children:[(0,iv.jsx)(dN,{className:"h-5 w-5 mr-2 text-primary-500"}),"Distribuzione oraria"]})}),(0,iv.jsx)(aG,{children:l?(0,iv.jsx)("div",{className:"h-64",children:(0,iv.jsx)(BO,{width:"100%",height:"100%",children:(0,iv.jsxs)(yH,{children:[(0,iv.jsx)(mH,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"count",label:e=>{let{name:t,percent:n}=e;return`${t}: ${(100*n).toFixed(0)}%`},labelLine:!1,children:a.map(((e,t)=>(0,iv.jsx)(dV,{fill:0===t?"#0d90e5":1===t?"#9776ed":2===t?"#e74694":"#6ee7b7"},`cell-${t}`)))}),(0,iv.jsx)(WC,{formatter:e=>[`${e} impegni`,"Completati"]})]})})}):(0,iv.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-400",children:(0,iv.jsx)("p",{children:"Dati temporali insufficienti"})})})]})]}),(0,iv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,iv.jsxs)(rG,{children:[(0,iv.jsx)(iG,{className:"pb-2",children:(0,iv.jsxs)(oG,{className:"text-lg flex items-center",children:[(0,iv.jsx)(_K,{className:"h-5 w-5 mr-2 text-primary-500"}),"Tassi di completamento"]})}),(0,iv.jsx)(aG,{children:(0,iv.jsx)("div",{className:"h-64",children:(0,iv.jsx)(BO,{width:"100%",height:"100%",children:(0,iv.jsxs)(FK,{data:s,children:[(0,iv.jsx)(TK,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,iv.jsx)(iK,{dataKey:"name"}),(0,iv.jsx)(aK,{domain:[0,100],tickFormatter:e=>`${e}%`}),(0,iv.jsx)(WC,{formatter:e=>[`${e}%`,"Tasso di completamento"]}),(0,iv.jsx)(MB,{dataKey:"rate",name:"Tasso",fill:"#9776ed",radius:[4,4,0,0]})]})})})})]}),(0,iv.jsxs)(rG,{children:[(0,iv.jsx)(iG,{className:"pb-2",children:(0,iv.jsxs)(oG,{className:"text-lg flex items-center",children:[(0,iv.jsx)(Hb,{className:"h-5 w-5 mr-2 text-primary-500"}),"Performance settimanale"]})}),(0,iv.jsx)(aG,{children:(0,iv.jsx)("div",{className:"h-64",children:(0,iv.jsx)(BO,{width:"100%",height:"100%",children:(0,iv.jsxs)(nG,{data:c,children:[(0,iv.jsx)(TK,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,iv.jsx)(iK,{dataKey:"name"}),(0,iv.jsx)(aK,{yAxisId:"left",orientation:"left",tickFormatter:e=>`${e}%`}),(0,iv.jsx)(aK,{yAxisId:"right",orientation:"right"}),(0,iv.jsx)(WC,{}),(0,iv.jsx)(tG,{yAxisId:"left",type:"monotone",dataKey:"tasso",name:"Tasso di completamento",stroke:"#0d90e5",strokeWidth:2,dot:{r:4,fill:"#0d90e5",stroke:"#ffffff",strokeWidth:2}}),(0,iv.jsx)(tG,{yAxisId:"right",type:"monotone",dataKey:"completati",name:"Impegni completati",stroke:"#e74694",strokeWidth:2,dot:{r:4,fill:"#e74694",stroke:"#ffffff",strokeWidth:2}})]})})})})]})]}),(0,iv.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-gray-700",children:[(0,iv.jsx)("h3",{className:"font-medium mb-2",children:"Riassunto comportamento"}),(0,iv.jsxs)("ul",{className:"space-y-2 text-sm",children:[u&&(0,iv.jsxs)("li",{className:"flex items-start",children:[(0,iv.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-primary-500 mt-1.5 mr-2"}),u.tasso>0?(0,iv.jsxs)("span",{children:["Il tuo giorno pi\xf9 produttivo \xe8 ",(0,iv.jsx)("b",{children:u.name})," con un tasso di completamento del ",(0,iv.jsxs)("b",{children:[u.tasso,"%"]}),"."]}):(0,iv.jsx)("span",{children:"Non ci sono ancora dati sufficienti sulla produttivit\xe0 giornaliera."})]}),d&&(0,iv.jsxs)("li",{className:"flex items-start",children:[(0,iv.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-primary-500 mt-1.5 mr-2"}),(0,iv.jsxs)("span",{children:["Completi pi\xf9 frequentemente impegni legati a ",(0,iv.jsx)("b",{children:d.name})," (",d.count," volte)."]})]}),h&&h.count>0&&(0,iv.jsxs)("li",{className:"flex items-start",children:[(0,iv.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-primary-500 mt-1.5 mr-2"}),(0,iv.jsxs)("span",{children:["Sei pi\xf9 produttivo nella fascia ",(0,iv.jsx)("b",{children:h.name})," con ",(0,iv.jsx)("b",{children:h.count})," impegni completati."]})]}),s.length>0&&(0,iv.jsxs)("li",{className:"flex items-start",children:[(0,iv.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-primary-500 mt-1.5 mr-2"}),(0,iv.jsxs)("span",{children:["Completi il ",(0,iv.jsxs)("b",{children:[s[0].rate,"%"]})," delle attivit\xe0 di routine e il ",(0,iv.jsxs)("b",{children:[s[1].rate,"%"]})," delle attivit\xe0 una tantum."]})]})]})]})]})},lG=Ib("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),cG=Ib("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),uG=Ib("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),dG=Ib("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),hG=e=>{let{tasks:t,counters:n,counterEntries:i}=e;const o=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()-t),n},a=e=>{const t=new Set;e.forEach((e=>{"oneTime"===e.type&&e.isCompleted&&e.date?t.add(e.date):"routine"===e.type&&e.completedDates&&e.completedDates.forEach((e=>t.add(e)))}));const n=sb(new Date,"yyyy-MM-dd");let r=t.has(n)?1:0;if(0===r)return 0;let i=o(new Date,1);for(;t.has(sb(i,"yyyy-MM-dd"));)r++,i=o(i,1);return r},s=(0,r.useMemo)((()=>{const e=[],r=a(t),o=Array(7).fill(0);let s=0;t.forEach((e=>{if("oneTime"===e.type&&e.isCompleted&&e.date){const t=RK(ub(e.date));o[t]++,s++}else"routine"===e.type&&e.completedDates&&e.completedDates.length>0&&e.completedDates.forEach((e=>{const t=RK(ub(e));o[t]++,s++}))}));let l=0,c=0;if(o.forEach(((e,t)=>{e>c&&(c=e,l=t)})),s>5&&c>0){const t=["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],n=Math.round(c/s*100);n>20&&e.push({id:"most-productive-day",title:`Il ${t[l]} \xe8 il tuo giorno pi\xf9 produttivo`,description:`Completi il ${n}% dei tuoi impegni di ${t[l]}.`,icon:(0,iv.jsx)(Hb,{className:"h-5 w-5 text-primary-500"}),suggestion:`Prova a pianificare i task pi\xf9 impegnativi di ${t[l]}.`})}const u=t.filter((e=>"routine"===e.type)).filter((e=>{if(!e.completedDates)return!0;if(e.startDate){const t=ub(e.startDate),n=new Date,r=Math.max(1,MK(n,t));if(e.weekdays&&e.weekdays.length>0){const t=e.weekdays.length,n=Math.round(r*(t/7));if(n>3&&e.completedDates.length/n<.3)return!0}else if(r>14&&e.completedDates.length<2)return!0}return!1}));if(u.length>0){const t=u[0];e.push({id:"low-completion-routine",title:"Routine con basso completamento",description:`"${t.title}" e altre ${u.length-1} routine hanno un basso tasso di completamento.`,icon:(0,iv.jsx)(lG,{className:"h-5 w-5 text-tertiary-500"}),suggestion:"Considera di ridurre la frequenza o modificare queste routine."})}if(i.length>10){const t=new Map;n.forEach((e=>t.set(e.id,e)));const r=new Map,o=new Map;if(i.forEach((e=>{var t;o.has(e.counterId)||o.set(e.counterId,[]),null===(t=o.get(e.counterId))||void 0===t||t.push(e)})),o.forEach(((e,n)=>{if(e.length<5)return;e.sort(((e,t)=>ub(e.date).getTime()-ub(t.date).getTime()));const i=e.slice(-10);if(i.length<5)return;const o=Math.floor(i.length/2),a=i.slice(0,o),s=i.slice(o),l=a.reduce(((e,t)=>e+t.value),0)/a.length,c=s.reduce(((e,t)=>e+t.value),0)/s.length,u=0===l?100:Math.round((c-l)/l*100);if(Math.abs(u)>20){var d;const i=(null===(d=t.get(n))||void 0===d?void 0:d.name)||e[0].name||"Contatore";r.set(n,{name:i,trend:u>0?"up":"down",percentage:Math.abs(u)})}})),r.size>0){let t={id:"",data:{name:"",trend:"up",percentage:0}};r.forEach(((e,n)=>{e.percentage>t.data.percentage&&(t={id:n,data:{...e}})}));const{name:n,trend:i,percentage:o}=t.data;e.push({id:"significant-counter-trend",title:`"${n}" sta ${"up"===i?"aumentando":"diminuendo"}`,description:`Il contatore "${n}" ha ${"up"===i?"aumentato":"diminuito"} del ${o}% recentemente.`,icon:(0,iv.jsx)(CK,{className:"h-5 w-5 text-primary-500"}),suggestion:"up"===i?"Continua cos\xec! Stai facendo progressi significativi.":"Potrebbe essere utile rivedere la tua strategia per questo obiettivo."})}}r>3&&e.push({id:"current-streak",title:`Sei in serie da ${r} giorni!`,description:`Hai completato almeno un impegno ogni giorno per ${r} giorni consecutivi.`,icon:(0,iv.jsx)(cG,{className:"h-5 w-5 text-secondary-500"}),suggestion:"Continua cos\xec per mantenere la tua serie attiva."});const d=(e=>{let t=0,n=0,r=0,i=0;e.forEach((e=>{if("oneTime"===e.type&&e.isCompleted&&e.time){const o=parseInt(e.time.split(":")[0],10);i++,o>=6&&o<12?t++:o>=12&&o<18?n++:r++}})),i<5&&e.forEach((e=>{if("routine"===e.type&&e.completedDates&&e.completedDates.length>0){const o=e.completedDates.length;t+=Math.round(.4*o),n+=Math.round(.3*o),r+=Math.round(.3*o),i+=o}}));const o=i>0?Math.round(t/i*100):33,a=i>0?Math.round(n/i*100):33;return{morningPercentage:o,afternoonPercentage:a,eveningPercentage:i>0?Math.round(r/i*100):100-o-a,totalWithTimeInfo:i}})(t);d.morningPercentage>d.eveningPercentage+20?e.push({id:"morning-person",title:"Sei pi\xf9 produttivo al mattino",description:`Completi il ${d.morningPercentage}% dei tuoi impegni nelle ore mattutine (6-12).`,icon:(0,iv.jsx)(uG,{className:"h-5 w-5 text-tertiary-500"}),suggestion:"Programma i task pi\xf9 impegnativi nelle prime ore del giorno."}):d.eveningPercentage>d.morningPercentage+20&&e.push({id:"evening-person",title:"Sei pi\xf9 produttivo la sera",description:`Completi il ${d.eveningPercentage}% dei tuoi impegni nelle ore serali (18-24).`,icon:(0,iv.jsx)(dN,{className:"h-5 w-5 text-secondary-500"}),suggestion:"Riserva le attivit\xe0 che richiedono pi\xf9 concentrazione per la sera."});const h=(e=>e.filter((e=>e.goal&&e.goal>e.currentValue)).map((e=>({...e,completionPercentage:e.currentValue/e.goal*100}))).find((e=>e.completionPercentage>=70&&e.completionPercentage<100)))(n);if(h){const t=h.goal-h.currentValue;e.push({id:"near-goal",title:"Obiettivo quasi raggiunto!",description:`Ti mancano solo ${t} per raggiungere il tuo obiettivo di ${h.goal} per "${h.name}".`,icon:(0,iv.jsx)(nN,{className:"h-5 w-5 text-primary-500"}),suggestion:"Concentrati su questo contatore per raggiungere presto l'obiettivo."})}const f=(e=>e.filter((e=>{if(!e.startDate)return!1;const t=ub(e.startDate);return MK(new Date,t)>=14})).filter((e=>"oneTime"===e.type?!e.isCompleted:"routine"===e.type&&(!e.completedDates||0===e.completedDates.length))))(t);return f.length>0&&e.push({id:"neglected-tasks",title:"Impegni trascurati",description:`Hai ${f.length} impegni che non hai mai completato.`,icon:(0,iv.jsx)(lG,{className:"h-5 w-5 text-tertiary-500"}),suggestion:"Considera di semplificare o rimuovere questi impegni dal tuo elenco."}),0===e.length&&e.push({id:"not-enough-data",title:"Continua a tracciare le tue attivit\xe0",description:"Non abbiamo ancora abbastanza dati per generare insight significativi.",icon:(0,iv.jsx)(AK,{className:"h-5 w-5 text-primary-500"}),suggestion:"Continua a registrare i tuoi impegni e contatori per sbloccare insight personalizzati."}),e}),[t,n,i,a]);return(0,iv.jsxs)("div",{className:"space-y-6",children:[(0,iv.jsxs)("div",{className:"flex items-center mb-4",children:[(0,iv.jsx)(AK,{className:"h-6 w-6 text-primary-500 mr-2"}),(0,iv.jsx)("h3",{className:"text-lg font-semibold",children:"Insights e suggerimenti"})]}),(0,iv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map((e=>(0,iv.jsxs)(rG,{className:"border border-gray-100",children:[(0,iv.jsxs)(iG,{className:"pb-2 flex flex-row items-center space-x-2",children:[(0,iv.jsx)("div",{className:"mr-2",children:e.icon}),(0,iv.jsx)(oG,{className:"text-base",children:e.title})]}),(0,iv.jsxs)(aG,{children:[(0,iv.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,iv.jsxs)("div",{className:"text-sm bg-gray-50 p-2 rounded-md text-gray-700 flex items-start",children:[(0,iv.jsx)(dG,{className:"h-4 w-4 mr-2 text-secondary-500 mt-0.5 flex-shrink-0"}),(0,iv.jsx)("p",{children:e.suggestion})]})]})]},e.id)))}),0===s.length&&(0,iv.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center text-gray-500",children:[(0,iv.jsx)("p",{children:"Non ci sono ancora dati sufficienti per generare insights significativi."}),(0,iv.jsx)("p",{className:"text-sm mt-2",children:"Continua a utilizzare l'app per sbloccare suggerimenti personalizzati."})]}),(0,iv.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg text-xs text-gray-500 mt-6",children:(0,iv.jsx)("p",{children:"Gli insights e i suggerimenti sono generati automaticamente in base ai tuoi dati. Pi\xf9 utilizzi l'app, pi\xf9 accurati e personalizzati diventeranno questi suggerimenti."})})]})},fG=()=>{const{tasks:e}=Cb(),[t,n]=(0,r.useState)({overview:!0,timeline:!1,behavior:!1,insights:!1,periodDropdown:!1}),[i,o]=(0,r.useState)("week"),a=e=>{n((t=>({...t,[e]:!t[e]})))},s=(0,r.useCallback)((e=>{!e.target.closest(".period-dropdown")&&t.periodDropdown&&n((e=>({...e,periodDropdown:!1})))}),[t.periodDropdown]);r.useEffect((()=>(document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)})),[s]);const l=(0,r.useMemo)((()=>{const e=new Date;switch(i){case"day":return{start:e,end:e};case"week":return{start:jN(e,{locale:xw}),end:ON(e,{locale:xw})};case"month":return{start:NN(e),end:rw(e)};case"year":return{start:PK(e),end:IK(e)};default:return{start:new Date(0),end:e}}}),[i]),c=(0,r.useMemo)((()=>e.filter((e=>{if("oneTime"===e.type&&e.date){return EN(ub(e.date),l)}if("routine"===e.type){if(e.completedDates&&e.completedDates.length>0)return e.completedDates.some((e=>EN(ub(e),l)));if(e.startDate){const t=ub(e.startDate),n=e.endDate?ub(e.endDate):new Date;return bb(t,l.start)&&xb(t,l.end)||bb(n,l.start)&&xb(n,l.end)||xb(t,l.start)&&bb(n,l.end)}}return!0}))),[e,l]),u=(0,r.useMemo)((()=>{const t=c.length,n=c.filter((e=>"oneTime"===e.type?e.isCompleted:!!(e.completedDates&&e.completedDates.length>0)&&e.completedDates.some((e=>EN(ub(e),l))))).length,r=c.filter((e=>"routine"===e.type)).length,i=c.filter((e=>"oneTime"===e.type)).length;let o=0,a=0;const s=new Set;e.forEach((e=>{e.completedDates?e.completedDates.forEach((e=>s.add(e))):"oneTime"===e.type&&e.isCompleted&&e.date&&s.add(e.date)}));let u=new Date,d=sb(u,"yyyy-MM-dd");for(;s.has(d);)o++,u=tw(u,1),d=sb(u,"yyyy-MM-dd");let h=0;const f=Array.from(s).sort();if(f.length>0){const e=f.map((e=>ub(e))).sort(((e,t)=>e.getTime()-t.getTime()));h=1;let t=1;for(let n=1;n<e.length;n++){1===MK(e[n],e[n-1])?t++:t=1,t>h&&(h=t)}a=h}return{total:t,completed:n,completion:t?Math.round(n/t*100):0,routine:r,oneTime:i,currentStreak:o,maxStreak:a}}),[c,l,e]),d=(0,r.useMemo)((()=>[{name:"Routine",value:u.routine},{name:"Una tantum",value:u.oneTime}]),[u]),h=(0,r.useMemo)((()=>{const t=[],n=new Map;e.forEach((e=>{e.completedDates?e.completedDates.forEach((e=>{n.set(e,(n.get(e)||0)+1)})):"oneTime"===e.type&&e.isCompleted&&e.date&&n.set(e.date,(n.get(e.date)||0)+1)}));for(let e=13;e>=0;e--){const r=new Date,i=new Date(r);i.setDate(r.getDate()-e);const o=sb(i,"yyyy-MM-dd"),a=n.get(o)||0;t.push({date:sb(i,"d MMM",{locale:xw}),completati:a,dateObj:i})}return t}),[e]),f=(0,r.useMemo)((()=>{const t=c.length,n=u.completed;let r=new Date(0),o=new Date(0);switch(i){case"day":r=new Date(l.start),r.setDate(l.start.getDate()-1),o=new Date(l.end),o.setDate(l.end.getDate()-1);break;case"week":r=new Date(l.start),r.setDate(l.start.getDate()-7),o=new Date(l.end),o.setDate(l.end.getDate()-7);break;case"month":r=new Date(l.start),r.setDate(l.start.getDate()-30),o=new Date(l.end),o.setDate(l.end.getDate()-30);break;case"year":r=new Date(l.start),r.setDate(l.start.getDate()-365),o=new Date(l.end),o.setDate(l.end.getDate()-365);break;default:r=new Date(0),o=new Date(0)}const a=e.reduce(((e,t)=>{const n={start:r,end:o};let i=!1,a=!1;if("oneTime"===t.type&&t.date){i=EN(ub(t.date),n),a=i&&t.isCompleted}else if("routine"===t.type){if(t.completedDates&&t.completedDates.length>0){t.completedDates.some((e=>EN(ub(e),n)))&&(i=!0,a=!0)}if(t.startDate){const e=ub(t.startDate),r=t.endDate?ub(t.endDate):new Date;i=i||bb(e,n.start)&&xb(e,n.end)||bb(r,n.start)&&xb(r,n.end)||xb(e,n.start)&&bb(r,n.end)}}return i&&e.total++,a&&e.completed++,e}),{total:0,completed:0}),s=a.total?Math.round(a.completed/a.total*100):0,d=t?Math.round(n/t*100):0,h=d-s;return{current:{total:t,completed:n,completion:d},previous:{total:a.total,completed:a.completed,completion:s},delta:{total:t-a.total,completed:n-a.completed,completion:h}}}),[c,u,e,i,l]),p=e=>{let{active:t,payload:n}=e;if(t&&n&&n.length){const e=n[0];return(0,iv.jsxs)("div",{className:"bg-white p-2 rounded-lg shadow-md",children:[(0,iv.jsx)("p",{className:"font-medium",children:e.name}),(0,iv.jsxs)("p",{children:[e.value," impegni (",(e.value/u.total*100).toFixed(1),"%)"]})]})}return null},m=e=>{let{payload:t}=e;return(0,iv.jsx)("div",{className:"flex justify-center space-x-4 mt-2",children:t.map(((e,t)=>(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)("span",{className:"inline-block w-3 h-3 mr-2 rounded-full",style:{backgroundColor:e.color}}),(0,iv.jsxs)("span",{className:"text-sm",children:[e.value," (",e.payload.value,")"]})]},`item-${t}`)))})},g=["#0d90e5","#9776ed","#e74694"];return(0,iv.jsxs)("div",{className:"space-y-6 pb-16",children:[(0,iv.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:[(0,iv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,iv.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Statistiche"}),(0,iv.jsx)("div",{children:(0,iv.jsxs)("div",{className:"relative period-dropdown",children:[(0,iv.jsxs)(qb,{variant:"outline",size:"sm",className:"flex items-center gap-2 px-3 period-dropdown",onClick:()=>n((e=>({...e,periodDropdown:!e.periodDropdown}))),children:[(0,iv.jsx)(hN,{className:"h-4 w-4"}),(0,iv.jsx)("span",{children:"day"===i?"Giorno":"week"===i?"Settimana":"month"===i?"Mese":"Anno"}),(0,iv.jsx)(uN,{className:"h-4 w-4"})]}),t.periodDropdown&&(0,iv.jsx)("div",{className:"absolute right-0 mt-1 w-36 rounded-md bg-white shadow-lg border border-gray-100 z-20",children:(0,iv.jsxs)("div",{className:"py-1",children:[(0,iv.jsxs)("button",{className:`flex items-center w-full px-4 py-2 text-sm ${"day"===i?"bg-gray-100 text-gray-900":"text-gray-700"} hover:bg-gray-50`,onClick:()=>{o("day"),n((e=>({...e,periodDropdown:!1})))},children:["day"===i&&(0,iv.jsx)(AN,{className:"h-4 w-4 mr-1"}),"Giorno"]}),(0,iv.jsxs)("button",{className:`flex items-center w-full px-4 py-2 text-sm ${"week"===i?"bg-gray-100 text-gray-900":"text-gray-700"} hover:bg-gray-50`,onClick:()=>{o("week"),n((e=>({...e,periodDropdown:!1})))},children:["week"===i&&(0,iv.jsx)(AN,{className:"h-4 w-4 mr-1"}),"Settimana"]}),(0,iv.jsxs)("button",{className:`flex items-center w-full px-4 py-2 text-sm ${"month"===i?"bg-gray-100 text-gray-900":"text-gray-700"} hover:bg-gray-50`,onClick:()=>{o("month"),n((e=>({...e,periodDropdown:!1})))},children:["month"===i&&(0,iv.jsx)(AN,{className:"h-4 w-4 mr-1"}),"Mese"]}),(0,iv.jsxs)("button",{className:`flex items-center w-full px-4 py-2 text-sm ${"year"===i?"bg-gray-100 text-gray-900":"text-gray-700"} hover:bg-gray-50`,onClick:()=>{o("year"),n((e=>({...e,periodDropdown:!1})))},children:["year"===i&&(0,iv.jsx)(AN,{className:"h-4 w-4 mr-1"}),"Anno"]})]})})]})})]}),(0,iv.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:(()=>{const e=new Date;switch(i){case"day":return sb(e,"EEEE d MMMM",{locale:xw});case"week":const t=jN(e,{locale:xw}),n=ON(e,{locale:xw});return`${sb(t,"d",{locale:xw})} - ${sb(n,"d MMMM",{locale:xw})}`;case"month":return sb(e,"MMMM yyyy",{locale:xw});case"year":return sb(e,"yyyy",{locale:xw});default:return"Tutto il periodo"}})()})]}),(0,iv.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,iv.jsxs)("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>a("overview"),children:[(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)(jK,{className:"h-5 w-5 mr-2 text-primary-500"}),(0,iv.jsx)("h2",{className:"text-lg font-semibold",children:"Panoramica Impegni"})]}),(0,iv.jsx)(qb,{variant:"ghost",size:"sm",className:"p-1",children:t.overview?(0,iv.jsx)(cN,{className:"h-5 w-5"}):(0,iv.jsx)(uN,{className:"h-5 w-5"})})]}),t.overview&&(0,iv.jsxs)("div",{className:"p-4 border-t",children:[(0,iv.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,iv.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:(0,iv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Impegni Totali"}),(0,iv.jsx)("p",{className:"text-2xl font-bold mt-1",children:u.total})]}),(0,iv.jsx)(nN,{className:"h-8 w-8 text-primary-500"})]})}),(0,iv.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:(0,iv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Completati"}),(0,iv.jsx)("p",{className:"text-2xl font-bold mt-1",children:u.completed})]}),(0,iv.jsx)(NK,{className:"h-8 w-8 text-primary-500"})]})}),(0,iv.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:(0,iv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Streak Attuale"}),(0,iv.jsx)("p",{className:"text-2xl font-bold mt-1",children:u.currentStreak})]}),(0,iv.jsx)(OK,{className:"h-8 w-8 text-tertiary-500"})]})}),(0,iv.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:(0,iv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Streak Massima"}),(0,iv.jsx)("p",{className:"text-2xl font-bold mt-1",children:u.maxStreak})]}),(0,iv.jsx)(CK,{className:"h-8 w-8 text-secondary-500"})]})})]}),(0,iv.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 mb-6",children:[(0,iv.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,iv.jsx)("h3",{className:"text-lg font-semibold",children:"Tasso di Completamento"}),(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)(dN,{className:"h-5 w-5 mr-2 text-primary-500"}),(0,iv.jsxs)("p",{className:"text-2xl font-bold",children:[u.completion,"%"]})]})]}),(0,iv.jsx)("div",{className:"mb-2 h-3 bg-gray-100 rounded-full",children:(0,iv.jsx)("div",{className:"h-full bg-primary-500 rounded-full transition-all duration-300",style:{width:`${u.completion}%`}})}),(0,iv.jsxs)("div",{className:"flex justify-between text-sm mt-4",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("span",{className:"text-gray-500",children:"Periodo precedente: "}),(0,iv.jsxs)("span",{className:"font-medium",children:[f.previous.completion,"%"]})]}),(0,iv.jsxs)("div",{className:"font-medium "+(f.delta.completion>=0?"text-emerald-500":"text-tertiary-500"),children:[f.delta.completion>0&&"+",f.delta.completion,"%"]})]})]}),(0,iv.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[(0,iv.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Distribuzione Impegni"}),u.total>0?(0,iv.jsx)("div",{className:"h-64",children:(0,iv.jsx)(BO,{width:"100%",height:"100%",children:(0,iv.jsxs)(yH,{children:[(0,iv.jsx)(mH,{data:d,cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"80%",fill:"#8884d8",paddingAngle:5,dataKey:"value",children:d.map(((e,t)=>(0,iv.jsx)(dV,{fill:g[t%g.length]},`cell-${t}`)))}),(0,iv.jsx)(WC,{content:(0,iv.jsx)(p,{})}),(0,iv.jsx)(aA,{content:(0,iv.jsx)(m,{})})]})})}):(0,iv.jsx)("div",{className:"flex justify-center items-center h-64 text-gray-400",children:(0,iv.jsx)("p",{children:"Nessun dato disponibile per il periodo selezionato"})})]})]})]}),(0,iv.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,iv.jsxs)("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>a("timeline"),children:[(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)(_K,{className:"h-5 w-5 mr-2 text-primary-500"}),(0,iv.jsx)("h2",{className:"text-lg font-semibold",children:"Analisi Temporale"})]}),(0,iv.jsx)(qb,{variant:"ghost",size:"sm",className:"p-1",children:t.timeline?(0,iv.jsx)(cN,{className:"h-5 w-5"}):(0,iv.jsx)(uN,{className:"h-5 w-5"})})]}),t.timeline&&(0,iv.jsxs)("div",{className:"p-4 border-t",children:[(0,iv.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 mb-6",children:[(0,iv.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Trend di Completamento"}),(0,iv.jsx)("div",{className:"h-64",children:(0,iv.jsx)(BO,{width:"100%",height:"100%",children:(0,iv.jsxs)(sK,{data:h,margin:{top:10,right:10,left:0,bottom:0},children:[(0,iv.jsx)(TK,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,iv.jsx)(iK,{dataKey:"date",tick:{fontSize:12}}),(0,iv.jsx)(aK,{tick:{fontSize:12},allowDecimals:!1}),(0,iv.jsx)(WC,{formatter:e=>[`${e} impegni`,"Completati"],labelFormatter:e=>`${e}`}),(0,iv.jsx)(PH,{type:"monotone",dataKey:"completati",name:"Completati",stroke:"#0d90e5",fill:"#0d90e5",fillOpacity:.1}),(0,iv.jsx)(k$,{y:h.reduce(((e,t)=>e+t.completati),0)/h.length,stroke:"#9776ed",strokeDasharray:"3 3",label:{value:"Media",position:"insideBottomRight",fill:"#9776ed",fontSize:10}})]})})})]}),(0,iv.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[(0,iv.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Distribuzione Settimanale"}),(0,iv.jsx)(LK,{tasks:e})]})]})]}),(0,iv.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,iv.jsxs)("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>a("behavior"),children:[(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)(Zj,{className:"h-5 w-5 mr-2 text-primary-500"}),(0,iv.jsx)("h2",{className:"text-lg font-semibold",children:"Analisi Comportamento"})]}),(0,iv.jsx)(qb,{variant:"ghost",size:"sm",className:"p-1",children:t.behavior?(0,iv.jsx)(cN,{className:"h-5 w-5"}):(0,iv.jsx)(uN,{className:"h-5 w-5"})})]}),t.behavior&&(0,iv.jsx)("div",{className:"p-4 border-t",children:(0,iv.jsx)(sG,{tasks:c,allTasks:e,period:i})})]}),(0,iv.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,iv.jsxs)("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>a("insights"),children:[(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)(AK,{className:"h-5 w-5 mr-2 text-primary-500"}),(0,iv.jsx)("h2",{className:"text-lg font-semibold",children:"Insights e Suggerimenti"})]}),(0,iv.jsx)(qb,{variant:"ghost",size:"sm",className:"p-1",children:t.insights?(0,iv.jsx)(cN,{className:"h-5 w-5"}):(0,iv.jsx)(uN,{className:"h-5 w-5"})})]}),t.insights&&(0,iv.jsx)("div",{className:"p-4 border-t",children:(0,iv.jsx)(hG,{tasks:e,counters:[],counterEntries:[]})})]})]})},pG=Bb("relative w-full rounded-lg border p-4",{variants:{variant:{default:"bg-white text-gray-950 border-gray-200",destructive:"border-red-500/50 text-red-500 bg-red-50",warning:"border-yellow-500/50 text-yellow-700 bg-yellow-50",success:"border-green-500/50 text-green-700 bg-green-50"}},defaultVariants:{variant:"default"}}),mG=r.forwardRef(((e,t)=>{let{className:n,variant:r,...i}=e;return(0,iv.jsx)("div",{ref:t,role:"alert",className:pG({variant:r,className:n}),...i})}));mG.displayName="Alert";r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,iv.jsx)("h5",{ref:t,className:"mb-1 font-medium leading-none tracking-tight",...r})})).displayName="AlertTitle";const gG=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,iv.jsx)("div",{ref:t,className:"text-sm [&_p]:leading-relaxed",...r})}));gG.displayName="AlertDescription";const yG=Ib("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),vG=Ib("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);function bG(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function wG(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function xG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=wG(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():wG(t[e],null)}}}}function SG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t[0];if(1===t.length)return i;const o=()=>{const e=t.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(t){const n=e.reduce(((e,n)=>{let{useScope:r,scopeName:i}=n;return{...e,...r(t)[`__scope${i}`]}}),{});return r.useMemo((()=>({[`__scope${i.scopeName}`]:n})),[n])}};return o.scopeName=i.scopeName,o}function kG(e){const t=r.useRef(e);return r.useEffect((()=>{t.current=e})),r.useMemo((()=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current?.(...n)}),[])}function EG(e){let{prop:t,defaultProp:n,onChange:i=()=>{}}=e;const[o,a]=function(e){let{defaultProp:t,onChange:n}=e;const i=r.useState(t),[o]=i,a=r.useRef(o),s=kG(n);return r.useEffect((()=>{a.current!==o&&(s(o),a.current=o)}),[o,a,s]),i}({defaultProp:n,onChange:i}),s=void 0!==t,l=s?t:o,c=kG(i);return[l,r.useCallback((e=>{if(s){const n="function"===typeof e?e(t):e;n!==t&&c(n)}else a(e)}),[s,t,a,c])]}var TG=Boolean(globalThis?.document)?r.useLayoutEffect:()=>{};var jG=r.forwardRef(((e,t)=>{const{children:n,...i}=e,o=r.Children.toArray(n),a=o.find(CG);if(a){const e=a.props.children,n=o.map((t=>t===a?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t));return(0,iv.jsx)(NG,{...i,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,iv.jsx)(NG,{...i,ref:t,children:n})}));jG.displayName="Slot";var NG=r.forwardRef(((e,t)=>{const{children:n,...i}=e;if(r.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),o=function(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=function(){o(...arguments),i(...arguments)}:i&&(n[r]=i):"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}(i,n.props);return n.type!==r.Fragment&&(o.ref=t?xG(t,e):e),r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null}));NG.displayName="SlotClone";var OG=e=>{let{children:t}=e;return(0,iv.jsx)(iv.Fragment,{children:t})};function CG(e){return r.isValidElement(e)&&e.type===OG}var _G=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=r.forwardRef(((e,n)=>{const{asChild:r,...i}=e,o=r?jG:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,iv.jsx)(o,{...i,ref:n})}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});var AG="Switch",[PG,IG]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const i=()=>{const t=n.map((e=>r.createContext(e)));return function(n){const i=n?.[e]||t;return r.useMemo((()=>({[`__scope${e}`]:{...n,[e]:i}})),[n,i])}};return i.scopeName=e,[function(t,i){const o=r.createContext(i),a=n.length;n=[...n,i];const s=t=>{const{scope:n,children:i,...s}=t,l=n?.[e]?.[a]||o,c=r.useMemo((()=>s),Object.values(s));return(0,iv.jsx)(l.Provider,{value:c,children:i})};return s.displayName=t+"Provider",[s,function(n,s){const l=s?.[e]?.[a]||o,c=r.useContext(l);if(c)return c;if(void 0!==i)return i;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},SG(i,...t)]}(AG),[DG,MG]=PG(AG),RG=r.forwardRef(((e,t)=>{const{__scopeSwitch:n,name:i,checked:o,defaultChecked:a,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=r.useState(null),m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(xG(...t),t)}(t,(e=>p(e))),g=r.useRef(!1),y=!f||(d||!!f.closest("form")),[v=!1,b]=EG({prop:o,defaultProp:a,onChange:u});return(0,iv.jsxs)(DG,{scope:n,checked:v,disabled:l,children:[(0,iv.jsx)(_G.button,{type:"button",role:"switch","aria-checked":v,"aria-required":s,"data-state":zG(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:m,onClick:bG(e.onClick,(e=>{b((e=>!e)),y&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())}))}),y&&(0,iv.jsx)(UG,{control:f,bubbles:!g.current,name:i,value:c,checked:v,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})}));RG.displayName=AG;var LG="SwitchThumb",FG=r.forwardRef(((e,t)=>{const{__scopeSwitch:n,...r}=e,i=MG(LG,n);return(0,iv.jsx)(_G.span,{"data-state":zG(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})}));FG.displayName=LG;var UG=e=>{const{control:t,checked:n,bubbles:i=!0,...o}=e,a=r.useRef(null),s=function(e){const t=r.useRef({value:e,previous:e});return r.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}(n),l=function(e){const[t,n]=r.useState(void 0);return TG((()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,o;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,o=t.blockSize}else i=e.offsetWidth,o=e.offsetHeight;n({width:i,height:o})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}(t);return r.useEffect((()=>{const e=a.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(s!==n&&r){const t=new Event("click",{bubbles:i});r.call(e,n),e.dispatchEvent(t)}}),[s,n,i]),(0,iv.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function zG(e){return e?"checked":"unchecked"}var VG=RG,BG=FG;const $G=r.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,iv.jsx)(VG,{className:"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary-500 data-[state=unchecked]:bg-gray-200",...r,ref:t,children:(0,iv.jsx)(BG,{className:"pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"})})}));$G.displayName=VG.displayName;const qG=Ib("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),WG=Ib("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);class HG{constructor(){this.isNotificationsSupported=!1,this.isPermissionGranted=!1,this.swRegistration=null,this.applicationServerKey="BFIXkm6BMHBkE3thQmqy2-3rX5U37a2zl6gC5axp6y4oMXFT71hQWBY3HcR12dE3BAnY6YaZRvvHgcDSKGNLKQE",this.pushSubscription=null,this.tasks=[],this.timers=new Map,this.handleServiceWorkerMessage=e=>{console.log("Messaggio ricevuto dal service worker:",e.data);const t=e.data;"complete-task"===t.action&&t.taskId&&console.log("Completamento task richiesto:",t.taskId),"snooze-task"===t.action&&t.taskId&&console.log("Posticipare il task richiesto:",t.taskId,"per",t.minutes,"minuti"),"feedback"===t.action&&t.taskId&&console.log("Feedback ricevuto per il task:",t.taskId,"valore:",t.feedback)},this.isNotificationsSupported="Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window,this.initializeServiceWorker(),this.isNotificationsSupported&&(this.isPermissionGranted="granted"===Notification.permission)}static getInstance(){return HG.instance||(HG.instance=new HG),HG.instance}async initializeServiceWorker(){if(this.isNotificationsSupported)try{this.swRegistration=await navigator.serviceWorker.ready,this.pushSubscription=await this.swRegistration.pushManager.getSubscription(),navigator.serviceWorker.addEventListener("message",this.handleServiceWorkerMessage),console.log("Service worker inizializzato per le notifiche push")}catch(e){console.error("Errore durante l'inizializzazione del service worker:",e)}}areNotificationsSupported(){return this.isNotificationsSupported}isNotificationPermissionGranted(){return this.isPermissionGranted}async requestPermission(){if(!this.isNotificationsSupported)return console.log("Le notifiche non sono supportate su questo browser/dispositivo"),!1;try{const e=await Notification.permission;if("granted"===e)return this.isPermissionGranted=!0,!0;if("default"===e){const e=await Notification.requestPermission();return this.isPermissionGranted="granted"===e,this.isPermissionGranted}return!1}catch(e){return console.error("Errore durante la richiesta del permesso per le notifiche:",e),!1}}async subscribeToPushNotifications(e){if(!this.isNotificationsSupported||!this.swRegistration)return!1;try{if(!this.isPermissionGranted){if(!await this.requestPermission())return!1}if(this.pushSubscription)return!0;this.pushSubscription=await this.swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(this.applicationServerKey)});return await this.saveSubscriptionToServer(e,this.pushSubscription)}catch(t){return console.error("Errore durante la sottoscrizione alle notifiche push:",t),!1}}async unsubscribeFromPushNotifications(e){if(!this.pushSubscription)return!0;try{const t=await this.pushSubscription.unsubscribe();return t&&(await this.deleteSubscriptionFromServer(e,this.pushSubscription),this.pushSubscription=null),t}catch(t){return console.error("Errore durante la disiscrizione dalle notifiche push:",t),!1}}async saveSubscriptionToServer(e,t){try{console.log(`Salvataggio sottoscrizione push per l'utente ${e}`,{endpoint:t.endpoint.substring(0,50)+"..."});const n=await fetch("http://localhost:5000/api/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,subscription:t})});if(!n.ok)throw new Error(`Errore HTTP: ${n.status}`);return console.log(`Sottoscrizione push per l'utente ${e} salvata con successo`),!0}catch(n){return console.error("Errore durante il salvataggio della sottoscrizione sul server:",n),!1}}async deleteSubscriptionFromServer(e,t){try{console.log(`Eliminazione sottoscrizione push per l'utente ${e}`);const t=await fetch("http://localhost:5000/api/subscriptions",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!t.ok)throw new Error(`Errore HTTP: ${t.status}`);return console.log(`Sottoscrizione push per l'utente ${e} eliminata con successo`),!0}catch(n){return console.error("Errore durante l'eliminazione della sottoscrizione dal server:",n),!1}}async showLocalNotification(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!this.isNotificationsSupported||!this.isPermissionGranted||!this.swRegistration)return!1;try{const i={body:t,icon:"/logo192.png",badge:"/favicon.ico",tag:n.tag||"default",data:n||{},vibrate:[100,50,100],actions:r,requireInteraction:!0};return await this.swRegistration.showNotification(e,i),!0}catch(i){return console.error("Errore durante la visualizzazione della notifica locale:",i),!1}}async sendPushNotification(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"system",i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];try{console.log("Invio notifica push:",{userId:e,title:t,body:n,type:r});const a={type:r,relatedId:i,userId:e,tag:`${r}-${Date.now()}`,timestamp:(new Date).toISOString()};if("visible"===document.visibilityState&&this.swRegistration)return await this.showLocalNotification(t,n,a,o),!0;const s=await fetch("http://localhost:5000/api/send-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,title:t,body:n,data:a,actions:o})});if(!s.ok){const a=await s.json();if(404===s.status&&this.isPermissionGranted&&this.swRegistration)return console.log("Sottoscrizione non trovata, provo a crearne una nuova..."),await this.subscribeToPushNotifications(e),this.sendPushNotification(e,t,n,r,i,o);throw new Error(`Errore HTTP: ${s.status}, ${a.error||"Errore sconosciuto"}`)}return console.log(`Notifica push inviata con successo all'utente ${e}`),!0}catch(a){if(console.error("Errore durante l'invio della notifica push:",a),"visible"===document.visibilityState&&this.swRegistration)try{const a={type:r,relatedId:i,userId:e};return await this.showLocalNotification(t,n,a,o),!0}catch(s){console.error("Anche la notifica locale \xe8 fallita:",s)}return!1}}updateTasks(e){if(this.clearAllNotifications(),this.tasks=e,!this.isNotificationsSupported||!this.isPermissionGranted)return;new Date;e.forEach((e=>{e.notifyBefore&&("oneTime"===e.type&&e.isCompleted||("oneTime"===e.type?this.scheduleOneTimeTaskNotification(e):"routine"===e.type&&this.scheduleRoutineTaskNotification(e)))}))}scheduleOneTimeTaskNotification(e){if(!e.date||!e.time)return;const t=new Date(`${e.date}T${e.time}`),n=this.calculateNotificationTime(t,e),r=new Date;if(n<=r)return;const i=n.getTime()-r.getTime(),o=setTimeout((()=>{this.sendTaskNotification(e)}),i);this.timers.set(e.id,o)}scheduleRoutineTaskNotification(e){if(!e.time)return;const t=this.getNextOccurrenceDate(e);if(!t)return;const[n,r]=e.time.split(":").map(Number);t.setHours(n,r,0,0);const i=this.calculateNotificationTime(t,e),o=new Date;if(i<=o)return;const a=i.getTime()-o.getTime(),s=setTimeout((()=>{this.sendTaskNotification(e),this.scheduleRoutineTaskNotification(e)}),a);this.timers.set(`${e.id}_${t.toISOString()}`,s)}calculateNotificationTime(e,t){let n=6e5;return t.notifyInAdvance&&t.notifyInAdvance>0&&(n="hours"===t.notifyTimeUnit?60*t.notifyInAdvance*60*1e3:60*t.notifyInAdvance*1e3),new Date(e.getTime()-n)}getNextOccurrenceDate(e){const t=new Date;return t.setDate(t.getDate()+1),t}async sendTaskNotification(e){if(!this.isNotificationsSupported||!this.isPermissionGranted)return;if("oneTime"===e.type&&e.isCompleted)return;if("routine"===e.type){var t;const n=sb(new Date,"yyyy-MM-dd");if(null!==(t=e.completedDates)&&void 0!==t&&t.includes(n))return}const n=[{action:"complete-task",title:"Completato",icon:"/action-icons/check.png"},{action:"snooze",title:"Posticipa 15m",icon:"/action-icons/snooze.png"}];e.collectFeedback&&n.push({action:"feedback-good",title:"\ud83d\ude0a",icon:"/action-icons/good.png"},{action:"feedback-neutral",title:"\ud83d\ude10",icon:"/action-icons/neutral.png"},{action:"feedback-bad",title:"\ud83d\ude1e",icon:"/action-icons/bad.png"});let r="Promemoria",i=e.title;e.notifyInAdvance&&e.notifyInAdvance>0&&(r="hours"===e.notifyTimeUnit?1===e.notifyInAdvance?"Promemoria (tra 1 ora)":`Promemoria (tra ${e.notifyInAdvance} ore)`:1===e.notifyInAdvance?"Promemoria (tra 1 minuto)":`Promemoria (tra ${e.notifyInAdvance} minuti)`);e.id,e.id,sb(new Date,"yyyy-MM-dd"),e.id,(new Date).toISOString().split("T")[0];await this.sendPushNotification("current-user",r,i,"task",e.id,n)}clearAllNotifications(){this.timers.forEach((e=>{clearTimeout(e)})),this.timers.clear()}clearTaskNotification(e){this.timers.forEach(((t,n)=>{(n===e||n.startsWith(`${e}_`))&&(clearTimeout(t),this.timers.delete(n))}))}urlBase64ToUint8Array(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}}HG.instance=void 0;const KG=HG,GG=()=>{const{currentUser:e,isPushNotificationsEnabled:t,enablePushNotifications:n,disablePushNotifications:i}=av(),{createSystemNotification:o}=Cb(),[a,s]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(30),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(!1),[S,k]=(0,r.useState)(!1),E=Tb.getInstance(),T=kb.getInstance(),j=KG.getInstance();(0,r.useEffect)((()=>{(async()=>{const e=j.areNotificationsSupported();k(e);const t=j.isNotificationPermissionGranted();d(t);const n=await T.areNotificationsEnabled();c(n),y(n)})()}),[]),(0,r.useEffect)((()=>{}),[e]);return(0,iv.jsx)(Yj.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,iv.jsxs)(rG,{className:"mb-6",children:[(0,iv.jsx)(iG,{children:(0,iv.jsxs)(oG,{className:"text-xl flex items-center gap-2",children:[(0,iv.jsx)(Gb,{className:"h-5 w-5 text-primary-500"}),"Impostazioni notifiche"]})}),(0,iv.jsxs)(aG,{className:"space-y-6",children:[(0,iv.jsxs)("div",{className:"space-y-4",children:[(0,iv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,iv.jsxs)("div",{className:"space-y-0.5",children:[(0,iv.jsx)("h3",{className:"text-base font-medium",children:"Notifiche in-app"}),(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Ricevi notifiche all'interno dell'applicazione"})]}),(0,iv.jsx)($G,{checked:a,onCheckedChange:async e=>{s(e),e&&await o("Notifiche abilitate","Le notifiche in-app sono state abilitate con successo")}})]}),(0,iv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,iv.jsxs)("div",{className:"space-y-0.5",children:[(0,iv.jsx)("h3",{className:"text-base font-medium",children:"Notifiche browser"}),(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Ricevi notifiche quando il browser \xe8 aperto"})]}),(0,iv.jsx)($G,{checked:l,onCheckedChange:async e=>{if(e){const e=await T.requestPermission();y(e),c(e),e&&new Notification("Notifiche abilitate",{body:"Le notifiche del browser sono state abilitate con successo",icon:"/logo.svg"})}else c(!1)},disabled:!("Notification"in window)})]}),(0,iv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,iv.jsxs)("div",{className:"space-y-0.5",children:[(0,iv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,iv.jsx)("h3",{className:"text-base font-medium",children:"Notifiche push"}),!S&&(0,iv.jsx)("div",{className:"tooltip","data-tip":"Le notifiche push non sono supportate in questo browser o dispositivo",children:(0,iv.jsx)(lG,{className:"h-4 w-4 text-amber-500"})})]}),(0,iv.jsxs)("p",{className:"text-sm text-gray-500",children:["Ricevi notifiche anche quando l'app non \xe8 aperta",!S&&(0,iv.jsx)("span",{className:"text-amber-500 block mt-1",children:"Non supportate in questo browser/dispositivo"})]})]}),(0,iv.jsx)($G,{checked:u,onCheckedChange:async t=>{if(e)if(t){x(!0);try{if(await j.requestPermission()){const t=await j.subscribeToPushNotifications(e.uid);if(d(t),t){if("function"===typeof n)try{await n()}catch(r){console.error("Errore durante l'abilitazione delle notifiche push nel contesto auth:",r)}await j.sendPushNotification(e.uid,"Notifiche push abilitate","Le notifiche push sono state abilitate con successo. Riceverai notifiche anche quando l'app non \xe8 aperta.","system"),await o("Notifiche push abilitate","Le notifiche push sono state abilitate con successo")}}else d(!1)}catch(r){console.error("Errore durante l'abilitazione delle notifiche push:",r),d(!1)}finally{x(!1)}}else try{await j.unsubscribeFromPushNotifications(e.uid),d(!1),await o("Notifiche push disabilitate","Le notifiche push sono state disabilitate")}catch(r){console.error("Errore durante la disabilitazione delle notifiche push:",r)}},disabled:!S||w})]}),(0,iv.jsx)("div",{className:"pt-2",children:(0,iv.jsx)(qb,{variant:"outline",size:"sm",onClick:async()=>{e&&(a&&await o("Notifica di test","Questa \xe8 una notifica di test in-app"),l&&g&&new Notification("Notifica di test",{body:"Questa \xe8 una notifica di test del browser",icon:"/logo.svg"}),u&&await j.sendPushNotification(e.uid,"Notifica push di test","Questa \xe8 una notifica push di test","system",void 0,[{action:"feedback-good",title:"\ud83d\ude0a",icon:"/action-icons/good.png"},{action:"feedback-neutral",title:"\ud83d\ude10",icon:"/action-icons/neutral.png"},{action:"feedback-bad",title:"\ud83d\ude1e",icon:"/action-icons/bad.png"}]))},disabled:!a&&!l&&!u,children:"Invia notifica di test"})})]}),u&&(0,iv.jsx)("div",{className:"bg-primary-50 p-4 rounded-lg border border-primary-100",children:(0,iv.jsxs)("div",{className:"flex gap-3",children:[(0,iv.jsx)(qG,{className:"h-5 w-5 text-primary-500 flex-shrink-0 mt-0.5"}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("h4",{className:"text-sm font-medium text-primary-700",children:"Notifiche push attive"}),(0,iv.jsx)("p",{className:"text-xs text-primary-600 mt-1",children:"Riceverai notifiche anche quando l'app non \xe8 aperta nel browser. Per disabilitarle, disattiva l'interruttore sopra."})]})]})}),(0,iv.jsxs)("div",{className:"border-t border-gray-100 pt-5",children:[(0,iv.jsx)("h3",{className:"text-base font-medium mb-3",children:"Gestione notifiche"}),(0,iv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,iv.jsxs)("div",{className:"space-y-2",children:[(0,iv.jsx)("label",{htmlFor:"deleteAfter",className:"text-sm text-gray-600 block",children:"Elimina notifiche vecchie dopo:"}),(0,iv.jsxs)("select",{id:"deleteAfter",value:h,onChange:e=>{f(Number(e.target.value))},className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-400",children:[(0,iv.jsx)("option",{value:7,children:"7 giorni"}),(0,iv.jsx)("option",{value:14,children:"14 giorni"}),(0,iv.jsx)("option",{value:30,children:"30 giorni"}),(0,iv.jsx)("option",{value:60,children:"60 giorni"}),(0,iv.jsx)("option",{value:90,children:"90 giorni"})]})]}),(0,iv.jsx)("div",{className:"flex items-end",children:(0,iv.jsx)(qb,{variant:"outline",size:"default",onClick:async()=>{if(e){m(!0);try{const t=await E.deleteOldNotifications(e.uid,h);await o("Notifiche eliminate",`Sono state eliminate ${t} notifiche vecchie`)}catch(t){console.error("Errore durante l'eliminazione delle notifiche vecchie:",t)}finally{m(!1)}}},isLoading:p,leftIcon:(0,iv.jsx)(WG,{className:"h-4 w-4"}),children:"Elimina notifiche vecchie"})})]}),(0,iv.jsx)("div",{className:"mt-4",children:(0,iv.jsx)(qb,{variant:"destructive",size:"default",onClick:async()=>{if(e){b(!0);try{await E.deleteAllUserNotifications(e.uid),await o("Notifiche eliminate","Tutte le notifiche sono state eliminate")}catch(t){console.error("Errore durante l'eliminazione di tutte le notifiche:",t)}finally{b(!1)}}},isLoading:v,children:"Elimina tutte le notifiche"})})]})]})]})})},YG=()=>{const{resetDailyCounters:e,tasks:t,counters:n,resetAllData:i,resetAllCounters:o,isLoading:a}=Cb(),{currentUser:s,logout:l,updateUserProfile:c}=av(),{darkMode:u,toggleDarkMode:d}=oN(),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)((null===s||void 0===s?void 0:s.displayName)||""),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(""),[w,x]=(0,r.useState)(""),[S,k]=(0,r.useState)(!1);return a?(0,iv.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Caricamento..."}):(0,iv.jsxs)("div",{className:"pb-20 pt-16",children:[(0,iv.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Impostazioni"}),(0,iv.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:[(0,iv.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Profilo Utente"}),v&&(0,iv.jsx)(mG,{variant:"destructive",className:"mb-4",children:(0,iv.jsx)(gG,{children:v})}),w&&(0,iv.jsx)(mG,{variant:"success",className:"mb-4",children:(0,iv.jsx)(gG,{children:w})}),g?(0,iv.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(b(""),x(""),""===p.trim())return b("Il nome non pu\xf2 essere vuoto");await c(p),x("Profilo aggiornato con successo"),y(!1)}catch(t){b("Impossibile aggiornare il profilo"),console.error("Update profile failed",t)}},className:"space-y-4",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),(0,iv.jsx)("input",{id:"displayName",type:"text",value:p,onChange:e=>m(e.target.value),className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,iv.jsxs)("div",{className:"flex space-x-2",children:[(0,iv.jsx)(qb,{type:"submit",children:"Salva"}),(0,iv.jsx)(qb,{type:"button",variant:"outline",onClick:()=>{y(!1),m((null===s||void 0===s?void 0:s.displayName)||"")},children:"Annulla"})]})]}):(0,iv.jsxs)("div",{className:"space-y-4",children:[(0,iv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,iv.jsx)("p",{children:null===s||void 0===s?void 0:s.email})]}),(0,iv.jsx)(Mb,{className:"h-5 w-5 text-gray-400"})]}),(0,iv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Nome"}),(0,iv.jsx)("p",{children:(null===s||void 0===s?void 0:s.displayName)||"Non impostato"})]}),(0,iv.jsx)(qb,{variant:"outline",size:"sm",onClick:()=>y(!0),children:"Modifica"})]})]})]}),(0,iv.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:[(0,iv.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,iv.jsxs)("h2",{className:"text-lg font-semibold flex items-center",children:[(0,iv.jsx)(Gb,{className:"h-5 w-5 mr-2 text-primary-500"}),"Notifiche"]}),(0,iv.jsx)(qb,{variant:"outline",size:"sm",onClick:()=>k(!S),children:S?"Nascondi impostazioni":"Mostra impostazioni"})]}),S&&(0,iv.jsx)(GG,{})]}),(0,iv.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:[(0,iv.jsxs)("h2",{className:"text-lg font-semibold mb-3 flex items-center",children:[u?(0,iv.jsx)(yG,{className:"h-5 w-5 mr-2 text-primary-500"}):(0,iv.jsx)(vG,{className:"h-5 w-5 mr-2 text-primary-500"}),"Tema"]}),(0,iv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"font-medium",children:u?"Tema scuro":"Tema chiaro"}),(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Cambia l'aspetto dell'app"})]}),(0,iv.jsx)(qb,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-2",children:u?(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsx)(vG,{className:"h-4 w-4"}),(0,iv.jsx)("span",{children:"Tema chiaro"})]}):(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsx)(yG,{className:"h-4 w-4"}),(0,iv.jsx)("span",{children:"Tema scuro"})]})})]})]}),(0,iv.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:[(0,iv.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Statistiche"}),(0,iv.jsxs)("div",{className:"space-y-2",children:[(0,iv.jsxs)("p",{children:["Impegni totali: ",t.length]}),(0,iv.jsxs)("p",{children:["Contatori attivi: ",n.length]}),(0,iv.jsxs)("p",{children:["Account creato: ",null!==s&&void 0!==s&&s.metadata.creationTime?new Date(s.metadata.creationTime).toLocaleDateString("it-IT"):"N/A"]})]})]}),(0,iv.jsxs)("div",{className:"space-y-4",children:[(0,iv.jsx)(Yj.div,{whileTap:{scale:.98},className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,iv.jsxs)(qb,{variant:"ghost",className:"w-full p-4 flex items-center justify-between text-left",onClick:()=>e(),children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"font-medium",children:"Reset Contatori Giornalieri"}),(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Azzera tutti i contatori giornalieri"})]}),(0,iv.jsx)(wN,{className:"h-5 w-5"})]})}),(0,iv.jsx)(Yj.div,{whileTap:{scale:.98},className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,iv.jsxs)(qb,{variant:"ghost",className:"w-full p-4 flex items-center justify-between text-left",onClick:()=>o(),children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"font-medium text-amber-600",children:"Elimina tutti i contatori"}),(0,iv.jsx)("p",{className:"text-sm text-amber-400",children:"Rimuovi solo tutti i contatori"})]}),(0,iv.jsx)(pN,{className:"h-5 w-5 text-amber-600"})]})}),(0,iv.jsx)(Yj.div,{whileTap:{scale:.98},className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,iv.jsxs)(qb,{variant:"ghost",className:"w-full p-4 flex items-center justify-between text-left "+(h?"bg-red-50":""),onClick:async()=>{h?(await i(),f(!1)):f(!0)},children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"font-medium text-red-600",children:h?"Conferma eliminazione":"Elimina tutti i dati"}),(0,iv.jsx)("p",{className:"text-sm text-red-400",children:h?"Clicca di nuovo per confermare":"Rimuovi tutti gli impegni e i contatori"})]}),(0,iv.jsx)(pN,{className:"h-5 w-5 text-red-600"})]})}),(0,iv.jsx)(Yj.div,{whileTap:{scale:.98},className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,iv.jsxs)(qb,{variant:"ghost",className:"w-full p-4 flex items-center justify-between text-left",onClick:async()=>{try{await l()}catch(e){console.error("Logout failed",e)}},children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"font-medium",children:"Esci"}),(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:"Disconnetti questo account"})]}),(0,iv.jsx)(Lb,{className:"h-5 w-5"})]})})]}),(0,iv.jsxs)("div",{className:"mt-8 text-center text-sm text-gray-500",children:[(0,iv.jsx)("p",{children:"MyRoutine v1.0.0"}),(0,iv.jsx)("p",{className:"mt-1",children:"Sviluppato con \u2764\ufe0f"})]})]})},XG=Ib("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),QG=Ib("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function JG(e,t){return cv(2,arguments),wb(e,7*hv(t))}Yj.div;const ZG=e=>{let{children:t}=e;return(0,iv.jsx)(Yj.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:t})},eY=[{id:"mon",label:"Lun"},{id:"tue",label:"Mar"},{id:"wed",label:"Mer"},{id:"thu",label:"Gio"},{id:"fri",label:"Ven"},{id:"sat",label:"Sab"},{id:"sun",label:"Dom"}],tY=Array.from({length:31},((e,t)=>({id:(t+1).toString(),label:(t+1).toString()}))),nY=[{id:"custom",label:"Personalizzata"},{id:"oneWeek",label:"1 Settimana"},{id:"twoWeek",label:"2 Settimane"},{id:"threeWeek",label:"3 Settimane"},{id:"oneMonth",label:"1 Mese"},{id:"twoMonth",label:"2 Mesi"},{id:"threeMonths",label:"3 Mesi"},{id:"sixMonths",label:"6 Mesi"},{id:"oneYear",label:"1 Anno"}],rY=[{value:"weekly",label:"Ogni settimana"},{value:"biweekly",label:"Ogni 2 settimane"},{value:"monthly",label:"Ogni mese"},{value:"custom",label:"Personalizzata"}],iY=[{value:"days",label:"giorni"},{value:"weeks",label:"settimane"},{value:"months",label:"mesi"}],oY=[{value:5,label:"5 minuti prima"},{value:10,label:"10 minuti prima"},{value:15,label:"15 minuti prima"},{value:30,label:"30 minuti prima"},{value:60,label:"1 ora prima"},{value:120,label:"2 ore prima"},{value:1440,label:"1 giorno prima"},{value:-1,label:"Personalizzato"}],aY=[{value:"minutes",label:"minuti"},{value:"hours",label:"ore"}],sY=e=>{let{onSubmit:t,isDialog:n=!1,onClose:i}=e;const o=J(),{setShowFooter:a}=oN();(0,r.useEffect)((()=>{if(!n)return a(!1),()=>a(!0)}),[n,a]);const[s,l]=(0,r.useState)({title:"",description:"",type:"routine",time:"",date:"",weekdays:[],monthDay:gN(new Date),startDate:sb(new Date,"yyyy-MM-dd"),endDate:"",durationType:"custom",notifyBefore:!1,notifyOption:10,notifyInAdvance:10,notifyTimeUnit:"minutes",customNotifyTime:"",recurrenceType:"weekly",recurrenceInterval:1,recurrenceUnit:"weeks",interactionState:{hasChangedRecurrenceUnit:!1}}),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(s.startDate){const e=gN(new Date(s.startDate));l((t=>({...t,monthDay:e})))}}),[s.startDate]),(0,r.useEffect)((()=>{(async()=>{const e=kb.getInstance(),t=await e.requestPermission();u(t)})()}),[]);const f=e=>{l((t=>({...t,weekdays:t.weekdays.includes(e)?t.weekdays.filter((t=>t!==e)):[...t.weekdays,e]})))},p=e=>{l((t=>({...t,monthDay:e})))},m=e=>{const t=new Date(s.startDate);let n=t;switch(e){case"oneWeek":n=JG(t,1);break;case"twoWeek":n=JG(t,2);break;case"threeWeek":n=JG(t,3);break;case"oneMonth":n=CN(t,1);break;case"twoMonth":n=CN(t,2);break;case"threeMonths":n=CN(t,3);break;case"sixMonths":n=CN(t,6);break;case"oneYear":n=function(e,t){return cv(2,arguments),CN(e,12*hv(t))}(t,1)}l((t=>({...t,durationType:e,endDate:"custom"===e?t.endDate:sb(n,"yyyy-MM-dd")})))},g=()=>{l((e=>({...e,notifyBefore:!e.notifyBefore})))},y=e=>{if(-1===e)return h(!0),void l((t=>({...t,notifyOption:e})));h(!1);let t=e,n="minutes";e>=60&&e%60===0&&(t=e/60,n="hours"),l((r=>({...r,notifyOption:e,notifyInAdvance:t,notifyTimeUnit:n})))},v=e=>{l((t=>({...t,customNotifyTime:e,notifyInAdvance:parseInt(e)||t.notifyInAdvance})))},b=e=>{l((t=>({...t,notifyTimeUnit:e})))},w=e=>{l((t=>{let n=t.recurrenceInterval,r=t.recurrenceUnit,i=t.weekdays;return"weekly"===e?(n=1,r="weeks"):"biweekly"===e?(n=2,r="weeks"):"monthly"===e?(n=1,r="months",i=[]):"custom"===e&&"custom"!==t.recurrenceType&&(n=1,t.interactionState.hasChangedRecurrenceUnit||(r="weekly"===t.recurrenceType||"biweekly"===t.recurrenceType?"weeks":"monthly"===t.recurrenceType?"months":"days")),{...t,recurrenceType:e,recurrenceInterval:n,recurrenceUnit:r,weekdays:i}}))},x=e=>{e.preventDefault();const r={title:s.title,type:s.type,time:s.time,date:"oneTime"===s.type?s.date:void 0,startDate:"routine"===s.type?s.startDate:void 0,endDate:"routine"===s.type?s.endDate:void 0,notifyBefore:s.notifyBefore,notifyInAdvance:s.notifyBefore?s.notifyInAdvance:void 0,notifyTimeUnit:s.notifyBefore?s.notifyTimeUnit:void 0,recurrenceType:"routine"===s.type?s.recurrenceType:void 0,recurrenceInterval:"routine"===s.type?s.recurrenceInterval:void 0,recurrenceUnit:"routine"===s.type?s.recurrenceUnit:void 0};"routine"===s.type&&("weekly"===s.recurrenceType||"biweekly"===s.recurrenceType||"custom"===s.recurrenceType&&"weeks"===s.recurrenceUnit)&&(r.weekdays=s.weekdays),"routine"===s.type&&("monthly"===s.recurrenceType||"custom"===s.recurrenceType&&"months"===s.recurrenceUnit)&&(r.monthDay=s.monthDay),s.description.trim()&&(r.description=s.description),t(r),n||i||o(-1)},S=()=>{n&&i?i():o(-1)},k=(s.weekdays.length,s.type,"routine"===s.type&&("weekly"===s.recurrenceType||"biweekly"===s.recurrenceType||"custom"===s.recurrenceType&&"weeks"===s.recurrenceUnit)),E="routine"===s.type&&("monthly"===s.recurrenceType||"custom"===s.recurrenceType&&"months"===s.recurrenceUnit),T=()=>{if(!s.notifyBefore)return"";if(-1===s.notifyOption)return"Personalizzato";const e=oY.find((e=>e.value===s.notifyOption));return e?e.label:""},j=()=>"routine"===s.type&&(!s.startDate||("custom"===s.durationType&&!s.endDate||(!(!k||0!==s.weekdays.length)||"custom"===s.recurrenceType&&(!s.recurrenceInterval||s.recurrenceInterval<=0))));return n?(0,iv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-6",children:(0,iv.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[(0,iv.jsxs)("div",{className:"flex justify-between items-center p-5 border-b",children:[(0,iv.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Nuovo Impegno"}),(0,iv.jsx)(qb,{variant:"ghost",size:"icon",onClick:S,className:"rounded-full",children:(0,iv.jsx)(eN,{className:"h-5 w-5"})})]}),(0,iv.jsx)("div",{className:"overflow-y-auto flex-1 p-6",children:(0,iv.jsxs)("form",{id:"taskDialogForm",onSubmit:x,className:"space-y-6",children:[(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Titolo"}),(0,iv.jsx)("input",{type:"text",className:"form-input",value:s.title,onChange:e=>l({...s,title:e.target.value}),required:!0})]}),(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Descrizione (opzionale)"}),(0,iv.jsx)("textarea",{className:"form-textarea",value:s.description,onChange:e=>l({...s,description:e.target.value}),rows:3})]}),(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Tipo"}),(0,iv.jsxs)("select",{className:"form-select",value:s.type,onChange:e=>l({...s,type:e.target.value,weekdays:[]}),children:[(0,iv.jsx)("option",{value:"routine",children:"Routine"}),(0,iv.jsx)("option",{value:"oneTime",children:"Una tantum"})]})]}),"routine"===s.type?(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Orario"}),(0,iv.jsx)("input",{type:"time",className:"form-input",value:s.time,onChange:e=>l({...s,time:e.target.value})})]}),(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Cadenza"}),(0,iv.jsx)("select",{className:"form-select mb-3",value:s.recurrenceType,onChange:e=>w(e.target.value),children:rY.map((e=>(0,iv.jsx)("option",{value:e.value,children:e.label},e.value)))}),"custom"===s.recurrenceType&&(0,iv.jsxs)("div",{className:"flex items-center space-x-3 mb-2 mt-4",children:[(0,iv.jsx)("label",{className:"whitespace-nowrap text-sm text-gray-700",children:"Ogni"}),(0,iv.jsx)("input",{type:"number",min:"1",max:"365",className:"w-20 py-3 px-4 rounded-lg border-gray-300 shadow-sm",value:s.recurrenceInterval,onChange:e=>l({...s,recurrenceInterval:parseInt(e.target.value)||1})}),(0,iv.jsx)("select",{className:"form-select ml-2",value:s.recurrenceUnit,onChange:e=>{const t=e.target.value;l((e=>({...e,recurrenceUnit:t,weekdays:"weeks"!==t&&"weeks"===e.recurrenceUnit?[]:e.weekdays,interactionState:{...e.interactionState,hasChangedRecurrenceUnit:!0}})))},children:iY.map((e=>(0,iv.jsx)("option",{value:e.value,children:e.label},e.value)))})]})]}),k&&(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Giorni della settimana"}),(0,iv.jsx)("div",{className:"options-group",children:eY.map((e=>(0,iv.jsx)("button",{type:"button",className:"option-button px-4 py-3 "+(s.weekdays.includes(e.id)?"bg-primary-100 border-primary-500 text-primary-700":"border border-gray-300 hover:bg-gray-50"),onClick:()=>f(e.id),children:e.label},e.id)))})]}),E&&(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Giorno del mese"}),(0,iv.jsx)("select",{className:"form-select",value:s.monthDay,onChange:e=>p(parseInt(e.target.value)),children:tY.map((e=>(0,iv.jsx)("option",{value:e.id,children:e.id},e.id)))})]}),(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Data Inizio"}),(0,iv.jsx)("input",{type:"date",className:"form-input",value:s.startDate,onChange:e=>l({...s,startDate:e.target.value})})]}),(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Durata"}),(0,iv.jsx)("select",{className:"form-select mb-3",value:s.durationType,onChange:e=>m(e.target.value),children:nY.map((e=>(0,iv.jsx)("option",{value:e.id,children:e.label},e.id)))}),"custom"===s.durationType&&(0,iv.jsx)("input",{type:"date",className:"form-input mt-3",value:s.endDate,min:s.startDate,onChange:e=>l({...s,endDate:e.target.value})})]})]}):(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Data"}),(0,iv.jsx)("input",{type:"date",className:"form-input",value:s.date,onChange:e=>l({...s,date:e.target.value})})]}),(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Orario"}),(0,iv.jsx)("input",{type:"time",className:"form-input",value:s.time,onChange:e=>l({...s,time:e.target.value})})]})]}),c&&(0,iv.jsxs)("div",{className:"space-y-4",children:[(0,iv.jsxs)("div",{className:"notification-option",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"font-medium text-gray-800",children:"Notifica"}),(0,iv.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:s.notifyBefore?T():"Notifiche disattivate"})]}),(0,iv.jsx)(qb,{type:"button",variant:s.notifyBefore?"default":"outline",className:"rounded-full h-12 w-12 p-0 flex items-center justify-center",onClick:g,children:s.notifyBefore?(0,iv.jsx)(Gb,{className:"h-6 w-6"}):(0,iv.jsx)(XG,{className:"h-6 w-6"})})]}),s.notifyBefore&&(0,iv.jsxs)("div",{className:"form-section",children:[(0,iv.jsx)("label",{className:"form-label",children:"Notifica in anticipo"}),(0,iv.jsx)("select",{className:"form-select mb-3",value:s.notifyOption,onChange:e=>y(parseInt(e.target.value)),children:oY.map((e=>(0,iv.jsx)("option",{value:e.value,children:e.label},e.value)))}),d&&(0,iv.jsxs)("div",{className:"flex items-center space-x-3 mt-3",children:[(0,iv.jsx)("input",{type:"number",min:"1",placeholder:"Tempo",className:"w-24 py-3 px-4 rounded-lg border-gray-300 shadow-sm",value:s.customNotifyTime,onChange:e=>v(e.target.value)}),(0,iv.jsx)("select",{className:"form-select",value:s.notifyTimeUnit,onChange:e=>b(e.target.value),children:aY.map((e=>(0,iv.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,iv.jsx)("span",{className:"text-sm text-gray-500",children:"prima"})]})]})]}),!c&&s.time&&(0,iv.jsx)("div",{className:"text-sm text-amber-600 bg-amber-50 p-4 rounded-lg",children:"Per ricevere notifiche per questo impegno, abilita i permessi per le notifiche nel tuo browser."})]})}),(0,iv.jsx)("div",{className:"border-t p-5 bg-gray-50 rounded-b-xl",children:(0,iv.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,iv.jsx)(qb,{variant:"outline",type:"button",onClick:S,className:"px-6 py-3 text-base",children:"Annulla"}),(0,iv.jsx)(qb,{type:"submit",form:"taskDialogForm",className:"px-6 py-3 text-base",disabled:j(),children:"Salva"})]})})]})}):(0,iv.jsx)(ZG,{children:(0,iv.jsxs)("div",{className:"fixed inset-0 bg-gray-50 z-50 flex flex-col",children:[(0,iv.jsx)("div",{className:"sticky top-0 flex justify-between items-center p-4 border-b bg-white z-10",children:(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)(qb,{variant:"ghost",size:"icon",onClick:S,className:"mr-2",children:(0,iv.jsx)(QG,{className:"h-5 w-5"})}),(0,iv.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Nuovo Impegno"})]})}),(0,iv.jsx)("div",{className:"overflow-y-auto flex-1 pb-20",children:(0,iv.jsx)("div",{className:"container max-w-md mx-auto p-4",children:(0,iv.jsxs)("form",{id:"taskPageForm",onSubmit:x,className:"space-y-6",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titolo"}),(0,iv.jsx)("input",{type:"text",className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.title,onChange:e=>l({...s,title:e.target.value}),required:!0})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrizione (opzionale)"}),(0,iv.jsx)("textarea",{className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.description,onChange:e=>l({...s,description:e.target.value}),rows:2})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,iv.jsxs)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.type,onChange:e=>l({...s,type:e.target.value,weekdays:[]}),children:[(0,iv.jsx)("option",{value:"routine",children:"Routine"}),(0,iv.jsx)("option",{value:"oneTime",children:"Una tantum"})]})]}),"routine"===s.type?(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Orario"}),(0,iv.jsx)("input",{type:"time",className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.time,onChange:e=>l({...s,time:e.target.value})})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cadenza"}),(0,iv.jsx)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 mb-2",value:s.recurrenceType,onChange:e=>w(e.target.value),children:rY.map((e=>(0,iv.jsx)("option",{value:e.value,children:e.label},e.value)))}),"custom"===s.recurrenceType&&(0,iv.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,iv.jsx)("label",{className:"whitespace-nowrap text-sm text-gray-700",children:"Ogni"}),(0,iv.jsx)("input",{type:"number",min:"0",max:"100",className:"w-16 rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.recurrenceInterval,onChange:e=>l({...s,recurrenceInterval:parseInt(e.target.value)||0})}),(0,iv.jsx)("select",{className:"rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.recurrenceUnit,onChange:e=>{const t=e.target.value;l((e=>({...e,recurrenceUnit:t,weekdays:"weeks"!==t&&"weeks"===e.recurrenceUnit?[]:e.weekdays,interactionState:{...e.interactionState,hasChangedRecurrenceUnit:!0}})))},children:iY.map((e=>(0,iv.jsx)("option",{value:e.value,children:e.label},e.value)))})]})]}),k&&(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giorni della settimana"}),(0,iv.jsx)("div",{className:"flex flex-wrap gap-2",children:eY.map((e=>(0,iv.jsx)("button",{type:"button",className:"px-3 py-2 rounded-lg text-sm transition-colors "+(s.weekdays.includes(e.id)?"bg-primary-100 border border-primary-500 text-primary-700":"border border-gray-300 hover:bg-gray-50"),onClick:()=>f(e.id),children:e.label},e.id)))})]}),E&&(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giorno del mese"}),(0,iv.jsx)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.monthDay,onChange:e=>p(parseInt(e.target.value)),children:tY.map((e=>(0,iv.jsx)("option",{value:e.id,children:e.label},e.id)))})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Inizio"}),(0,iv.jsx)("input",{type:"date",className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.startDate,onChange:e=>l({...s,startDate:e.target.value})})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durata"}),(0,iv.jsx)("select",{className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 mb-2",value:s.durationType,onChange:e=>m(e.target.value),children:nY.map((e=>(0,iv.jsx)("option",{value:e.id,children:e.label},e.id)))}),"custom"===s.durationType&&(0,iv.jsx)("input",{type:"date",className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.endDate,min:s.startDate,onChange:e=>l({...s,endDate:e.target.value})})]})]}):(0,iv.jsxs)(iv.Fragment,{children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),(0,iv.jsx)("input",{type:"date",className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.date,onChange:e=>l({...s,date:e.target.value})})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Orario"}),(0,iv.jsx)("input",{type:"time",className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.time,onChange:e=>l({...s,time:e.target.value})})]})]}),c&&(0,iv.jsxs)("div",{className:"space-y-3",children:[(0,iv.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 rounded-lg",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("p",{className:"font-medium text-gray-800",children:"Notifica"}),(0,iv.jsx)("p",{className:"text-sm text-gray-500",children:s.notifyBefore?T():"Notifiche disattivate"})]}),(0,iv.jsx)(qb,{type:"button",variant:s.notifyBefore?"default":"outline",className:"rounded-full h-10 w-10 p-0 flex items-center justify-center",onClick:g,children:s.notifyBefore?(0,iv.jsx)(Gb,{className:"h-5 w-5"}):(0,iv.jsx)(XG,{className:"h-5 w-5"})})]}),s.notifyBefore&&(0,iv.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notifica in anticipo"}),(0,iv.jsx)("select",{className:"w-full mb-2 rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.notifyOption,onChange:e=>y(parseInt(e.target.value)),children:oY.map((e=>(0,iv.jsx)("option",{value:e.value,children:e.label},e.value)))}),d&&(0,iv.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,iv.jsx)("input",{type:"number",min:"1",placeholder:"Tempo",className:"w-20 rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.customNotifyTime,onChange:e=>v(e.target.value)}),(0,iv.jsx)("select",{className:"rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",value:s.notifyTimeUnit,onChange:e=>b(e.target.value),children:aY.map((e=>(0,iv.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,iv.jsx)("span",{className:"text-sm text-gray-500",children:"prima"})]})]})]}),!c&&s.time&&(0,iv.jsx)("div",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg",children:"Per ricevere notifiche per questo impegno, abilita i permessi per le notifiche nel tuo browser."})]})})}),(0,iv.jsx)("div",{className:"sticky bottom-0 left-0 right-0 border-t p-4 bg-white",children:(0,iv.jsxs)("div",{className:"container max-w-md mx-auto flex justify-between space-x-3",children:[(0,iv.jsx)(qb,{variant:"outline",onClick:S,className:"px-6 py-2 h-12 text-base",children:"Annulla"}),(0,iv.jsx)(qb,{type:"submit",form:"taskPageForm",className:"px-6 py-2 h-12 text-base",disabled:j(),children:"Salva"})]})})]})})},lY=()=>{const{addTask:e}=Cb();return(0,iv.jsx)(sY,{onSubmit:async t=>{await e(t)},isDialog:!1})},cY=Ib("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),uY=[{id:"daily",name:"Giornaliero",description:"Riparte da zero ogni giorno"},{id:"weekly",name:"Settimanale",description:"Riparte da zero ogni settimana"},{id:"monthly",name:"Mensile",description:"Riparte da zero ogni mese"},{id:"cumulative",name:"Cumulativo",description:"Mantiene il valore nel tempo"}],dY=e=>{let{onSubmit:t,isLoading:n=!1,isDialog:i=!1,onClose:o}=e;const a=J(),{setShowFooter:s}=oN();(0,r.useEffect)((()=>{if(!i)return s(!1),()=>s(!0)}),[i,s]);const[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)("daily"),[p,m]=(0,r.useState)(void 0),[g,y]=(0,r.useState)(sb(new Date,"yyyy-MM-dd")),[v,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(sb(CN(new Date,3),"yyyy-MM-dd")),[S,k]=(0,r.useState)({}),[E,T]=(0,r.useState)(""),j=async e=>{e.preventDefault();const n={};if(l.trim()||(n.name="Il nome \xe8 obbligatorio"),void 0!==p&&p<=0&&(n.goal="L'obiettivo deve essere maggiore di zero"),Object.keys(n).length>0)return void k(n);const r={name:l,description:u.trim()||void 0,type:h,goal:void 0!==p?p:void 0,startDate:g,endDate:v?w:void 0};t(r),i||o||(c(""),d(""),f("daily"),m(void 0),b(!1),y(sb(new Date,"yyyy-MM-dd")),x(sb(CN(new Date,3),"yyyy-MM-dd")),T("Contatore creato con successo!"),setTimeout((()=>{a("/")}),1500))},N=()=>{i&&o?o():a(-1)};return i?(0,iv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-6",children:(0,iv.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col",children:[(0,iv.jsxs)("div",{className:"flex justify-between items-center p-5 border-b",children:[(0,iv.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Nuovo Contatore"}),(0,iv.jsx)(qb,{variant:"ghost",size:"icon",onClick:N,className:"rounded-full",children:(0,iv.jsx)(eN,{className:"h-5 w-5"})})]}),(0,iv.jsx)("div",{className:"overflow-y-auto flex-1 p-6",children:(0,iv.jsxs)("form",{id:"counterDialogForm",onSubmit:j,className:"space-y-6",children:[(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{htmlFor:"name",className:"form-label",children:"Nome contatore *"}),(0,iv.jsx)("input",{id:"name",type:"text",value:l,onChange:e=>c(e.target.value),className:"form-input "+(S.name?"border-red-500":""),placeholder:"Es. Bicchieri d'acqua",required:!0}),S.name&&(0,iv.jsx)("p",{className:"text-sm text-red-500 mt-1",children:S.name})]}),(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{htmlFor:"description",className:"form-label",children:"Descrizione (opzionale)"}),(0,iv.jsx)("textarea",{id:"description",value:u,onChange:e=>d(e.target.value),className:"form-textarea",rows:2,placeholder:"Es. Tieni traccia dell'acqua che bevi quotidianamente"})]}),(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{className:"form-label",children:"Tipo di contatore *"}),(0,iv.jsx)("div",{className:"grid grid-cols-1 gap-3",children:uY.map((e=>{let t,n="",r="";return"daily"===e.id?(t=(0,iv.jsx)(Hb,{className:"h-5 w-5 text-primary-500"}),n="bg-primary-50",r="border-primary-200"):"weekly"===e.id?(t=(0,iv.jsx)(wN,{className:"h-5 w-5 text-secondary-500"}),n="bg-secondary-50",r="border-secondary-200"):"monthly"===e.id?(t=(0,iv.jsx)(hN,{className:"h-5 w-5 text-tertiary-500"}),n="bg-tertiary-50",r="border-tertiary-200"):"cumulative"===e.id&&(t=(0,iv.jsx)(Zj,{className:"h-5 w-5 text-amber-500"}),n="bg-amber-50",r="border-amber-200"),(0,iv.jsx)(Yj.div,{className:`p-3 rounded-xl border ${h===e.id?`${n} ${r} shadow-sm`:"border-gray-200 hover:bg-gray-50"} cursor-pointer transition-all`,onClick:()=>f(e.id),whileHover:{y:-2},whileTap:{scale:.98},children:(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3 "+(h===e.id?"bg-white":"bg-gray-50"),children:t}),(0,iv.jsxs)("div",{className:"flex-1",children:[(0,iv.jsx)("h3",{className:"text-gray-900 font-medium",children:e.name}),(0,iv.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]}),(0,iv.jsx)("input",{type:"radio",checked:h===e.id,onChange:()=>f(e.id),className:"mr-1"})]})},e.id)}))})]}),(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{htmlFor:"goal",className:"form-label",children:"Obiettivo (opzionale)"}),(0,iv.jsxs)("div",{className:"flex relative",children:[(0,iv.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,iv.jsx)(nN,{className:"w-5 h-5 text-primary-500"})}),(0,iv.jsx)("input",{id:"goal",type:"number",value:void 0===p?"":p,onChange:e=>m(e.target.value?Number(e.target.value):void 0),className:`form-input pl-10 ${S.goal?"border-red-500":"border-gray-300"} bg-white shadow-sm rounded-xl`,placeholder:"Es. 8 bicchieri d'acqua",min:"1"})]}),S.goal?(0,iv.jsx)("p",{className:"text-sm text-red-500 mt-1",children:S.goal}):(0,iv.jsxs)(Yj.p,{className:"form-hint flex items-center mt-2 text-gray-500 text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[(0,iv.jsx)(Kb,{className:"inline w-4 h-4 mr-1.5 text-primary-400"}),"Imposta un valore target da raggiungere"]})]}),(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsx)("label",{htmlFor:"startDate",className:"form-label",children:"Data di inizio"}),(0,iv.jsxs)("div",{className:"flex relative",children:[(0,iv.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,iv.jsx)(Hb,{className:"w-5 h-5 text-primary-500"})}),(0,iv.jsx)("input",{id:"startDate",type:"date",value:g,onChange:e=>y(e.target.value),className:"form-input pl-10 border-gray-300 bg-white shadow-sm rounded-xl w-full"})]}),(0,iv.jsxs)(Yj.p,{className:"form-hint flex items-center mt-2 text-gray-500 text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[(0,iv.jsx)(Kb,{className:"inline w-4 h-4 mr-1.5 text-primary-400"}),"Data da cui il contatore sar\xe0 attivo"]})]}),(0,iv.jsxs)("div",{className:"form-group",children:[(0,iv.jsxs)("div",{className:"flex items-center mb-3 p-3 rounded-xl bg-gray-50 border border-gray-200",children:[(0,iv.jsx)("input",{id:"hasEndDate",type:"checkbox",checked:v,onChange:e=>b(e.target.checked),className:"mr-3 h-5 w-5 accent-primary-500"}),(0,iv.jsx)("label",{htmlFor:"hasEndDate",className:"text-sm font-medium text-gray-700",children:"Imposta una data di fine"})]}),v&&(0,iv.jsxs)(Yj.div,{className:"flex relative mt-3",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[(0,iv.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,iv.jsx)(hN,{className:"w-5 h-5 text-secondary-500"})}),(0,iv.jsx)("input",{type:"date",value:w,onChange:e=>x(e.target.value),className:"form-input pl-10 border-gray-300 bg-white shadow-sm rounded-xl w-full",min:g})]}),(0,iv.jsxs)(Yj.p,{className:"form-hint flex items-center mt-2 text-gray-500 text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[(0,iv.jsx)(Kb,{className:"inline w-4 h-4 mr-1.5 text-primary-400"}),"Se non specificato, il contatore sar\xe0 attivo a tempo indeterminato"]})]}),S.form&&(0,iv.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm flex items-start",children:[(0,iv.jsx)(cY,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),(0,iv.jsx)("span",{children:S.form})]})]})}),(0,iv.jsx)("div",{className:"border-t p-5 bg-gray-50 rounded-b-xl",children:(0,iv.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,iv.jsx)(qb,{variant:"outline",type:"button",onClick:N,className:"px-6 py-3 text-base",children:"Annulla"}),(0,iv.jsx)(qb,{type:"submit",form:"counterDialogForm",isLoading:n,className:"px-6 py-3 text-base",children:n?"Creazione in corso...":"Crea contatore"})]})})]})}):(0,iv.jsx)(ZG,{children:(0,iv.jsxs)("div",{className:"fixed inset-0 bg-gray-50 z-50 flex flex-col",children:[(0,iv.jsx)("div",{className:"sticky top-0 flex justify-between items-center p-4 border-b bg-white z-10",children:(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)(qb,{variant:"ghost",size:"icon",onClick:N,className:"mr-2",children:(0,iv.jsx)(QG,{className:"h-5 w-5"})}),(0,iv.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Nuovo Contatore"})]})}),(0,iv.jsx)("div",{className:"overflow-y-auto flex-1 pb-20",children:(0,iv.jsxs)("div",{className:"container max-w-md mx-auto p-4",children:[E&&(0,iv.jsx)(Yj.div,{className:"mb-6 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:E}),(0,iv.jsxs)("form",{id:"counterPageForm",onSubmit:j,className:"space-y-6",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome contatore *"}),(0,iv.jsx)("input",{id:"name",type:"text",value:l,onChange:e=>c(e.target.value),className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 "+(S.name?"border-red-500":""),placeholder:"Es. Bicchieri d'acqua",required:!0}),S.name&&(0,iv.jsx)("p",{className:"text-sm text-red-500 mt-1",children:S.name})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrizione (opzionale)"}),(0,iv.jsx)("textarea",{id:"description",value:u,onChange:e=>d(e.target.value),className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",rows:2,placeholder:"Es. Tieni traccia dell'acqua che bevi quotidianamente"})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo di contatore *"}),(0,iv.jsx)("div",{className:"grid grid-cols-1 gap-3",children:uY.map((e=>{let t,n="",r="";return"daily"===e.id?(t=(0,iv.jsx)(Hb,{className:"h-5 w-5 text-primary-500"}),n="bg-primary-50",r="border-primary-200"):"weekly"===e.id?(t=(0,iv.jsx)(wN,{className:"h-5 w-5 text-secondary-500"}),n="bg-secondary-50",r="border-secondary-200"):"monthly"===e.id?(t=(0,iv.jsx)(hN,{className:"h-5 w-5 text-tertiary-500"}),n="bg-tertiary-50",r="border-tertiary-200"):"cumulative"===e.id&&(t=(0,iv.jsx)(Zj,{className:"h-5 w-5 text-amber-500"}),n="bg-amber-50",r="border-amber-200"),(0,iv.jsx)(Yj.div,{className:`p-3 rounded-xl border ${h===e.id?`${n} ${r} shadow-sm`:"border-gray-200 hover:bg-gray-50"} cursor-pointer transition-all`,onClick:()=>f(e.id),whileHover:{y:-2},whileTap:{scale:.98},children:(0,iv.jsxs)("div",{className:"flex items-center",children:[(0,iv.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3 "+(h===e.id?"bg-white":"bg-gray-50"),children:t}),(0,iv.jsxs)("div",{className:"flex-1",children:[(0,iv.jsx)("h3",{className:"text-gray-900 font-medium",children:e.name}),(0,iv.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]}),(0,iv.jsx)("input",{type:"radio",checked:h===e.id,onChange:()=>f(e.id),className:"mr-1"})]})},e.id)}))})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"goal",className:"block text-sm font-medium text-gray-700 mb-1",children:"Obiettivo (opzionale)"}),(0,iv.jsxs)("div",{className:"flex relative",children:[(0,iv.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,iv.jsx)(nN,{className:"w-5 h-5 text-primary-500"})}),(0,iv.jsx)("input",{id:"goal",type:"number",value:void 0===p?"":p,onChange:e=>m(e.target.value?Number(e.target.value):void 0),className:"w-full pl-10 rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 "+(S.goal?"border-red-500":""),placeholder:"Es. 8 bicchieri d'acqua",min:"1"})]}),S.goal?(0,iv.jsx)("p",{className:"text-sm text-red-500 mt-1",children:S.goal}):(0,iv.jsxs)("p",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[(0,iv.jsx)(Kb,{className:"inline w-4 h-4 mr-1.5 text-primary-400"}),"Imposta un valore target da raggiungere"]})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Data di inizio"}),(0,iv.jsxs)("div",{className:"flex relative",children:[(0,iv.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,iv.jsx)(Hb,{className:"w-5 h-5 text-primary-500"})}),(0,iv.jsx)("input",{id:"startDate",type:"date",value:g,onChange:e=>y(e.target.value),className:"w-full pl-10 rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,iv.jsxs)("p",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[(0,iv.jsx)(Kb,{className:"inline w-4 h-4 mr-1.5 text-primary-400"}),"Data da cui il contatore sar\xe0 attivo"]})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsxs)("div",{className:"flex items-center mb-3 p-3 rounded-xl bg-gray-50 border border-gray-200",children:[(0,iv.jsx)("input",{id:"hasEndDate",type:"checkbox",checked:v,onChange:e=>b(e.target.checked),className:"mr-3 h-5 w-5 accent-primary-500"}),(0,iv.jsx)("label",{htmlFor:"hasEndDate",className:"text-sm font-medium text-gray-700",children:"Imposta una data di fine"})]}),v&&(0,iv.jsxs)(Yj.div,{className:"flex relative mt-3",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[(0,iv.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,iv.jsx)(hN,{className:"w-5 h-5 text-secondary-500"})}),(0,iv.jsx)("input",{type:"date",value:w,onChange:e=>x(e.target.value),className:"w-full pl-10 rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",min:g})]}),(0,iv.jsxs)("p",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[(0,iv.jsx)(Kb,{className:"inline w-4 h-4 mr-1.5 text-primary-400"}),"Se non specificato, il contatore sar\xe0 attivo a tempo indeterminato"]})]}),S.form&&(0,iv.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm flex items-start",children:[(0,iv.jsx)(cY,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),(0,iv.jsx)("span",{children:S.form})]})]})]})}),(0,iv.jsx)("div",{className:"sticky bottom-0 left-0 right-0 border-t p-4 bg-white",children:(0,iv.jsxs)("div",{className:"container max-w-md mx-auto flex justify-between space-x-3",children:[(0,iv.jsx)(qb,{variant:"outline",onClick:N,className:"px-6 py-2 h-12 text-base",children:"Annulla"}),(0,iv.jsx)(qb,{type:"submit",form:"counterPageForm",isLoading:n,className:"px-6 py-2 h-12 text-base",children:n?"Creazione in corso...":"Crea contatore"})]})})]})})},hY=()=>{const{addCounter:e,isLoading:t}=Cb();return(0,iv.jsx)(dY,{onSubmit:async t=>{try{await e(t)}catch(n){throw console.error("Errore durante la creazione del contatore:",n),n}},isLoading:t,isDialog:!1})},fY=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),{login:d,loginWithGoogle:h}=av(),f=J();return(0,iv.jsxs)("div",{className:"mx-auto max-w-md w-full space-y-6 p-6 bg-white rounded-xl shadow-sm",children:[(0,iv.jsxs)("div",{className:"text-center",children:[(0,iv.jsx)("h1",{className:"text-2xl font-bold",children:"Accedi"}),(0,iv.jsx)("p",{className:"text-gray-500 mt-2",children:"Continua la tua routine quotidiana"})]}),o&&(0,iv.jsx)(mG,{variant:"destructive",children:(0,iv.jsx)(gG,{children:o})}),(0,iv.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{a(""),l(!0),await d(e,n),f("/")}catch(r){a("Accesso fallito. Per favore controlla le tue credenziali."),console.error(r)}finally{l(!1)}},className:"space-y-4",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,iv.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,iv.jsx)("input",{id:"password",type:"password",value:n,onChange:e=>i(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),(0,iv.jsx)("div",{className:"flex items-center justify-between",children:(0,iv.jsx)("div",{className:"text-sm",children:(0,iv.jsx)(je,{to:"/reset-password",className:"text-primary-600 hover:text-primary-500",children:"Password dimenticata?"})})}),(0,iv.jsx)(qb,{type:"submit",className:"w-full",disabled:s,children:s?"Accesso in corso...":"Accedi"})]}),(0,iv.jsxs)("div",{className:"relative",children:[(0,iv.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,iv.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,iv.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,iv.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Oppure continua con"})})]}),(0,iv.jsxs)(qb,{type:"button",variant:"outline",className:"w-full flex items-center justify-center",onClick:async()=>{try{a(""),u(!0),await h(),f("/")}catch(e){a("Accesso con Google fallito. Riprova pi\xf9 tardi."),console.error(e)}finally{u(!1)}},disabled:c,children:[(0,iv.jsx)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:(0,iv.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032 s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2 C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z",fill:"#EA4335"})}),c?"Connessione in corso...":"Accedi con Google"]}),(0,iv.jsxs)("div",{className:"text-center text-sm",children:[(0,iv.jsx)("span",{className:"text-gray-500",children:"Non hai un account? "}),(0,iv.jsx)(je,{to:"/signup",className:"text-primary-600 hover:text-primary-500",children:"Registrati"})]})]})},pY=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),{signup:m,loginWithGoogle:g}=av(),y=J();return(0,iv.jsxs)("div",{className:"mx-auto max-w-md w-full space-y-6 p-6 bg-white rounded-xl shadow-sm",children:[(0,iv.jsxs)("div",{className:"text-center",children:[(0,iv.jsx)("h1",{className:"text-2xl font-bold",children:"Crea un account"}),(0,iv.jsx)("p",{className:"text-gray-500 mt-2",children:"Inizia a tracciare la tua routine quotidiana"})]}),c&&(0,iv.jsx)(mG,{variant:"destructive",children:(0,iv.jsx)(gG,{children:c})}),(0,iv.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),o!==s)return u("Le password non corrispondono");try{u(""),h(!0),await m(n,o,e),y("/")}catch(r){u("Registrazione fallita. Riprova pi\xf9 tardi."),console.error(r)}finally{h(!1)}},className:"space-y-4",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome"}),(0,iv.jsx)("input",{id:"name",type:"text",value:e,onChange:e=>t(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,iv.jsx)("input",{id:"email",type:"email",value:n,onChange:e=>i(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,iv.jsx)("input",{id:"password",type:"password",value:o,onChange:e=>a(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Conferma Password"}),(0,iv.jsx)("input",{id:"confirmPassword",type:"password",value:s,onChange:e=>l(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),(0,iv.jsx)(qb,{type:"submit",className:"w-full",disabled:d,children:d?"Registrazione in corso...":"Registrati"})]}),(0,iv.jsxs)("div",{className:"relative",children:[(0,iv.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,iv.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,iv.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,iv.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Oppure continua con"})})]}),(0,iv.jsxs)(qb,{type:"button",variant:"outline",className:"w-full flex items-center justify-center",onClick:async()=>{try{u(""),p(!0),await g(),y("/")}catch(e){u("Registrazione con Google fallita. Riprova pi\xf9 tardi."),console.error(e)}finally{p(!1)}},disabled:f,children:[(0,iv.jsx)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:(0,iv.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032 s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2 C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z",fill:"#EA4335"})}),f?"Connessione in corso...":"Registrati con Google"]}),(0,iv.jsxs)("div",{className:"text-center text-sm",children:[(0,iv.jsx)("span",{className:"text-gray-500",children:"Hai gi\xe0 un account? "}),(0,iv.jsx)(je,{to:"/login",className:"text-primary-600 hover:text-primary-500",children:"Accedi"})]})]})},mY=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1),{resetPassword:c}=av();return(0,iv.jsxs)("div",{className:"mx-auto max-w-md w-full space-y-6 p-6 bg-white rounded-xl shadow-sm",children:[(0,iv.jsxs)("div",{className:"text-center",children:[(0,iv.jsx)("h1",{className:"text-2xl font-bold",children:"Reset Password"}),(0,iv.jsx)("p",{className:"text-gray-500 mt-2",children:"Ti invieremo un link per reimpostare la password"})]}),n&&(0,iv.jsx)(mG,{variant:"destructive",children:(0,iv.jsx)(gG,{children:n})}),o&&(0,iv.jsx)(mG,{variant:"success",children:(0,iv.jsx)(gG,{children:o})}),(0,iv.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{i(""),a(""),l(!0),await c(e),a("Controlla la tua email per le istruzioni di reset.")}catch(n){i("Impossibile inviare email di reset. Verifica che l'email sia corretta."),console.error(n)}finally{l(!1)}},className:"space-y-4",children:[(0,iv.jsxs)("div",{children:[(0,iv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,iv.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0})]}),(0,iv.jsx)(qb,{type:"submit",className:"w-full",disabled:s,children:s?"Invio in corso...":"Invia Link di Reset"}),(0,iv.jsx)("div",{className:"text-center text-sm",children:(0,iv.jsx)(je,{to:"/login",className:"text-primary-600 hover:text-primary-500",children:"Torna al Login"})})]})]})};const gY=e=>{let{children:t}=e;const{currentUser:n,isLoading:r}=av(),i=X();return r?(0,iv.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):n?(0,iv.jsx)(iv.Fragment,{children:t}):(0,iv.jsx)(he,{to:"/login",state:{from:i},replace:!0})},yY=e=>{var t,n;let{children:r}=e;const{currentUser:i,isLoading:o}=av(),a=(null===(t=X().state)||void 0===t||null===(n=t.from)||void 0===n?void 0:n.pathname)||"/";return o?(0,iv.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):i?(0,iv.jsx)(he,{to:a,replace:!0}):(0,iv.jsx)(iv.Fragment,{children:r})},vY=()=>{const e=X();return function(){const{toggleTaskComplete:e,deleteTask:t,deleteRoutineOccurrence:n,tasks:i,counters:o}=Cb(),a=(0,r.useCallback)((t=>{const n=i.find((e=>e.id===t));if(!n)return void console.error(`Task non trovato con ID: ${t}`);if("oneTime"===n.type)return console.log(`Completamento task una tantum: ${t}`),void e(t);const r=(new Date).toISOString().split("T")[0];console.log(`Completamento task ricorrente: ${t} per la data ${r}`),e(t,r)}),[i,e]),s=(0,r.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;console.log(`Posticipo task: ${e} di ${t} minuti`),"Notification"in window&&"granted"===Notification.permission&&new Notification("Task posticipato",{body:`Ti avviseremo di nuovo tra ${t} minuti`,icon:"/logo192.png"})}),[]),l=(0,r.useCallback)(((e,t)=>{i.find((t=>t.id===e))?(console.log(`Feedback ricevuto per il task ${e}: ${t}`),"Notification"in window&&"granted"===Notification.permission&&new Notification("Feedback ricevuto",{body:"Grazie per il tuo feedback!",icon:"/logo192.png"})):console.error(`Task non trovato con ID: ${e}`)}),[i]),c=(0,r.useCallback)((e=>{console.log("Messaggio dal service worker:",e.data);const{action:t,taskId:n,feedback:r,minutes:i}=e.data;"complete-task"===t&&n&&a(n),"snooze-task"===t&&n&&s(n,i||15),"feedback"===t&&n&&r&&l(n,r)}),[a,s,l]);(0,r.useEffect)((()=>{const e=localStorage.getItem("pendingAction");if(e)try{const t=JSON.parse(e);c(new MessageEvent("message",{data:t}))}catch(t){console.error("Errore durante l'elaborazione dell'azione in pendenza:",t)}finally{localStorage.removeItem("pendingAction")}return"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",c),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",c)}}),[c])}(),(0,iv.jsx)(Ye,{mode:"wait",children:(0,iv.jsxs)(me,{location:e,children:[(0,iv.jsx)(fe,{path:"/",element:(0,iv.jsx)(gY,{children:(0,iv.jsx)(TN,{})})}),(0,iv.jsx)(fe,{path:"/calendar",element:(0,iv.jsx)(gY,{children:(0,iv.jsx)(PN,{})})}),(0,iv.jsx)(fe,{path:"/stats",element:(0,iv.jsx)(gY,{children:(0,iv.jsx)(fG,{})})}),(0,iv.jsx)(fe,{path:"/settings",element:(0,iv.jsx)(gY,{children:(0,iv.jsx)(YG,{})})}),(0,iv.jsx)(fe,{path:"/create-task",element:(0,iv.jsx)(gY,{children:(0,iv.jsx)(lY,{})})}),(0,iv.jsx)(fe,{path:"/create-counter",element:(0,iv.jsx)(gY,{children:(0,iv.jsx)(hY,{})})}),(0,iv.jsx)(fe,{path:"*",element:(0,iv.jsx)(he,{to:"/",replace:!0})})]},e.pathname)})};const bY=function(){return(0,iv.jsx)(sv,{children:(0,iv.jsx)(_b,{children:(0,iv.jsxs)(aN,{children:[" ",(0,iv.jsx)(ke,{children:(0,iv.jsxs)(me,{children:[(0,iv.jsx)(fe,{path:"/login",element:(0,iv.jsx)(yY,{children:(0,iv.jsx)(fY,{})})}),(0,iv.jsx)(fe,{path:"/signup",element:(0,iv.jsx)(yY,{children:(0,iv.jsx)(pY,{})})}),(0,iv.jsx)(fe,{path:"/reset-password",element:(0,iv.jsx)(yY,{children:(0,iv.jsx)(mY,{})})}),(0,iv.jsx)(fe,{path:"/*",element:(0,iv.jsx)(sN,{children:(0,iv.jsx)(vY,{})})})]})})]})})})},wY=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((e=>{console.log("Service Worker registrato con successo:",e)})).catch((e=>{console.error("Errore durante la registrazione del Service Worker:",e)}))}));o.createRoot(document.getElementById("root")).render((0,iv.jsx)(r.StrictMode,{children:(0,iv.jsx)(bY,{})})),wY()})()})();
//# sourceMappingURL=main.fe0e1a15.js.map